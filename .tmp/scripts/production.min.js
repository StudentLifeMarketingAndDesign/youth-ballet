!function(t){var d=Array.prototype.slice;function e(){}function i(h){if(h){var c="undefined"==typeof console?e:function(t){console.error(t)};return h.bridget=function(t,e){var i,a,l;(i=e).prototype.option||(i.prototype.option=function(t){h.isPlainObject(t)&&(this.options=h.extend(!0,this.options,t))}),a=t,l=e,h.fn[a]=function(e){if("string"!=typeof e)return this.each(function(){var t=h.data(this,a);t?(t.option(e),t._init()):(t=new l(this,e),h.data(this,a,t))});for(var t=d.call(arguments,1),i=0,n=this.length;i<n;i++){var o=this[i],s=h.data(o,a);if(s)if(h.isFunction(s[e])&&"_"!==e.charAt(0)){var r=s[e].apply(s,t);if(void 0!==r)return r}else c("no such method '"+e+"' for "+a+" instance");else c("cannot call methods on "+a+" prior to initialization; attempted to call '"+e+"'")}return this}},h.bridget}}"function"==typeof define&&define.amd?define("jquery-bridget/jquery.bridget",["jquery"],i):"object"==typeof exports?i(require("jquery")):i(t.jQuery)}(window),function(t){function i(t){return new RegExp("(^|\\s+)"+t+"(\\s+|$)")}var n,o,s;function e(t,e){(n(t,e)?s:o)(t,e)}s="classList"in document.documentElement?(n=function(t,e){return t.classList.contains(e)},o=function(t,e){t.classList.add(e)},function(t,e){t.classList.remove(e)}):(n=function(t,e){return i(e).test(t.className)},o=function(t,e){n(t,e)||(t.className=t.className+" "+e)},function(t,e){t.className=t.className.replace(i(e)," ")});var r={hasClass:n,addClass:o,removeClass:s,toggleClass:e,has:n,add:o,remove:s,toggle:e};"function"==typeof define&&define.amd?define("classie/classie",r):"object"==typeof exports?module.exports=r:t.classie=r}(window),function(){"use strict";function t(){}var e=t.prototype,i=this,n=i.EventEmitter;function s(t,e){for(var i=t.length;i--;)if(t[i].listener===e)return i;return-1}function o(t){return function(){return this[t].apply(this,arguments)}}e.getListeners=function(t){var e,i,n=this._getEvents();if(t instanceof RegExp)for(i in e={},n)n.hasOwnProperty(i)&&t.test(i)&&(e[i]=n[i]);else e=n[t]||(n[t]=[]);return e},e.flattenListeners=function(t){var e,i=[];for(e=0;e<t.length;e+=1)i.push(t[e].listener);return i},e.getListenersAsObject=function(t){var e,i=this.getListeners(t);return i instanceof Array&&((e={})[t]=i),e||i},e.addListener=function(t,e){var i,n=this.getListenersAsObject(t),o="object"==typeof e;for(i in n)n.hasOwnProperty(i)&&-1===s(n[i],e)&&n[i].push(o?e:{listener:e,once:!1});return this},e.on=o("addListener"),e.addOnceListener=function(t,e){return this.addListener(t,{listener:e,once:!0})},e.once=o("addOnceListener"),e.defineEvent=function(t){return this.getListeners(t),this},e.defineEvents=function(t){for(var e=0;e<t.length;e+=1)this.defineEvent(t[e]);return this},e.removeListener=function(t,e){var i,n,o=this.getListenersAsObject(t);for(n in o)o.hasOwnProperty(n)&&-1!==(i=s(o[n],e))&&o[n].splice(i,1);return this},e.off=o("removeListener"),e.addListeners=function(t,e){return this.manipulateListeners(!1,t,e)},e.removeListeners=function(t,e){return this.manipulateListeners(!0,t,e)},e.manipulateListeners=function(t,e,i){var n,o,s=t?this.removeListener:this.addListener,r=t?this.removeListeners:this.addListeners;if("object"!=typeof e||e instanceof RegExp)for(n=i.length;n--;)s.call(this,e,i[n]);else for(n in e)e.hasOwnProperty(n)&&(o=e[n])&&("function"==typeof o?s.call(this,n,o):r.call(this,n,o));return this},e.removeEvent=function(t){var e,i=typeof t,n=this._getEvents();if("string"===i)delete n[t];else if(t instanceof RegExp)for(e in n)n.hasOwnProperty(e)&&t.test(e)&&delete n[e];else delete this._events;return this},e.removeAllListeners=o("removeEvent"),e.emitEvent=function(t,e){var i,n,o,s=this.getListenersAsObject(t);for(o in s)if(s.hasOwnProperty(o))for(n=s[o].length;n--;)!0===(i=s[o][n]).once&&this.removeListener(t,i.listener),i.listener.apply(this,e||[])===this._getOnceReturnValue()&&this.removeListener(t,i.listener);return this},e.trigger=o("emitEvent"),e.emit=function(t){var e=Array.prototype.slice.call(arguments,1);return this.emitEvent(t,e)},e.setOnceReturnValue=function(t){return this._onceReturnValue=t,this},e._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},e._getEvents=function(){return this._events||(this._events={})},t.noConflict=function(){return i.EventEmitter=n,t},"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],function(){return t}):"object"==typeof module&&module.exports?module.exports=t:i.EventEmitter=t}.call(this),function(i){var t=document.documentElement,e=function(){};function n(t){var e=i.event;return e.target=e.target||e.srcElement||t,e}t.addEventListener?e=function(t,e,i){t.addEventListener(e,i,!1)}:t.attachEvent&&(e=function(e,t,i){e[t+i]=i.handleEvent?function(){var t=n(e);i.handleEvent.call(i,t)}:function(){var t=n(e);i.call(e,t)},e.attachEvent("on"+t,e[t+i])});var o=function(){};t.removeEventListener?o=function(t,e,i){t.removeEventListener(e,i,!1)}:t.detachEvent&&(o=function(e,i,n){e.detachEvent("on"+i,e[i+n]);try{delete e[i+n]}catch(t){e[i+n]=void 0}});var s={bind:e,unbind:o};"function"==typeof define&&define.amd?define("eventie/eventie",s):"object"==typeof exports?module.exports=s:i.eventie=s}(window),function(t){var o="Webkit Moz ms Ms O".split(" "),s=document.documentElement.style;function e(t){if(t){if("string"==typeof s[t])return t;var e;t=t.charAt(0).toUpperCase()+t.slice(1);for(var i=0,n=o.length;i<n;i++)if(e=o[i]+t,"string"==typeof s[e])return e}}"function"==typeof define&&define.amd?define("get-style-property/get-style-property",[],function(){return e}):"object"==typeof exports?module.exports=e:t.getStyleProperty=e}(window),function(E,t){function k(t){var e=parseFloat(t);return-1===t.indexOf("%")&&!isNaN(e)&&e}var P="undefined"==typeof console?function(){}:function(t){console.error(t)},D=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"];function e(m){var b,C,x,w=!1;function S(t,e){if(E.getComputedStyle||-1===e.indexOf("%"))return e;var i=t.style,n=i.left,o=t.runtimeStyle,s=o&&o.left;return s&&(o.left=t.currentStyle.left),i.left=e,e=i.pixelLeft,i.left=n,s&&(o.left=s),e}return function(t){if(function(){if(!w){w=!0;var i,e=E.getComputedStyle;if(i=e?function(t){return e(t,null)}:function(t){return t.currentStyle},b=function(t){var e=i(t);return e||P("Style returned "+e+". Are you running this code in a hidden iframe on Firefox? See http://bit.ly/getsizebug1"),e},C=m("boxSizing")){var t=document.createElement("div");t.style.width="200px",t.style.padding="1px 2px 3px 4px",t.style.borderStyle="solid",t.style.borderWidth="1px 2px 3px 4px",t.style[C]="border-box";var n=document.body||document.documentElement;n.appendChild(t);var o=b(t);x=200===k(o.width),n.removeChild(t)}}}(),"string"==typeof t&&(t=document.querySelector(t)),t&&"object"==typeof t&&t.nodeType){var e=b(t);if("none"===e.display)return function(){for(var t={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},e=0,i=D.length;e<i;e++)t[D[e]]=0;return t}();var i={};i.width=t.offsetWidth,i.height=t.offsetHeight;for(var n=i.isBorderBox=!(!C||!e[C]||"border-box"!==e[C]),o=0,s=D.length;o<s;o++){var r=D[o],a=e[r];a=S(t,a);var l=parseFloat(a);i[r]=isNaN(l)?0:l}var h=i.paddingLeft+i.paddingRight,c=i.paddingTop+i.paddingBottom,d=i.marginLeft+i.marginRight,u=i.marginTop+i.marginBottom,p=i.borderLeftWidth+i.borderRightWidth,f=i.borderTopWidth+i.borderBottomWidth,v=n&&x,y=k(e.width);!1!==y&&(i.width=y+(v?0:h+p));var g=k(e.height);return!1!==g&&(i.height=g+(v?0:c+f)),i.innerWidth=i.width-(h+p),i.innerHeight=i.height-(c+f),i.outerWidth=i.width+d,i.outerHeight=i.height+u,i}}}"function"==typeof define&&define.amd?define("get-size/get-size",["get-style-property/get-style-property"],e):"object"==typeof exports?module.exports=e(require("desandro-get-style-property")):E.getSize=e(E.getStyleProperty)}(window),function(e){var i=e.document,n=[];function o(t){"function"==typeof t&&(o.isReady?t():n.push(t))}function s(t){var e="readystatechange"===t.type&&"complete"!==i.readyState;o.isReady||e||r()}function r(){o.isReady=!0;for(var t=0,e=n.length;t<e;t++){(0,n[t])()}}function t(t){return"complete"===i.readyState?r():(t.bind(i,"DOMContentLoaded",s),t.bind(i,"readystatechange",s),t.bind(e,"load",s)),o}o.isReady=!1,"function"==typeof define&&define.amd?define("doc-ready/doc-ready",["eventie/eventie"],t):"object"==typeof exports?module.exports=t(require("eventie")):e.docReady=t(e.eventie)}(window),function(o){"use strict";var t,i=function(){if(o.matches)return"matches";if(o.matchesSelector)return"matchesSelector";for(var t=["webkit","moz","ms","o"],e=0,i=t.length;e<i;e++){var n=t[e]+"MatchesSelector";if(o[n])return n}}();function n(t,e){return t[i](e)}function s(t){t.parentNode||document.createDocumentFragment().appendChild(t)}if(i){var e=n(document.createElement("div"),"div");t=e?n:function(t,e){return s(t),n(t,e)}}else t=function(t,e){s(t);for(var i=t.parentNode.querySelectorAll(e),n=0,o=i.length;n<o;n++)if(i[n]===t)return!0;return!1};"function"==typeof define&&define.amd?define("matches-selector/matches-selector",[],function(){return t}):"object"==typeof exports?module.exports=t:window.matchesSelector=t}(Element.prototype),function(i,n){"use strict";"function"==typeof define&&define.amd?define("fizzy-ui-utils/utils",["doc-ready/doc-ready","matches-selector/matches-selector"],function(t,e){return n(i,t,e)}):"object"==typeof exports?module.exports=n(i,require("doc-ready"),require("desandro-matches-selector")):i.fizzyUIUtils=n(i,i.docReady,i.matchesSelector)}(window,function(u,t,h){var i,p={extend:function(t,e){for(var i in e)t[i]=e[i];return t},modulo:function(t,e){return(t%e+e)%e}},e=Object.prototype.toString;p.isArray=function(t){return"[object Array]"==e.call(t)},p.makeArray=function(t){var e=[];if(p.isArray(t))e=t;else if(t&&"number"==typeof t.length)for(var i=0,n=t.length;i<n;i++)e.push(t[i]);else e.push(t);return e},p.indexOf=Array.prototype.indexOf?function(t,e){return t.indexOf(e)}:function(t,e){for(var i=0,n=t.length;i<n;i++)if(t[i]===e)return i;return-1},p.removeFrom=function(t,e){var i=p.indexOf(t,e);-1!=i&&t.splice(i,1)},p.isElement="function"==typeof HTMLElement||"object"==typeof HTMLElement?function(t){return t instanceof HTMLElement}:function(t){return t&&"object"==typeof t&&1==t.nodeType&&"string"==typeof t.nodeName},p.setText=function(t,e){t[i=i||(void 0!==document.documentElement.textContent?"textContent":"innerText")]=e},p.getParent=function(t,e){for(;t!=document.body;)if(t=t.parentNode,h(t,e))return t},p.getQueryElement=function(t){return"string"==typeof t?document.querySelector(t):t},p.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},p.filterFindElements=function(t,e){for(var i=[],n=0,o=(t=p.makeArray(t)).length;n<o;n++){var s=t[n];if(p.isElement(s))if(e){h(s,e)&&i.push(s);for(var r=s.querySelectorAll(e),a=0,l=r.length;a<l;a++)i.push(r[a])}else i.push(s)}return i},p.debounceMethod=function(t,e,n){var o=t.prototype[e],s=e+"Timeout";t.prototype[e]=function(){var t=this[s];t&&clearTimeout(t);var e=arguments,i=this;this[s]=setTimeout(function(){o.apply(i,e),delete i[s]},n||100)}},p.toDashed=function(t){return t.replace(/(.)([A-Z])/g,function(t,e,i){return e+"-"+i}).toLowerCase()};var f=u.console;return p.htmlInit=function(c,d){t(function(){for(var t=p.toDashed(d),e=document.querySelectorAll(".js-"+t),i="data-"+t+"-options",n=0,o=e.length;n<o;n++){var s,r=e[n],a=r.getAttribute(i);try{s=a&&JSON.parse(a)}catch(t){f&&f.error("Error parsing "+i+" on "+r.nodeName.toLowerCase()+(r.id?"#"+r.id:"")+": "+t);continue}var l=new c(r,s),h=u.jQuery;h&&h.data(r,d,l)}})},p}),function(e,i){"use strict";"function"==typeof define&&define.amd?define("flickity/js/cell",["get-size/get-size"],function(t){return i(e,t)}):"object"==typeof exports?module.exports=i(e,require("get-size")):(e.Flickity=e.Flickity||{},e.Flickity.Cell=i(e,e.getSize))}(window,function(t,e){function i(t,e){this.element=t,this.parent=e,this.create()}var n="attachEvent"in t;return i.prototype.create=function(){this.element.style.position="absolute",n&&this.element.setAttribute("unselectable","on"),this.x=0,this.shift=0},i.prototype.destroy=function(){this.element.style.position="";var t=this.parent.originSide;this.element.style[t]=""},i.prototype.getSize=function(){this.size=e(this.element)},i.prototype.setPosition=function(t){this.x=t,this.setDefaultTarget(),this.renderPosition(t)},i.prototype.setDefaultTarget=function(){var t="left"==this.parent.originSide?"marginLeft":"marginRight";this.target=this.x+this.size[t]+this.size.width*this.parent.cellAlign},i.prototype.renderPosition=function(t){var e=this.parent.originSide;this.element.style[e]=this.parent.getPositionValue(t)},i.prototype.wrapShift=function(t){this.shift=t,this.renderPosition(this.x+this.parent.slideableWidth*t)},i.prototype.remove=function(){this.element.parentNode.removeChild(this.element)},i}),function(i,n){"use strict";"function"==typeof define&&define.amd?define("flickity/js/animate",["get-style-property/get-style-property","fizzy-ui-utils/utils"],function(t,e){return n(i,t,e)}):"object"==typeof exports?module.exports=n(i,require("desandro-get-style-property"),require("fizzy-ui-utils")):(i.Flickity=i.Flickity||{},i.Flickity.animatePrototype=n(i,i.getStyleProperty,i.fizzyUIUtils))}(window,function(o,t,i){for(var e,s=0,n="webkit moz ms o".split(" "),r=o.requestAnimationFrame,a=o.cancelAnimationFrame,l=0;l<n.length&&(!r||!a);l++)e=n[l],r=r||o[e+"RequestAnimationFrame"],a=a||o[e+"CancelAnimationFrame"]||o[e+"CancelRequestAnimationFrame"];r&&a||(r=function(t){var e=(new Date).getTime(),i=Math.max(0,16-(e-s)),n=o.setTimeout(function(){t(e+i)},i);return s=e+i,n},a=function(t){o.clearTimeout(t)});var h={startAnimation:function(){this.isAnimating||(this.isAnimating=!0,this.restingFrames=0,this.animate())},animate:function(){this.applyDragForce(),this.applySelectedAttraction();var t=this.x;if(this.integratePhysics(),this.positionSlider(),this.settle(t),this.isAnimating){var e=this;r(function(){e.animate()})}}},c=t("transform"),d=!!t("perspective");return h.positionSlider=function(){var t=this.x;this.options.wrapAround&&1<this.cells.length&&(t=i.modulo(t,this.slideableWidth),t-=this.slideableWidth,this.shiftWrapCells(t)),t+=this.cursorPosition,t=this.options.rightToLeft&&c?-t:t;var e=this.getPositionValue(t);c?this.slider.style[c]=d&&this.isAnimating?"translate3d("+e+",0,0)":"translateX("+e+")":this.slider.style[this.originSide]=e},h.positionSliderAtSelected=function(){if(this.cells.length){var t=this.cells[this.selectedIndex];this.x=-t.target,this.positionSlider()}},h.getPositionValue=function(t){return this.options.percentPosition?.01*Math.round(t/this.size.innerWidth*1e4)+"%":Math.round(t)+"px"},h.settle=function(t){this.isPointerDown||Math.round(100*this.x)!=Math.round(100*t)||this.restingFrames++,2<this.restingFrames&&(this.isAnimating=!1,delete this.isFreeScrolling,d&&this.positionSlider(),this.dispatchEvent("settle"))},h.shiftWrapCells=function(t){var e=this.cursorPosition+t;this._shiftCells(this.beforeShiftCells,e,-1);var i=this.size.innerWidth-(t+this.slideableWidth+this.cursorPosition);this._shiftCells(this.afterShiftCells,i,1)},h._shiftCells=function(t,e,i){for(var n=0,o=t.length;n<o;n++){var s=t[n],r=0<e?i:0;s.wrapShift(r),e-=s.size.outerWidth}},h._unshiftCells=function(t){if(t&&t.length)for(var e=0,i=t.length;e<i;e++)t[e].wrapShift(0)},h.integratePhysics=function(){this.velocity+=this.accel,this.x+=this.velocity,this.velocity*=this.getFrictionFactor(),this.accel=0},h.applyForce=function(t){this.accel+=t},h.getFrictionFactor=function(){return 1-this.options[this.isFreeScrolling?"freeScrollFriction":"friction"]},h.getRestingPosition=function(){return this.x+this.velocity/(1-this.getFrictionFactor())},h.applyDragForce=function(){if(this.isPointerDown){var t=this.dragX-this.x-this.velocity;this.applyForce(t)}},h.applySelectedAttraction=function(){var t=this.cells.length;if(!this.isPointerDown&&!this.isFreeScrolling&&t){var e=this.cells[this.selectedIndex],i=this.options.wrapAround&&1<t?this.slideableWidth*Math.floor(this.selectedIndex/t):0,n=(-1*(e.target+i)-this.x)*this.options.selectedAttraction;this.applyForce(n)}},h}),function(a,l){"use strict";if("function"==typeof define&&define.amd)define("flickity/js/flickity",["classie/classie","eventEmitter/EventEmitter","eventie/eventie","get-size/get-size","fizzy-ui-utils/utils","./cell","./animate"],function(t,e,i,n,o,s,r){return l(a,t,e,i,n,o,s,r)});else if("object"==typeof exports)module.exports=l(a,require("desandro-classie"),require("wolfy87-eventemitter"),require("eventie"),require("get-size"),require("fizzy-ui-utils"),require("./cell"),require("./animate"));else{var t=a.Flickity;a.Flickity=l(a,a.classie,a.EventEmitter,a.eventie,a.getSize,a.fizzyUIUtils,t.Cell,t.animatePrototype)}}(window,function(n,i,t,o,e,a,l,s){var r=n.jQuery,h=n.getComputedStyle,c=n.console;function d(t,e){for(t=a.makeArray(t);t.length;)e.appendChild(t.shift())}var u=0,p={};function f(t,e){var i=a.getQueryElement(t);i?(this.element=i,r&&(this.$element=r(this.element)),this.options=a.extend({},this.constructor.defaults),this.option(e),this._create()):c&&c.error("Bad element for Flickity: "+(i||t))}f.defaults={accessibility:!0,cellAlign:"center",freeScrollFriction:.075,friction:.28,percentPosition:!0,resize:!0,selectedAttraction:.025,setGallerySize:!0},f.createMethods=[],a.extend(f.prototype,t.prototype),f.prototype._create=function(){var t=this.guid=++u;this.element.flickityGUID=t,(p[t]=this).selectedIndex=0,this.restingFrames=0,this.x=0,this.velocity=0,this.accel=0,this.originSide=this.options.rightToLeft?"right":"left",this.viewport=document.createElement("div"),this.viewport.className="flickity-viewport",f.setUnselectable(this.viewport),this._createSlider(),(this.options.resize||this.options.watchCSS)&&(o.bind(n,"resize",this),this.isResizeBound=!0);for(var e=0,i=f.createMethods.length;e<i;e++){this[f.createMethods[e]]()}this.options.watchCSS?this.watchCSS():this.activate()},f.prototype.option=function(t){a.extend(this.options,t)},f.prototype.activate=function(){if(!this.isActive){var t;this.isActive=!0,i.add(this.element,"flickity-enabled"),this.options.rightToLeft&&i.add(this.element,"flickity-rtl"),this.getSize(),d(this._filterFindCellElements(this.element.children),this.slider),this.viewport.appendChild(this.slider),this.element.appendChild(this.viewport),this.reloadCells(),this.options.accessibility&&(this.element.tabIndex=0,o.bind(this.element,"keydown",this)),this.emit("activate");var e=this.options.initialIndex;t=this.isInitActivated?this.selectedIndex:void 0!==e&&this.cells[e]?e:0,this.select(t,!1,!0),this.isInitActivated=!0}},f.prototype._createSlider=function(){var t=document.createElement("div");t.className="flickity-slider",t.style[this.originSide]=0,this.slider=t},f.prototype._filterFindCellElements=function(t){return a.filterFindElements(t,this.options.cellSelector)},f.prototype.reloadCells=function(){this.cells=this._makeCells(this.slider.children),this.positionCells(),this._getWrapShiftCells(),this.setGallerySize()},f.prototype._makeCells=function(t){for(var e=this._filterFindCellElements(t),i=[],n=0,o=e.length;n<o;n++){var s=e[n],r=new l(s,this);i.push(r)}return i},f.prototype.getLastCell=function(){return this.cells[this.cells.length-1]},f.prototype.positionCells=function(){this._sizeCells(this.cells),this._positionCells(0)},f.prototype._positionCells=function(t){t=t||0,this.maxCellHeight=t&&this.maxCellHeight||0;var e,i=0;if(0<t){var n=this.cells[t-1];i=n.x+n.size.outerWidth}for(var o=this.cells.length,s=t;s<o;s++)(e=this.cells[s]).setPosition(i),i+=e.size.outerWidth,this.maxCellHeight=Math.max(e.size.outerHeight,this.maxCellHeight);this.slideableWidth=i,this._containCells()},f.prototype._sizeCells=function(t){for(var e=0,i=t.length;e<i;e++){t[e].getSize()}},f.prototype._init=f.prototype.reposition=function(){this.positionCells(),this.positionSliderAtSelected()},f.prototype.getSize=function(){this.size=e(this.element),this.setCellAlign(),this.cursorPosition=this.size.innerWidth*this.cellAlign};var v={center:{left:.5,right:.5},left:{left:0,right:1},right:{right:0,left:1}};f.prototype.setCellAlign=function(){var t=v[this.options.cellAlign];this.cellAlign=t?t[this.originSide]:this.options.cellAlign},f.prototype.setGallerySize=function(){this.options.setGallerySize&&(this.viewport.style.height=this.maxCellHeight+"px")},f.prototype._getWrapShiftCells=function(){if(this.options.wrapAround){this._unshiftCells(this.beforeShiftCells),this._unshiftCells(this.afterShiftCells);var t=this.cursorPosition,e=this.cells.length-1;this.beforeShiftCells=this._getGapCells(t,e,-1),t=this.size.innerWidth-this.cursorPosition,this.afterShiftCells=this._getGapCells(t,0,1)}},f.prototype._getGapCells=function(t,e,i){for(var n=[];0<t;){var o=this.cells[e];if(!o)break;n.push(o),e+=i,t-=o.size.outerWidth}return n},f.prototype._containCells=function(){if(this.options.contain&&!this.options.wrapAround&&this.cells.length)for(var t=this.options.rightToLeft?"marginRight":"marginLeft",e=this.options.rightToLeft?"marginLeft":"marginRight",i=this.cells[0].size[t],n=this.getLastCell(),o=this.slideableWidth-n.size[e],s=o-this.size.innerWidth*(1-this.cellAlign),r=o<this.size.innerWidth,a=0,l=this.cells.length;a<l;a++){var h=this.cells[a];h.setDefaultTarget(),h.target=r?o*this.cellAlign:(h.target=Math.max(h.target,this.cursorPosition+i),Math.min(h.target,s))}},f.prototype.dispatchEvent=function(t,e,i){var n=[e].concat(i);if(this.emitEvent(t,n),r&&this.$element)if(e){var o=r.Event(e);o.type=t,this.$element.trigger(o,i)}else this.$element.trigger(t,i)},f.prototype.select=function(t,e,i){if(this.isActive){t=parseInt(t,10);var n=this.cells.length;this.options.wrapAround&&1<n&&(t<0?this.x-=this.slideableWidth:n<=t&&(this.x+=this.slideableWidth)),(this.options.wrapAround||e)&&(t=a.modulo(t,n)),this.cells[t]&&(this.selectedIndex=t,this.setSelectedCell(),i?this.positionSliderAtSelected():this.startAnimation(),this.dispatchEvent("cellSelect"))}},f.prototype.previous=function(t){this.select(this.selectedIndex-1,t)},f.prototype.next=function(t){this.select(this.selectedIndex+1,t)},f.prototype.setSelectedCell=function(){this._removeSelectedCellClass(),this.selectedCell=this.cells[this.selectedIndex],this.selectedElement=this.selectedCell.element,i.add(this.selectedElement,"is-selected")},f.prototype._removeSelectedCellClass=function(){this.selectedCell&&i.remove(this.selectedCell.element,"is-selected")},f.prototype.getCell=function(t){for(var e=0,i=this.cells.length;e<i;e++){var n=this.cells[e];if(n.element==t)return n}},f.prototype.getCells=function(t){for(var e=[],i=0,n=(t=a.makeArray(t)).length;i<n;i++){var o=t[i],s=this.getCell(o);s&&e.push(s)}return e},f.prototype.getCellElements=function(){for(var t=[],e=0,i=this.cells.length;e<i;e++)t.push(this.cells[e].element);return t},f.prototype.getParentCell=function(t){var e=this.getCell(t);return e||(t=a.getParent(t,".flickity-slider > *"),this.getCell(t))},f.prototype.getAdjacentCellElements=function(t,e){if(!t)return[this.selectedElement];e=void 0===e?this.selectedIndex:e;var i=this.cells.length;if(i<=1+2*t)return this.getCellElements();for(var n=[],o=e-t;o<=e+t;o++){var s=this.options.wrapAround?a.modulo(o,i):o,r=this.cells[s];r&&n.push(r.element)}return n},f.prototype.uiChange=function(){this.emit("uiChange")},f.prototype.childUIPointerDown=function(t){this.emitEvent("childUIPointerDown",[t])},f.prototype.onresize=function(){this.watchCSS(),this.resize()},a.debounceMethod(f,"onresize",150),f.prototype.resize=function(){this.isActive&&(this.getSize(),this.options.wrapAround&&(this.x=a.modulo(this.x,this.slideableWidth)),this.positionCells(),this._getWrapShiftCells(),this.setGallerySize(),this.positionSliderAtSelected())};var y,g=f.supportsConditionalCSS=function(){if(void 0!==y)return y;if(h){var t=document.createElement("style"),e=document.createTextNode('body:after { content: "foo"; display: none; }');t.appendChild(e),document.head.appendChild(t);var i=h(document.body,":after").content;return y=-1!=i.indexOf("foo"),document.head.removeChild(t),y}y=!1};f.prototype.watchCSS=function(){var t=this.options.watchCSS;t&&(g()?-1!=h(this.element,":after").content.indexOf("flickity")?this.activate():this.deactivate():this["fallbackOn"==t?"activate":"deactivate"]())},f.prototype.onkeydown=function(t){if(this.options.accessibility&&(!document.activeElement||document.activeElement==this.element))if(37==t.keyCode){var e=this.options.rightToLeft?"next":"previous";this.uiChange(),this[e]()}else if(39==t.keyCode){var i=this.options.rightToLeft?"previous":"next";this.uiChange(),this[i]()}},f.prototype.deactivate=function(){if(this.isActive){i.remove(this.element,"flickity-enabled"),i.remove(this.element,"flickity-rtl");for(var t=0,e=this.cells.length;t<e;t++){this.cells[t].destroy()}this._removeSelectedCellClass(),this.element.removeChild(this.viewport),d(this.slider.children,this.element),this.options.accessibility&&(this.element.removeAttribute("tabIndex"),o.unbind(this.element,"keydown",this)),this.isActive=!1,this.emit("deactivate")}},f.prototype.destroy=function(){this.deactivate(),this.isResizeBound&&o.unbind(n,"resize",this),this.emit("destroy"),r&&this.$element&&r.removeData(this.element,"flickity"),delete this.element.flickityGUID,delete p[this.guid]},a.extend(f.prototype,s);var m="attachEvent"in n;return f.setUnselectable=function(t){m&&t.setAttribute("unselectable","on")},f.data=function(t){var e=(t=a.getQueryElement(t))&&t.flickityGUID;return e&&p[e]},a.htmlInit(f,"flickity"),r&&r.bridget&&r.bridget("flickity",f),f.Cell=l,f}),function(i,n){"use strict";"function"==typeof define&&define.amd?define("unipointer/unipointer",["eventEmitter/EventEmitter","eventie/eventie"],function(t,e){return n(i,t,e)}):"object"==typeof exports?module.exports=n(i,require("wolfy87-eventemitter"),require("eventie")):i.Unipointer=n(i,i.EventEmitter,i.eventie)}(window,function(r,t,a){function e(){}(e.prototype=new t).bindStartEvent=function(t){this._bindStartEvent(t,!0)},e.prototype.unbindStartEvent=function(t){this._bindStartEvent(t,!1)},e.prototype._bindStartEvent=function(t,e){var i=(e=void 0===e||!!e)?"bind":"unbind";r.navigator.pointerEnabled?a[i](t,"pointerdown",this):r.navigator.msPointerEnabled?a[i](t,"MSPointerDown",this):(a[i](t,"mousedown",this),a[i](t,"touchstart",this))},e.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},e.prototype.getTouch=function(t){for(var e=0,i=t.length;e<i;e++){var n=t[e];if(n.identifier==this.pointerIdentifier)return n}},e.prototype.onmousedown=function(t){var e=t.button;e&&0!==e&&1!==e||this._pointerDown(t,t)},e.prototype.ontouchstart=function(t){this._pointerDown(t,t.changedTouches[0])},e.prototype.onMSPointerDown=e.prototype.onpointerdown=function(t){this._pointerDown(t,t)},e.prototype._pointerDown=function(t,e){this.isPointerDown||(this.isPointerDown=!0,this.pointerIdentifier=void 0!==e.pointerId?e.pointerId:e.identifier,this.pointerDown(t,e))},e.prototype.pointerDown=function(t,e){this._bindPostStartEvents(t),this.emitEvent("pointerDown",[t,e])};var l={mousedown:["mousemove","mouseup"],touchstart:["touchmove","touchend","touchcancel"],pointerdown:["pointermove","pointerup","pointercancel"],MSPointerDown:["MSPointerMove","MSPointerUp","MSPointerCancel"]};return e.prototype._bindPostStartEvents=function(t){if(t){for(var e=l[t.type],i=t.preventDefault?r:document,n=0,o=e.length;n<o;n++){var s=e[n];a.bind(i,s,this)}this._boundPointerEvents={events:e,node:i}}},e.prototype._unbindPostStartEvents=function(){var t=this._boundPointerEvents;if(t&&t.events){for(var e=0,i=t.events.length;e<i;e++){var n=t.events[e];a.unbind(t.node,n,this)}delete this._boundPointerEvents}},e.prototype.onmousemove=function(t){this._pointerMove(t,t)},e.prototype.onMSPointerMove=e.prototype.onpointermove=function(t){t.pointerId==this.pointerIdentifier&&this._pointerMove(t,t)},e.prototype.ontouchmove=function(t){var e=this.getTouch(t.changedTouches);e&&this._pointerMove(t,e)},e.prototype._pointerMove=function(t,e){this.pointerMove(t,e)},e.prototype.pointerMove=function(t,e){this.emitEvent("pointerMove",[t,e])},e.prototype.onmouseup=function(t){this._pointerUp(t,t)},e.prototype.onMSPointerUp=e.prototype.onpointerup=function(t){t.pointerId==this.pointerIdentifier&&this._pointerUp(t,t)},e.prototype.ontouchend=function(t){var e=this.getTouch(t.changedTouches);e&&this._pointerUp(t,e)},e.prototype._pointerUp=function(t,e){this._pointerDone(),this.pointerUp(t,e)},e.prototype.pointerUp=function(t,e){this.emitEvent("pointerUp",[t,e])},e.prototype._pointerDone=function(){this.isPointerDown=!1,delete this.pointerIdentifier,this._unbindPostStartEvents(),this.pointerDone()},e.prototype.pointerDone=function(){},e.prototype.onMSPointerCancel=e.prototype.onpointercancel=function(t){t.pointerId==this.pointerIdentifier&&this._pointerCancel(t,t)},e.prototype.ontouchcancel=function(t){var e=this.getTouch(t.changedTouches);e&&this._pointerCancel(t,e)},e.prototype._pointerCancel=function(t,e){this._pointerDone(),this.pointerCancel(t,e)},e.prototype.pointerCancel=function(t,e){this.emitEvent("pointerCancel",[t,e])},e.getPointerPoint=function(t){return{x:void 0!==t.pageX?t.pageX:t.clientX,y:void 0!==t.pageY?t.pageY:t.clientY}},e}),function(i,n){"use strict";"function"==typeof define&&define.amd?define("unidragger/unidragger",["eventie/eventie","unipointer/unipointer"],function(t,e){return n(i,t,e)}):"object"==typeof exports?module.exports=n(i,require("eventie"),require("unipointer")):i.Unidragger=n(i,i.eventie,i.Unipointer)}(window,function(n,r,o){function s(t){t.preventDefault?t.preventDefault():t.returnValue=!1}function a(){}(a.prototype=new o).bindHandles=function(){this._bindHandles(!0)},a.prototype.unbindHandles=function(){this._bindHandles(!1)};var l=n.navigator;function h(){return!1}a.prototype._bindHandles=function(e){var t;e=void 0===e||!!e,t=l.pointerEnabled?function(t){t.style.touchAction=e?"none":""}:l.msPointerEnabled?function(t){t.style.msTouchAction=e?"none":""}:function(){e&&c(s)};for(var i=e?"bind":"unbind",n=0,o=this.handles.length;n<o;n++){var s=this.handles[n];this._bindStartEvent(s,e),t(s),r[i](s,"click",this)}};var c="attachEvent"in document.documentElement?function(t){"IMG"==t.nodeName&&(t.ondragstart=h);for(var e=t.querySelectorAll("img"),i=0,n=e.length;i<n;i++){e[i].ondragstart=h}}:function(){};a.prototype.pointerDown=function(t,e){if("INPUT"==t.target.nodeName&&"range"==t.target.type)return this.isPointerDown=!1,void delete this.pointerIdentifier;this._dragPointerDown(t,e);var i=document.activeElement;i&&i.blur&&i.blur(),this._bindPostStartEvents(t),this.pointerDownScroll=a.getScrollPosition(),r.bind(n,"scroll",this),this.emitEvent("pointerDown",[t,e])},a.prototype._dragPointerDown=function(t,e){this.pointerDownPoint=o.getPointerPoint(e);var i="touchstart"==t.type,n=t.target.nodeName;i||"SELECT"==n||s(t)},a.prototype.pointerMove=function(t,e){var i=this._dragPointerMove(t,e);this.emitEvent("pointerMove",[t,e,i]),this._dragMove(t,e,i)},a.prototype._dragPointerMove=function(t,e){var i=o.getPointerPoint(e),n={x:i.x-this.pointerDownPoint.x,y:i.y-this.pointerDownPoint.y};return!this.isDragging&&this.hasDragStarted(n)&&this._dragStart(t,e),n},a.prototype.hasDragStarted=function(t){return 3<Math.abs(t.x)||3<Math.abs(t.y)},a.prototype.pointerUp=function(t,e){this.emitEvent("pointerUp",[t,e]),this._dragPointerUp(t,e)},a.prototype._dragPointerUp=function(t,e){this.isDragging?this._dragEnd(t,e):this._staticClick(t,e)},a.prototype.pointerDone=function(){r.unbind(n,"scroll",this)},a.prototype._dragStart=function(t,e){this.isDragging=!0,this.dragStartPoint=a.getPointerPoint(e),this.isPreventingClicks=!0,this.dragStart(t,e)},a.prototype.dragStart=function(t,e){this.emitEvent("dragStart",[t,e])},a.prototype._dragMove=function(t,e,i){this.isDragging&&this.dragMove(t,e,i)},a.prototype.dragMove=function(t,e,i){s(t),this.emitEvent("dragMove",[t,e,i])},a.prototype._dragEnd=function(t,e){this.isDragging=!1;var i=this;setTimeout(function(){delete i.isPreventingClicks}),this.dragEnd(t,e)},a.prototype.dragEnd=function(t,e){this.emitEvent("dragEnd",[t,e])},a.prototype.pointerDone=function(){r.unbind(n,"scroll",this),delete this.pointerDownScroll},a.prototype.onclick=function(t){this.isPreventingClicks&&s(t)},a.prototype._staticClick=function(t,e){if(!this.isIgnoringMouseUp||"mouseup"!=t.type){var i=t.target.nodeName;if("INPUT"!=i&&"TEXTAREA"!=i||t.target.focus(),this.staticClick(t,e),"mouseup"!=t.type){this.isIgnoringMouseUp=!0;var n=this;setTimeout(function(){delete n.isIgnoringMouseUp},400)}}},a.prototype.staticClick=function(t,e){this.emitEvent("staticClick",[t,e])},a.prototype.onscroll=function(){var t=a.getScrollPosition(),e=this.pointerDownScroll.x-t.x,i=this.pointerDownScroll.y-t.y;(3<Math.abs(e)||3<Math.abs(i))&&this._pointerDone()},a.getPointerPoint=function(t){return{x:void 0!==t.pageX?t.pageX:t.clientX,y:void 0!==t.pageY?t.pageY:t.clientY}};var t=void 0!==n.pageYOffset;return a.getScrollPosition=function(){return{x:t?n.pageXOffset:document.body.scrollLeft,y:t?n.pageYOffset:document.body.scrollTop}},a.getPointerPoint=o.getPointerPoint,a}),function(s,r){"use strict";"function"==typeof define&&define.amd?define("flickity/js/drag",["classie/classie","eventie/eventie","./flickity","unidragger/unidragger","fizzy-ui-utils/utils"],function(t,e,i,n,o){return r(s,t,e,i,n,o)}):"object"==typeof exports?module.exports=r(s,require("desandro-classie"),require("eventie"),require("./flickity"),require("unidragger"),require("fizzy-ui-utils")):s.Flickity=r(s,s.classie,s.eventie,s.Flickity,s.Unidragger,s.fizzyUIUtils)}(window,function(n,o,s,t,r,a){function l(t){t.preventDefault?t.preventDefault():t.returnValue=!1}a.extend(t.defaults,{draggable:!0}),t.createMethods.push("_createDrag"),a.extend(t.prototype,r.prototype),t.prototype._createDrag=function(){this.on("activate",this.bindDrag),this.on("uiChange",this._uiChangeDrag),this.on("childUIPointerDown",this._childUIPointerDownDrag),this.on("deactivate",this.unbindDrag)},t.prototype.bindDrag=function(){this.options.draggable&&!this.isDragBound&&(o.add(this.element,"is-draggable"),this.handles=[this.viewport],this.bindHandles(),this.isDragBound=!0)},t.prototype.unbindDrag=function(){this.isDragBound&&(o.remove(this.element,"is-draggable"),this.unbindHandles(),delete this.isDragBound)},t.prototype._uiChangeDrag=function(){delete this.isFreeScrolling},t.prototype._childUIPointerDownDrag=function(t){l(t),this.pointerDownFocus(t)},t.prototype.pointerDown=function(t,e){if("INPUT"==t.target.nodeName&&"range"==t.target.type)return this.isPointerDown=!1,void delete this.pointerIdentifier;this._dragPointerDown(t,e);var i=document.activeElement;i&&i.blur&&i!=this.element&&i!=document.body&&i.blur(),this.pointerDownFocus(t),this.dragX=this.x,o.add(this.viewport,"is-pointer-down"),this._bindPostStartEvents(t),this.pointerDownScroll=r.getScrollPosition(),s.bind(n,"scroll",this),this.dispatchEvent("pointerDown",t,[e])};var i={touchstart:!0,MSPointerDown:!0},h={INPUT:!0,SELECT:!0};return t.prototype.pointerDownFocus=function(t){if(this.options.accessibility&&!i[t.type]&&!h[t.target.nodeName]){var e=n.pageYOffset;this.element.focus(),n.pageYOffset!=e&&n.scrollTo(n.pageXOffset,e)}},t.prototype.hasDragStarted=function(t){return 3<Math.abs(t.x)},t.prototype.pointerUp=function(t,e){o.remove(this.viewport,"is-pointer-down"),this.dispatchEvent("pointerUp",t,[e]),this._dragPointerUp(t,e)},t.prototype.pointerDone=function(){s.unbind(n,"scroll",this),delete this.pointerDownScroll},t.prototype.dragStart=function(t,e){this.dragStartPosition=this.x,this.startAnimation(),this.dispatchEvent("dragStart",t,[e])},t.prototype.dragMove=function(t,e,i){l(t),this.previousDragX=this.dragX;var n=this.options.rightToLeft?-1:1,o=this.dragStartPosition+i.x*n;if(!this.options.wrapAround&&this.cells.length){var s=Math.max(-this.cells[0].target,this.dragStartPosition);o=s<o?.5*(o+s):o;var r=Math.min(-this.getLastCell().target,this.dragStartPosition);o=o<r?.5*(o+r):o}this.dragX=o,this.dragMoveTime=new Date,this.dispatchEvent("dragMove",t,[e,i])},t.prototype.dragEnd=function(t,e){this.options.freeScroll&&(this.isFreeScrolling=!0);var i=this.dragEndRestingSelect();if(this.options.freeScroll&&!this.options.wrapAround){var n=this.getRestingPosition();this.isFreeScrolling=-n>this.cells[0].target&&-n<this.getLastCell().target}else this.options.freeScroll||i!=this.selectedIndex||(i+=this.dragEndBoostSelect());delete this.previousDragX,this.select(i),this.dispatchEvent("dragEnd",t,[e])},t.prototype.dragEndRestingSelect=function(){var t=this.getRestingPosition(),e=Math.abs(this.getCellDistance(-t,this.selectedIndex)),i=this._getClosestResting(t,e,1),n=this._getClosestResting(t,e,-1);return i.distance<n.distance?i.index:n.index},t.prototype._getClosestResting=function(t,e,i){for(var n=this.selectedIndex,o=1/0,s=this.options.contain&&!this.options.wrapAround?function(t,e){return t<=e}:function(t,e){return t<e};s(e,o)&&(n+=i,o=e,null!==(e=this.getCellDistance(-t,n)));)e=Math.abs(e);return{distance:o,index:n-i}},t.prototype.getCellDistance=function(t,e){var i=this.cells.length,n=this.options.wrapAround&&1<i,o=n?a.modulo(e,i):e,s=this.cells[o];if(!s)return null;var r=n?this.slideableWidth*Math.floor(e/i):0;return t-(s.target+r)},t.prototype.dragEndBoostSelect=function(){if(void 0===this.previousDragX||!this.dragMoveTime||100<new Date-this.dragMoveTime)return 0;var t=this.getCellDistance(-this.dragX,this.selectedIndex),e=this.previousDragX-this.dragX;return 0<t&&0<e?1:t<0&&e<0?-1:0},t.prototype.staticClick=function(t,e){var i=this.getParentCell(t.target),n=i&&i.element,o=i&&a.indexOf(this.cells,i);this.dispatchEvent("staticClick",t,[e,n,o])},t}),function(e,i){"function"==typeof define&&define.amd?define("tap-listener/tap-listener",["unipointer/unipointer"],function(t){return i(e,t)}):"object"==typeof exports?module.exports=i(e,require("unipointer")):e.TapListener=i(e,e.Unipointer)}(window,function(r,a){function t(t){this.bindTap(t)}(t.prototype=new a).bindTap=function(t){t&&(this.unbindTap(),this.tapElement=t,this._bindStartEvent(t,!0))},t.prototype.unbindTap=function(){this.tapElement&&(this._bindStartEvent(this.tapElement,!0),delete this.tapElement)};var l=void 0!==r.pageYOffset;return t.prototype.pointerUp=function(t,e){if(!this.isIgnoringMouseUp||"mouseup"!=t.type){var i=a.getPointerPoint(e),n=this.tapElement.getBoundingClientRect(),o=l?r.pageXOffset:document.body.scrollLeft,s=l?r.pageYOffset:document.body.scrollTop;i.x>=n.left+o&&i.x<=n.right+o&&i.y>=n.top+s&&i.y<=n.bottom+s&&this.emitEvent("tap",[t,e]),"mouseup"!=t.type&&(this.isIgnoringMouseUp=!0,setTimeout(function(){delete this.isIgnoringMouseUp}.bind(this),320))}},t.prototype.destroy=function(){this.pointerDone(),this.unbindTap()},t}),function(o,s){"use strict";"function"==typeof define&&define.amd?define("flickity/js/prev-next-button",["eventie/eventie","./flickity","tap-listener/tap-listener","fizzy-ui-utils/utils"],function(t,e,i,n){return s(o,t,e,i,n)}):"object"==typeof exports?module.exports=s(o,require("eventie"),require("./flickity"),require("tap-listener"),require("fizzy-ui-utils")):s(o,o.eventie,o.Flickity,o.TapListener,o.fizzyUIUtils)}(window,function(t,e,o,i,n){var s,r="http://www.w3.org/2000/svg",a=function(){if(void 0!==s)return s;var t=document.createElement("div");return t.innerHTML="<svg/>",s=(t.firstChild&&t.firstChild.namespaceURI)==r};function l(t,e){this.direction=t,this.parent=e,this._create()}return(l.prototype=new i)._create=function(){this.isEnabled=!0,this.isPrevious=-1==this.direction;var t=this.parent.options.rightToLeft?1:-1;this.isLeft=this.direction==t;var e=this.element=document.createElement("button");if(e.className="flickity-prev-next-button",e.className+=this.isPrevious?" previous":" next",e.setAttribute("type","button"),this.disable(),e.setAttribute("aria-label",this.isPrevious?"previous":"next"),o.setUnselectable(e),a()){var i=this.createSVG();e.appendChild(i)}else this.setArrowText(),e.className+=" no-svg";var n=this;this.onCellSelect=function(){n.update()},this.parent.on("cellSelect",this.onCellSelect),this.on("tap",this.onTap),this.on("pointerDown",function(t,e){n.parent.childUIPointerDown(e)})},l.prototype.activate=function(){this.bindTap(this.element),e.bind(this.element,"click",this),this.parent.element.appendChild(this.element)},l.prototype.deactivate=function(){this.parent.element.removeChild(this.element),i.prototype.destroy.call(this),e.unbind(this.element,"click",this)},l.prototype.createSVG=function(){var t=document.createElementNS(r,"svg");t.setAttribute("viewBox","0 0 100 100");var e,i=document.createElementNS(r,"path"),n="string"!=typeof(e=this.parent.options.arrowShape)?"M "+e.x0+",50 L "+e.x1+","+(e.y1+50)+" L "+e.x2+","+(e.y2+50)+" L "+e.x3+",50  L "+e.x2+","+(50-e.y2)+" L "+e.x1+","+(50-e.y1)+" Z":e;return i.setAttribute("d",n),i.setAttribute("class","arrow"),this.isLeft||i.setAttribute("transform","translate(100, 100) rotate(180) "),t.appendChild(i),t},l.prototype.setArrowText=function(){var t=this.parent.options,e=this.isLeft?t.leftArrowText:t.rightArrowText;n.setText(this.element,e)},l.prototype.onTap=function(){if(this.isEnabled){this.parent.uiChange();var t=this.isPrevious?"previous":"next";this.parent[t]()}},l.prototype.handleEvent=n.handleEvent,l.prototype.onclick=function(){var t=document.activeElement;t&&t==this.element&&this.onTap()},l.prototype.enable=function(){this.isEnabled||(this.element.disabled=!1,this.isEnabled=!0)},l.prototype.disable=function(){this.isEnabled&&(this.element.disabled=!0,this.isEnabled=!1)},l.prototype.update=function(){var t=this.parent.cells;if(this.parent.options.wrapAround&&1<t.length)this.enable();else{var e=t.length?t.length-1:0,i=this.isPrevious?0:e;this[this.parent.selectedIndex==i?"disable":"enable"]()}},l.prototype.destroy=function(){this.deactivate()},n.extend(o.defaults,{prevNextButtons:!0,leftArrowText:"‹",rightArrowText:"›",arrowShape:{x0:10,x1:60,y1:50,x2:70,y2:40,x3:30}}),o.createMethods.push("_createPrevNextButtons"),o.prototype._createPrevNextButtons=function(){this.options.prevNextButtons&&(this.prevButton=new l(-1,this),this.nextButton=new l(1,this),this.on("activate",this.activatePrevNextButtons))},o.prototype.activatePrevNextButtons=function(){this.prevButton.activate(),this.nextButton.activate(),this.on("deactivate",this.deactivatePrevNextButtons)},o.prototype.deactivatePrevNextButtons=function(){this.prevButton.deactivate(),this.nextButton.deactivate(),this.off("deactivate",this.deactivatePrevNextButtons)},o.PrevNextButton=l,o}),function(o,s){"use strict";"function"==typeof define&&define.amd?define("flickity/js/page-dots",["eventie/eventie","./flickity","tap-listener/tap-listener","fizzy-ui-utils/utils"],function(t,e,i,n){return s(o,t,e,i,n)}):"object"==typeof exports?module.exports=s(o,require("eventie"),require("./flickity"),require("tap-listener"),require("fizzy-ui-utils")):s(o,o.eventie,o.Flickity,o.TapListener,o.fizzyUIUtils)}(window,function(t,e,n,i,o){function s(t){this.parent=t,this._create()}return(s.prototype=new i)._create=function(){this.holder=document.createElement("ol"),this.holder.className="flickity-page-dots",n.setUnselectable(this.holder),this.dots=[];var i=this;this.onCellSelect=function(){i.updateSelected()},this.parent.on("cellSelect",this.onCellSelect),this.on("tap",this.onTap),this.on("pointerDown",function(t,e){i.parent.childUIPointerDown(e)})},s.prototype.activate=function(){this.setDots(),this.bindTap(this.holder),this.parent.element.appendChild(this.holder)},s.prototype.deactivate=function(){this.parent.element.removeChild(this.holder),i.prototype.destroy.call(this)},s.prototype.setDots=function(){var t=this.parent.cells.length-this.dots.length;0<t?this.addDots(t):t<0&&this.removeDots(-t)},s.prototype.addDots=function(t){for(var e=document.createDocumentFragment(),i=[];t;){var n=document.createElement("li");n.className="dot",e.appendChild(n),i.push(n),t--}this.holder.appendChild(e),this.dots=this.dots.concat(i)},s.prototype.removeDots=function(t){for(var e=this.dots.splice(this.dots.length-t,t),i=0,n=e.length;i<n;i++){var o=e[i];this.holder.removeChild(o)}},s.prototype.updateSelected=function(){this.selectedDot&&(this.selectedDot.className="dot"),this.dots.length&&(this.selectedDot=this.dots[this.parent.selectedIndex],this.selectedDot.className="dot is-selected")},s.prototype.onTap=function(t){var e=t.target;if("LI"==e.nodeName){this.parent.uiChange();var i=o.indexOf(this.dots,e);this.parent.select(i)}},s.prototype.destroy=function(){this.deactivate()},n.PageDots=s,o.extend(n.defaults,{pageDots:!0}),n.createMethods.push("_createPageDots"),n.prototype._createPageDots=function(){this.options.pageDots&&(this.pageDots=new s(this),this.on("activate",this.activatePageDots),this.on("cellAddedRemoved",this.onCellAddedRemovedPageDots),this.on("deactivate",this.deactivatePageDots))},n.prototype.activatePageDots=function(){this.pageDots.activate()},n.prototype.onCellAddedRemovedPageDots=function(){this.pageDots.setDots()},n.prototype.deactivatePageDots=function(){this.pageDots.deactivate()},n.PageDots=s,n}),function(t,o){"use strict";"function"==typeof define&&define.amd?define("flickity/js/player",["eventEmitter/EventEmitter","eventie/eventie","fizzy-ui-utils/utils","./flickity"],function(t,e,i,n){return o(t,e,i,n)}):"object"==typeof exports?module.exports=o(require("wolfy87-eventemitter"),require("eventie"),require("fizzy-ui-utils"),require("./flickity")):o(t.EventEmitter,t.eventie,t.fizzyUIUtils,t.Flickity)}(window,function(t,e,i,n){var o,s;function r(t){if(this.parent=t,this.state="stopped",s){var e=this;this.onVisibilityChange=function(){e.visibilityChange()}}}return"hidden"in document?(o="hidden",s="visibilitychange"):"webkitHidden"in document&&(o="webkitHidden",s="webkitvisibilitychange"),(r.prototype=new t).play=function(){"playing"!=this.state&&(this.state="playing",s&&document.addEventListener(s,this.onVisibilityChange,!1),this.tick())},r.prototype.tick=function(){if("playing"==this.state){var t=this.parent.options.autoPlay;t="number"==typeof t?t:3e3;var e=this;this.clear(),this.timeout=setTimeout(function(){e.parent.next(!0),e.tick()},t)}},r.prototype.stop=function(){this.state="stopped",this.clear(),s&&document.removeEventListener(s,this.onVisibilityChange,!1)},r.prototype.clear=function(){clearTimeout(this.timeout)},r.prototype.pause=function(){"playing"==this.state&&(this.state="paused",this.clear())},r.prototype.unpause=function(){"paused"==this.state&&this.play()},r.prototype.visibilityChange=function(){this[document[o]?"pause":"unpause"]()},i.extend(n.defaults,{pauseAutoPlayOnHover:!0}),n.createMethods.push("_createPlayer"),n.prototype._createPlayer=function(){this.player=new r(this),this.on("activate",this.activatePlayer),this.on("uiChange",this.stopPlayer),this.on("pointerDown",this.stopPlayer),this.on("deactivate",this.deactivatePlayer)},n.prototype.activatePlayer=function(){this.options.autoPlay&&(this.player.play(),e.bind(this.element,"mouseenter",this),this.isMouseenterBound=!0)},n.prototype.playPlayer=function(){this.player.play()},n.prototype.stopPlayer=function(){this.player.stop()},n.prototype.pausePlayer=function(){this.player.pause()},n.prototype.unpausePlayer=function(){this.player.unpause()},n.prototype.deactivatePlayer=function(){this.player.stop(),this.isMouseenterBound&&(e.unbind(this.element,"mouseenter",this),delete this.isMouseenterBound)},n.prototype.onmouseenter=function(){this.options.pauseAutoPlayOnHover&&(this.player.pause(),e.bind(this.element,"mouseleave",this))},n.prototype.onmouseleave=function(){this.player.unpause(),e.unbind(this.element,"mouseleave",this)},n.Player=r,n}),function(i,n){"use strict";"function"==typeof define&&define.amd?define("flickity/js/add-remove-cell",["./flickity","fizzy-ui-utils/utils"],function(t,e){return n(i,t,e)}):"object"==typeof exports?module.exports=n(i,require("./flickity"),require("fizzy-ui-utils")):n(i,i.Flickity,i.fizzyUIUtils)}(window,function(t,e,r){return e.prototype.insert=function(t,e){var i=this._makeCells(t);if(i&&i.length){var n=this.cells.length;e=void 0===e?n:e;var o=function(t){for(var e=document.createDocumentFragment(),i=0,n=t.length;i<n;i++){var o=t[i];e.appendChild(o.element)}return e}(i),s=e==n;if(s)this.slider.appendChild(o);else{var r=this.cells[e].element;this.slider.insertBefore(o,r)}if(0===e)this.cells=i.concat(this.cells);else if(s)this.cells=this.cells.concat(i);else{var a=this.cells.splice(e,n-e);this.cells=this.cells.concat(i).concat(a)}this._sizeCells(i);var l=e>this.selectedIndex?0:i.length;this._cellAddedRemoved(e,l)}},e.prototype.append=function(t){this.insert(t,this.cells.length)},e.prototype.prepend=function(t){this.insert(t,0)},e.prototype.remove=function(t){var e,i,n,o=this.getCells(t),s=0;for(e=0,i=o.length;e<i;e++){n=o[e],s-=r.indexOf(this.cells,n)<this.selectedIndex?1:0}for(e=0,i=o.length;e<i;e++)(n=o[e]).remove(),r.removeFrom(this.cells,n);o.length&&this._cellAddedRemoved(0,s)},e.prototype._cellAddedRemoved=function(t,e){e=e||0,this.selectedIndex+=e,this.selectedIndex=Math.max(0,Math.min(this.cells.length-1,this.selectedIndex)),this.emitEvent("cellAddedRemoved",[t,e]),this.cellChange(t,!0)},e.prototype.cellSizeChange=function(t){var e=this.getCell(t);if(e){e.getSize();var i=r.indexOf(this.cells,e);this.cellChange(i)}},e.prototype.cellChange=function(t,e){var i=this.slideableWidth;if(this._positionCells(t),this._getWrapShiftCells(),this.setGallerySize(),this.options.freeScroll){var n=i-this.slideableWidth;this.x+=n*this.cellAlign,this.positionSlider()}else e&&this.positionSliderAtSelected(),this.select(this.selectedIndex)},e}),function(o,s){"use strict";"function"==typeof define&&define.amd?define("flickity/js/lazyload",["classie/classie","eventie/eventie","./flickity","fizzy-ui-utils/utils"],function(t,e,i,n){return s(o,t,e,i,n)}):"object"==typeof exports?module.exports=s(o,require("desandro-classie"),require("eventie"),require("./flickity"),require("fizzy-ui-utils")):s(o,o.classie,o.eventie,o.Flickity,o.fizzyUIUtils)}(window,function(t,o,s,e,i){"use strict";function a(t){if("IMG"==t.nodeName&&t.getAttribute("data-flickity-lazyload"))return[t];var e=t.querySelectorAll("img[data-flickity-lazyload]");return i.makeArray(e)}function l(t,e){this.img=t,this.flickity=e,this.load()}return e.createMethods.push("_createLazyload"),e.prototype._createLazyload=function(){this.on("cellSelect",this.lazyLoad)},e.prototype.lazyLoad=function(){var t=this.options.lazyLoad;if(t){for(var e="number"==typeof t?t:0,i=this.getAdjacentCellElements(e),n=[],o=0,s=i.length;o<s;o++){var r=a(i[o]);n=n.concat(r)}for(o=0,s=n.length;o<s;o++){new l(n[o],this)}}},l.prototype.handleEvent=i.handleEvent,l.prototype.load=function(){s.bind(this.img,"load",this),s.bind(this.img,"error",this),this.img.src=this.img.getAttribute("data-flickity-lazyload"),this.img.removeAttribute("data-flickity-lazyload")},l.prototype.onload=function(t){this.complete(t,"flickity-lazyloaded")},l.prototype.onerror=function(t){this.complete(t,"flickity-lazyerror")},l.prototype.complete=function(t,e){s.unbind(this.img,"load",this),s.unbind(this.img,"error",this);var i=this.flickity.getParentCell(this.img),n=i&&i.element;this.flickity.cellSizeChange(n),o.add(this.img,e),this.flickity.dispatchEvent("lazyLoad",t,n)},e.LazyLoader=l,e}),function(t,e){"use strict";"function"==typeof define&&define.amd?define("flickity/js/index",["./flickity","./drag","./prev-next-button","./page-dots","./player","./add-remove-cell","./lazyload"],e):"object"==typeof exports&&(module.exports=e(require("./flickity"),require("./drag"),require("./prev-next-button"),require("./page-dots"),require("./player"),require("./add-remove-cell"),require("./lazyload")))}(window,function(t){return t}),function(n,o){"use strict";"function"==typeof define&&define.amd?define("flickity-as-nav-for/as-nav-for",["classie/classie","flickity/js/index","fizzy-ui-utils/utils"],function(t,e,i){return o(n,t,e,i)}):"object"==typeof exports?module.exports=o(n,require("desandro-classie"),require("flickity"),require("fizzy-ui-utils")):n.Flickity=o(n,n.classie,n.Flickity,n.fizzyUIUtils)}(window,function(t,e,n,o){return n.createMethods.push("_createAsNavFor"),n.prototype._createAsNavFor=function(){this.on("activate",this.activateAsNavFor),this.on("deactivate",this.deactivateAsNavFor),this.on("destroy",this.destroyAsNavFor);var t=this.options.asNavFor;if(t){var e=this;setTimeout(function(){e.setNavCompanion(t)})}},n.prototype.setNavCompanion=function(t){t=o.getQueryElement(t);var e=n.data(t);if(e&&e!=this){this.navCompanion=e;var i=this;this.onNavCompanionSelect=function(){i.navCompanionSelect()},e.on("cellSelect",this.onNavCompanionSelect),this.on("staticClick",this.onNavStaticClick),this.navCompanionSelect()}},n.prototype.navCompanionSelect=function(){if(this.navCompanion){var t=this.navCompanion.selectedIndex;this.select(t),this.removeNavSelectedElement(),this.selectedIndex==t&&(this.navSelectedElement=this.cells[t].element,e.add(this.navSelectedElement,"is-nav-selected"))}},n.prototype.activateAsNavFor=function(){this.navCompanionSelect()},n.prototype.removeNavSelectedElement=function(){this.navSelectedElement&&(e.remove(this.navSelectedElement,"is-nav-selected"),delete this.navSelectedElement)},n.prototype.onNavStaticClick=function(t,e,i,n){"number"==typeof n&&this.navCompanion.select(n)},n.prototype.deactivateAsNavFor=function(){this.removeNavSelectedElement()},n.prototype.destroyAsNavFor=function(){this.navCompanion&&(this.navCompanion.off("cellSelect",this.onNavCompanionSelect),this.off("staticClick",this.onNavStaticClick),delete this.navCompanion)},n}),function(i,n){"use strict";"function"==typeof define&&define.amd?define("imagesloaded/imagesloaded",["eventEmitter/EventEmitter","eventie/eventie"],function(t,e){return n(i,t,e)}):"object"==typeof module&&module.exports?module.exports=n(i,require("wolfy87-eventemitter"),require("eventie")):i.imagesLoaded=n(i,i.EventEmitter,i.eventie)}(window,function(e,t,i){var o=e.jQuery,n=e.console;function s(t,e){for(var i in e)t[i]=e[i];return t}var r=Object.prototype.toString;function a(t){var e,i=[];if(e=t,"[object Array]"==r.call(e))i=t;else if("number"==typeof t.length)for(var n=0;n<t.length;n++)i.push(t[n]);else i.push(t);return i}function l(t,e,i){if(!(this instanceof l))return new l(t,e,i);"string"==typeof t&&(t=document.querySelectorAll(t)),this.elements=a(t),this.options=s({},this.options),"function"==typeof e?i=e:s(this.options,e),i&&this.on("always",i),this.getImages(),o&&(this.jqDeferred=new o.Deferred);var n=this;setTimeout(function(){n.check()})}(l.prototype=new t).options={},l.prototype.getImages=function(){this.images=[];for(var t=0;t<this.elements.length;t++){var e=this.elements[t];this.addElementImages(e)}},l.prototype.addElementImages=function(t){"IMG"==t.nodeName&&this.addImage(t),!0===this.options.background&&this.addElementBackgroundImages(t);var e=t.nodeType;if(e&&h[e]){for(var i=t.querySelectorAll("img"),n=0;n<i.length;n++){var o=i[n];this.addImage(o)}if("string"==typeof this.options.background){var s=t.querySelectorAll(this.options.background);for(n=0;n<s.length;n++){var r=s[n];this.addElementBackgroundImages(r)}}}};var h={1:!0,9:!0,11:!0};l.prototype.addElementBackgroundImages=function(t){for(var e=c(t),i=/url\(['"]*([^'"\)]+)['"]*\)/gi,n=i.exec(e.backgroundImage);null!==n;){var o=n&&n[1];o&&this.addBackground(o,t),n=i.exec(e.backgroundImage)}};var c=e.getComputedStyle||function(t){return t.currentStyle};function d(t){this.img=t}function u(t,e){this.url=t,this.element=e,this.img=new Image}return l.prototype.addImage=function(t){var e=new d(t);this.images.push(e)},l.prototype.addBackground=function(t,e){var i=new u(t,e);this.images.push(i)},l.prototype.check=function(){var n=this;if(this.progressedCount=0,this.hasAnyBroken=!1,this.images.length)for(var t=0;t<this.images.length;t++){var e=this.images[t];e.once("progress",i),e.check()}else this.complete();function i(t,e,i){setTimeout(function(){n.progress(t,e,i)})}},l.prototype.progress=function(t,e,i){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!t.isLoaded,this.emit("progress",this,t,e),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,t),this.progressedCount==this.images.length&&this.complete(),this.options.debug&&n&&n.log("progress: "+i,t,e)},l.prototype.complete=function(){var t=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emit(t,this),this.emit("always",this),this.jqDeferred){var e=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[e](this)}},(d.prototype=new t).check=function(){this.getIsImageComplete()?this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,i.bind(this.proxyImage,"load",this),i.bind(this.proxyImage,"error",this),i.bind(this.img,"load",this),i.bind(this.img,"error",this),this.proxyImage.src=this.img.src)},d.prototype.getIsImageComplete=function(){return this.img.complete&&void 0!==this.img.naturalWidth},d.prototype.confirm=function(t,e){this.isLoaded=t,this.emit("progress",this,this.img,e)},d.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},d.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},d.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},d.prototype.unbindEvents=function(){i.unbind(this.proxyImage,"load",this),i.unbind(this.proxyImage,"error",this),i.unbind(this.img,"load",this),i.unbind(this.img,"error",this)},(u.prototype=new d).check=function(){i.bind(this.img,"load",this),i.bind(this.img,"error",this),this.img.src=this.url,this.getIsImageComplete()&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},u.prototype.unbindEvents=function(){i.unbind(this.img,"load",this),i.unbind(this.img,"error",this)},u.prototype.confirm=function(t,e){this.isLoaded=t,this.emit("progress",this,this.element,e)},l.makeJQueryPlugin=function(t){(t=t||e.jQuery)&&((o=t).fn.imagesLoaded=function(t,e){return new l(this,t,e).jqDeferred.promise(o(this))})},l.makeJQueryPlugin(),l}),function(i,n){"use strict";"function"==typeof define&&define.amd?define(["flickity/js/index","imagesloaded/imagesloaded"],function(t,e){return n(i,t,e)}):"object"==typeof exports?module.exports=n(i,require("flickity"),require("imagesloaded")):i.Flickity=n(i,i.Flickity,i.imagesLoaded)}(window,function(t,e,i){"use strict";return e.createMethods.push("_createImagesLoaded"),e.prototype._createImagesLoaded=function(){this.on("activate",this.imagesLoaded)},e.prototype.imagesLoaded=function(){if(this.options.imagesLoaded){var n=this;i(this.slider).on("progress",function(t,e){var i=n.getParentCell(e.img);n.cellSizeChange(i&&i.element),n.options.freeScroll||n.positionSliderAtSelected()})}},e}),$(function(){$(".main-nav").setup_navigation()});var keyCodeMap={48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9"};$.fn.setup_navigation=function(i){i=jQuery.extend({menuHoverClass:"show-menu"},i),$(this).attr("role","menubar").find("li").attr("role","menuitem");var t=$(this).find("> li > a");$(t).next("ul").attr("data-test","true").attr({"aria-hidden":"true",role:"menu"}).find("a").attr("tabIndex",-1),$(t).each(function(){0<$(this).next("ul").length&&$(this).parent("li").attr("aria-haspopup","true")}),$(t).hover(function(){$(this).closest("ul").attr("aria-hidden","false").find("."+i.menuHoverClass).attr("aria-hidden","true").removeClass(i.menuHoverClass).find("a").attr("tabIndex",-1),$(this).next("ul").attr("aria-hidden","false").find("a").attr("tabIndex",0)}),$(t).focus(function(){$(this).closest("ul").find("."+i.menuHoverClass).attr("aria-hidden","true").removeClass(i.menuHoverClass).find("a").attr("tabIndex",-1),$(this).next("ul").attr("aria-hidden","false").addClass(i.menuHoverClass).find("a").attr("tabIndex",0)}),$(t).keydown(function(t){37==t.keyCode?(t.preventDefault(),0==$(this).parent("li").prev("li").length?$(this).parents("ul").find("> li").last().find("a").first().focus():$(this).parent("li").prev("li").find("a").first().focus()):38==t.keyCode?(t.preventDefault(),0<$(this).parent("li").find("ul").length&&$(this).parent("li").find("ul").attr("aria-hidden","false").addClass(i.menuHoverClass).find("a").attr("tabIndex",0).last().focus()):39==t.keyCode?(t.preventDefault(),0==$(this).parent("li").next("li").length?$(this).parents("ul").find("> li").first().find("a").first().focus():$(this).parent("li").next("li").find("a").first().focus()):40==t.keyCode?(t.preventDefault(),0<$(this).parent("li").find("ul").length&&$(this).parent("li").find("ul").attr("aria-hidden","false").addClass(i.menuHoverClass).find("a").attr("tabIndex",0).first().focus()):13==t.keyCode||32==t.keyCode?(t.preventDefault(),$(this).parent("li").find("ul[aria-hidden=true]").attr("aria-hidden","false").addClass(i.menuHoverClass).find("a").attr("tabIndex",0).first().focus()):27==t.keyCode?(t.preventDefault(),$("."+i.menuHoverClass).attr("aria-hidden","true").removeClass(i.menuHoverClass).find("a").attr("tabIndex",-1)):$(this).parent("li").find("ul[aria-hidden=false] a").each(function(){if($(this).text().substring(0,1).toLowerCase()==keyCodeMap[t.keyCode])return $(this).focus(),!1})});var e=$(t).parent("li").find("ul").find("a");$(e).keydown(function(t){if(38==t.keyCode)t.preventDefault(),0==$(this).parent("li").prev("li").length?$(this).parents("ul").parents("li").find("a").first().focus():$(this).parent("li").prev("li").find("a").first().focus();else if(40==t.keyCode)t.preventDefault(),0==$(this).parent("li").next("li").length?$(this).parents("ul").parents("li").find("a").first().focus():$(this).parent("li").next("li").find("a").first().focus();else if(27==t.keyCode||37==t.keyCode)t.preventDefault(),$(this).parents("ul").first().prev("a").focus().parents("ul").first().find("."+i.menuHoverClass).attr("aria-hidden","true").removeClass(i.menuHoverClass).find("a").attr("tabIndex",-1);else if(32==t.keyCode)t.preventDefault(),window.location=$(this).attr("href");else{var e=!1;$(this).parent("li").nextAll("li").find("a").each(function(){if($(this).text().substring(0,1).toLowerCase()==keyCodeMap[t.keyCode])return $(this).focus(),!(e=!0)}),e||$(this).parent("li").prevAll("li").find("a").each(function(){if($(this).text().substring(0,1).toLowerCase()==keyCodeMap[t.keyCode])return $(this).focus(),!1})}}),$(this).find("a").last().keydown(function(t){9==t.keyCode&&$("."+i.menuHoverClass).attr("aria-hidden","true").removeClass(i.menuHoverClass).find("a").attr("tabIndex",-1)}),$(document).click(function(){$("."+i.menuHoverClass).attr("aria-hidden","true").removeClass(i.menuHoverClass).find("a").attr("tabIndex",-1)}),$(this).click(function(t){t.stopPropagation()})},$(document).ready(function(){$("html").removeClass("no-js"),$(".photogallery-flickity").flickity({wrapAround:!0,imagesLoaded:!0,lazyLoad:!0,lazyLoad:2,selectedAttraction:.01,friction:.15,pageDots:!1,arrowShape:{x0:30,x1:60,y1:30,x2:65,y2:30,x3:50}}),$(".interior-flickity").flickity({selectedAttraction:.01,cellAlign:"left",friction:.15,pageDots:!1,contain:!0,arrowShape:{x0:30,x1:65,y1:25,x2:65,y2:25,x3:65}}),$(".cd-primary-nav-trigger").on("click",function(){$(".cd-menu-icon").toggleClass("is-clicked"),$(".cd-header").toggleClass("menu-is-open"),$(".cd-primary-nav").hasClass("is-visible")?$(".cd-primary-nav").removeClass("is-visible").one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(){$("body").removeClass("overflow-hidden")}):$(".cd-primary-nav").addClass("is-visible").one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(){$("body").addClass("overflow-hidden")})})});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlcyI6WyJwcm9kdWN0aW9uLm1pbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIhZnVuY3Rpb24odCl7dmFyIGQ9QXJyYXkucHJvdG90eXBlLnNsaWNlO2Z1bmN0aW9uIGUoKXt9ZnVuY3Rpb24gaShoKXtpZihoKXt2YXIgYz1cInVuZGVmaW5lZFwiPT10eXBlb2YgY29uc29sZT9lOmZ1bmN0aW9uKHQpe2NvbnNvbGUuZXJyb3IodCl9O3JldHVybiBoLmJyaWRnZXQ9ZnVuY3Rpb24odCxlKXt2YXIgaSxhLGw7KGk9ZSkucHJvdG90eXBlLm9wdGlvbnx8KGkucHJvdG90eXBlLm9wdGlvbj1mdW5jdGlvbih0KXtoLmlzUGxhaW5PYmplY3QodCkmJih0aGlzLm9wdGlvbnM9aC5leHRlbmQoITAsdGhpcy5vcHRpb25zLHQpKX0pLGE9dCxsPWUsaC5mblthXT1mdW5jdGlvbihlKXtpZihcInN0cmluZ1wiIT10eXBlb2YgZSlyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIHQ9aC5kYXRhKHRoaXMsYSk7dD8odC5vcHRpb24oZSksdC5faW5pdCgpKToodD1uZXcgbCh0aGlzLGUpLGguZGF0YSh0aGlzLGEsdCkpfSk7Zm9yKHZhciB0PWQuY2FsbChhcmd1bWVudHMsMSksaT0wLG49dGhpcy5sZW5ndGg7aTxuO2krKyl7dmFyIG89dGhpc1tpXSxzPWguZGF0YShvLGEpO2lmKHMpaWYoaC5pc0Z1bmN0aW9uKHNbZV0pJiZcIl9cIiE9PWUuY2hhckF0KDApKXt2YXIgcj1zW2VdLmFwcGx5KHMsdCk7aWYodm9pZCAwIT09cilyZXR1cm4gcn1lbHNlIGMoXCJubyBzdWNoIG1ldGhvZCAnXCIrZStcIicgZm9yIFwiK2ErXCIgaW5zdGFuY2VcIik7ZWxzZSBjKFwiY2Fubm90IGNhbGwgbWV0aG9kcyBvbiBcIithK1wiIHByaW9yIHRvIGluaXRpYWxpemF0aW9uOyBhdHRlbXB0ZWQgdG8gY2FsbCAnXCIrZStcIidcIil9cmV0dXJuIHRoaXN9fSxoLmJyaWRnZXR9fVwiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoXCJqcXVlcnktYnJpZGdldC9qcXVlcnkuYnJpZGdldFwiLFtcImpxdWVyeVwiXSxpKTpcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cz9pKHJlcXVpcmUoXCJqcXVlcnlcIikpOmkodC5qUXVlcnkpfSh3aW5kb3cpLGZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGkodCl7cmV0dXJuIG5ldyBSZWdFeHAoXCIoXnxcXFxccyspXCIrdCtcIihcXFxccyt8JClcIil9dmFyIG4sbyxzO2Z1bmN0aW9uIGUodCxlKXsobih0LGUpP3M6bykodCxlKX1zPVwiY2xhc3NMaXN0XCJpbiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ/KG49ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5jbGFzc0xpc3QuY29udGFpbnMoZSl9LG89ZnVuY3Rpb24odCxlKXt0LmNsYXNzTGlzdC5hZGQoZSl9LGZ1bmN0aW9uKHQsZSl7dC5jbGFzc0xpc3QucmVtb3ZlKGUpfSk6KG49ZnVuY3Rpb24odCxlKXtyZXR1cm4gaShlKS50ZXN0KHQuY2xhc3NOYW1lKX0sbz1mdW5jdGlvbih0LGUpe24odCxlKXx8KHQuY2xhc3NOYW1lPXQuY2xhc3NOYW1lK1wiIFwiK2UpfSxmdW5jdGlvbih0LGUpe3QuY2xhc3NOYW1lPXQuY2xhc3NOYW1lLnJlcGxhY2UoaShlKSxcIiBcIil9KTt2YXIgcj17aGFzQ2xhc3M6bixhZGRDbGFzczpvLHJlbW92ZUNsYXNzOnMsdG9nZ2xlQ2xhc3M6ZSxoYXM6bixhZGQ6byxyZW1vdmU6cyx0b2dnbGU6ZX07XCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShcImNsYXNzaWUvY2xhc3NpZVwiLHIpOlwib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzP21vZHVsZS5leHBvcnRzPXI6dC5jbGFzc2llPXJ9KHdpbmRvdyksZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiB0KCl7fXZhciBlPXQucHJvdG90eXBlLGk9dGhpcyxuPWkuRXZlbnRFbWl0dGVyO2Z1bmN0aW9uIHModCxlKXtmb3IodmFyIGk9dC5sZW5ndGg7aS0tOylpZih0W2ldLmxpc3RlbmVyPT09ZSlyZXR1cm4gaTtyZXR1cm4tMX1mdW5jdGlvbiBvKHQpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0aGlzW3RdLmFwcGx5KHRoaXMsYXJndW1lbnRzKX19ZS5nZXRMaXN0ZW5lcnM9ZnVuY3Rpb24odCl7dmFyIGUsaSxuPXRoaXMuX2dldEV2ZW50cygpO2lmKHQgaW5zdGFuY2VvZiBSZWdFeHApZm9yKGkgaW4gZT17fSxuKW4uaGFzT3duUHJvcGVydHkoaSkmJnQudGVzdChpKSYmKGVbaV09bltpXSk7ZWxzZSBlPW5bdF18fChuW3RdPVtdKTtyZXR1cm4gZX0sZS5mbGF0dGVuTGlzdGVuZXJzPWZ1bmN0aW9uKHQpe3ZhciBlLGk9W107Zm9yKGU9MDtlPHQubGVuZ3RoO2UrPTEpaS5wdXNoKHRbZV0ubGlzdGVuZXIpO3JldHVybiBpfSxlLmdldExpc3RlbmVyc0FzT2JqZWN0PWZ1bmN0aW9uKHQpe3ZhciBlLGk9dGhpcy5nZXRMaXN0ZW5lcnModCk7cmV0dXJuIGkgaW5zdGFuY2VvZiBBcnJheSYmKChlPXt9KVt0XT1pKSxlfHxpfSxlLmFkZExpc3RlbmVyPWZ1bmN0aW9uKHQsZSl7dmFyIGksbj10aGlzLmdldExpc3RlbmVyc0FzT2JqZWN0KHQpLG89XCJvYmplY3RcIj09dHlwZW9mIGU7Zm9yKGkgaW4gbiluLmhhc093blByb3BlcnR5KGkpJiYtMT09PXMobltpXSxlKSYmbltpXS5wdXNoKG8/ZTp7bGlzdGVuZXI6ZSxvbmNlOiExfSk7cmV0dXJuIHRoaXN9LGUub249byhcImFkZExpc3RlbmVyXCIpLGUuYWRkT25jZUxpc3RlbmVyPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuYWRkTGlzdGVuZXIodCx7bGlzdGVuZXI6ZSxvbmNlOiEwfSl9LGUub25jZT1vKFwiYWRkT25jZUxpc3RlbmVyXCIpLGUuZGVmaW5lRXZlbnQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZ2V0TGlzdGVuZXJzKHQpLHRoaXN9LGUuZGVmaW5lRXZlbnRzPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wO2U8dC5sZW5ndGg7ZSs9MSl0aGlzLmRlZmluZUV2ZW50KHRbZV0pO3JldHVybiB0aGlzfSxlLnJlbW92ZUxpc3RlbmVyPWZ1bmN0aW9uKHQsZSl7dmFyIGksbixvPXRoaXMuZ2V0TGlzdGVuZXJzQXNPYmplY3QodCk7Zm9yKG4gaW4gbylvLmhhc093blByb3BlcnR5KG4pJiYtMSE9PShpPXMob1tuXSxlKSkmJm9bbl0uc3BsaWNlKGksMSk7cmV0dXJuIHRoaXN9LGUub2ZmPW8oXCJyZW1vdmVMaXN0ZW5lclwiKSxlLmFkZExpc3RlbmVycz1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLm1hbmlwdWxhdGVMaXN0ZW5lcnMoITEsdCxlKX0sZS5yZW1vdmVMaXN0ZW5lcnM9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5tYW5pcHVsYXRlTGlzdGVuZXJzKCEwLHQsZSl9LGUubWFuaXB1bGF0ZUxpc3RlbmVycz1mdW5jdGlvbih0LGUsaSl7dmFyIG4sbyxzPXQ/dGhpcy5yZW1vdmVMaXN0ZW5lcjp0aGlzLmFkZExpc3RlbmVyLHI9dD90aGlzLnJlbW92ZUxpc3RlbmVyczp0aGlzLmFkZExpc3RlbmVycztpZihcIm9iamVjdFwiIT10eXBlb2YgZXx8ZSBpbnN0YW5jZW9mIFJlZ0V4cClmb3Iobj1pLmxlbmd0aDtuLS07KXMuY2FsbCh0aGlzLGUsaVtuXSk7ZWxzZSBmb3IobiBpbiBlKWUuaGFzT3duUHJvcGVydHkobikmJihvPWVbbl0pJiYoXCJmdW5jdGlvblwiPT10eXBlb2Ygbz9zLmNhbGwodGhpcyxuLG8pOnIuY2FsbCh0aGlzLG4sbykpO3JldHVybiB0aGlzfSxlLnJlbW92ZUV2ZW50PWZ1bmN0aW9uKHQpe3ZhciBlLGk9dHlwZW9mIHQsbj10aGlzLl9nZXRFdmVudHMoKTtpZihcInN0cmluZ1wiPT09aSlkZWxldGUgblt0XTtlbHNlIGlmKHQgaW5zdGFuY2VvZiBSZWdFeHApZm9yKGUgaW4gbiluLmhhc093blByb3BlcnR5KGUpJiZ0LnRlc3QoZSkmJmRlbGV0ZSBuW2VdO2Vsc2UgZGVsZXRlIHRoaXMuX2V2ZW50cztyZXR1cm4gdGhpc30sZS5yZW1vdmVBbGxMaXN0ZW5lcnM9byhcInJlbW92ZUV2ZW50XCIpLGUuZW1pdEV2ZW50PWZ1bmN0aW9uKHQsZSl7dmFyIGksbixvLHM9dGhpcy5nZXRMaXN0ZW5lcnNBc09iamVjdCh0KTtmb3IobyBpbiBzKWlmKHMuaGFzT3duUHJvcGVydHkobykpZm9yKG49c1tvXS5sZW5ndGg7bi0tOykhMD09PShpPXNbb11bbl0pLm9uY2UmJnRoaXMucmVtb3ZlTGlzdGVuZXIodCxpLmxpc3RlbmVyKSxpLmxpc3RlbmVyLmFwcGx5KHRoaXMsZXx8W10pPT09dGhpcy5fZ2V0T25jZVJldHVyblZhbHVlKCkmJnRoaXMucmVtb3ZlTGlzdGVuZXIodCxpLmxpc3RlbmVyKTtyZXR1cm4gdGhpc30sZS50cmlnZ2VyPW8oXCJlbWl0RXZlbnRcIiksZS5lbWl0PWZ1bmN0aW9uKHQpe3ZhciBlPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKTtyZXR1cm4gdGhpcy5lbWl0RXZlbnQodCxlKX0sZS5zZXRPbmNlUmV0dXJuVmFsdWU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX29uY2VSZXR1cm5WYWx1ZT10LHRoaXN9LGUuX2dldE9uY2VSZXR1cm5WYWx1ZT1mdW5jdGlvbigpe3JldHVybiF0aGlzLmhhc093blByb3BlcnR5KFwiX29uY2VSZXR1cm5WYWx1ZVwiKXx8dGhpcy5fb25jZVJldHVyblZhbHVlfSxlLl9nZXRFdmVudHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZXZlbnRzfHwodGhpcy5fZXZlbnRzPXt9KX0sdC5ub0NvbmZsaWN0PWZ1bmN0aW9uKCl7cmV0dXJuIGkuRXZlbnRFbWl0dGVyPW4sdH0sXCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShcImV2ZW50RW1pdHRlci9FdmVudEVtaXR0ZXJcIixbXSxmdW5jdGlvbigpe3JldHVybiB0fSk6XCJvYmplY3RcIj09dHlwZW9mIG1vZHVsZSYmbW9kdWxlLmV4cG9ydHM/bW9kdWxlLmV4cG9ydHM9dDppLkV2ZW50RW1pdHRlcj10fS5jYWxsKHRoaXMpLGZ1bmN0aW9uKGkpe3ZhciB0PWRvY3VtZW50LmRvY3VtZW50RWxlbWVudCxlPWZ1bmN0aW9uKCl7fTtmdW5jdGlvbiBuKHQpe3ZhciBlPWkuZXZlbnQ7cmV0dXJuIGUudGFyZ2V0PWUudGFyZ2V0fHxlLnNyY0VsZW1lbnR8fHQsZX10LmFkZEV2ZW50TGlzdGVuZXI/ZT1mdW5jdGlvbih0LGUsaSl7dC5hZGRFdmVudExpc3RlbmVyKGUsaSwhMSl9OnQuYXR0YWNoRXZlbnQmJihlPWZ1bmN0aW9uKGUsdCxpKXtlW3QraV09aS5oYW5kbGVFdmVudD9mdW5jdGlvbigpe3ZhciB0PW4oZSk7aS5oYW5kbGVFdmVudC5jYWxsKGksdCl9OmZ1bmN0aW9uKCl7dmFyIHQ9bihlKTtpLmNhbGwoZSx0KX0sZS5hdHRhY2hFdmVudChcIm9uXCIrdCxlW3QraV0pfSk7dmFyIG89ZnVuY3Rpb24oKXt9O3QucmVtb3ZlRXZlbnRMaXN0ZW5lcj9vPWZ1bmN0aW9uKHQsZSxpKXt0LnJlbW92ZUV2ZW50TGlzdGVuZXIoZSxpLCExKX06dC5kZXRhY2hFdmVudCYmKG89ZnVuY3Rpb24oZSxpLG4pe2UuZGV0YWNoRXZlbnQoXCJvblwiK2ksZVtpK25dKTt0cnl7ZGVsZXRlIGVbaStuXX1jYXRjaCh0KXtlW2krbl09dm9pZCAwfX0pO3ZhciBzPXtiaW5kOmUsdW5iaW5kOm99O1wiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoXCJldmVudGllL2V2ZW50aWVcIixzKTpcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cz9tb2R1bGUuZXhwb3J0cz1zOmkuZXZlbnRpZT1zfSh3aW5kb3cpLGZ1bmN0aW9uKHQpe3ZhciBvPVwiV2Via2l0IE1veiBtcyBNcyBPXCIuc3BsaXQoXCIgXCIpLHM9ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlO2Z1bmN0aW9uIGUodCl7aWYodCl7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHNbdF0pcmV0dXJuIHQ7dmFyIGU7dD10LmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK3Quc2xpY2UoMSk7Zm9yKHZhciBpPTAsbj1vLmxlbmd0aDtpPG47aSsrKWlmKGU9b1tpXSt0LFwic3RyaW5nXCI9PXR5cGVvZiBzW2VdKXJldHVybiBlfX1cImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFwiZ2V0LXN0eWxlLXByb3BlcnR5L2dldC1zdHlsZS1wcm9wZXJ0eVwiLFtdLGZ1bmN0aW9uKCl7cmV0dXJuIGV9KTpcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cz9tb2R1bGUuZXhwb3J0cz1lOnQuZ2V0U3R5bGVQcm9wZXJ0eT1lfSh3aW5kb3cpLGZ1bmN0aW9uKEUsdCl7ZnVuY3Rpb24gayh0KXt2YXIgZT1wYXJzZUZsb2F0KHQpO3JldHVybi0xPT09dC5pbmRleE9mKFwiJVwiKSYmIWlzTmFOKGUpJiZlfXZhciBQPVwidW5kZWZpbmVkXCI9PXR5cGVvZiBjb25zb2xlP2Z1bmN0aW9uKCl7fTpmdW5jdGlvbih0KXtjb25zb2xlLmVycm9yKHQpfSxEPVtcInBhZGRpbmdMZWZ0XCIsXCJwYWRkaW5nUmlnaHRcIixcInBhZGRpbmdUb3BcIixcInBhZGRpbmdCb3R0b21cIixcIm1hcmdpbkxlZnRcIixcIm1hcmdpblJpZ2h0XCIsXCJtYXJnaW5Ub3BcIixcIm1hcmdpbkJvdHRvbVwiLFwiYm9yZGVyTGVmdFdpZHRoXCIsXCJib3JkZXJSaWdodFdpZHRoXCIsXCJib3JkZXJUb3BXaWR0aFwiLFwiYm9yZGVyQm90dG9tV2lkdGhcIl07ZnVuY3Rpb24gZShtKXt2YXIgYixDLHgsdz0hMTtmdW5jdGlvbiBTKHQsZSl7aWYoRS5nZXRDb21wdXRlZFN0eWxlfHwtMT09PWUuaW5kZXhPZihcIiVcIikpcmV0dXJuIGU7dmFyIGk9dC5zdHlsZSxuPWkubGVmdCxvPXQucnVudGltZVN0eWxlLHM9byYmby5sZWZ0O3JldHVybiBzJiYoby5sZWZ0PXQuY3VycmVudFN0eWxlLmxlZnQpLGkubGVmdD1lLGU9aS5waXhlbExlZnQsaS5sZWZ0PW4scyYmKG8ubGVmdD1zKSxlfXJldHVybiBmdW5jdGlvbih0KXtpZihmdW5jdGlvbigpe2lmKCF3KXt3PSEwO3ZhciBpLGU9RS5nZXRDb21wdXRlZFN0eWxlO2lmKGk9ZT9mdW5jdGlvbih0KXtyZXR1cm4gZSh0LG51bGwpfTpmdW5jdGlvbih0KXtyZXR1cm4gdC5jdXJyZW50U3R5bGV9LGI9ZnVuY3Rpb24odCl7dmFyIGU9aSh0KTtyZXR1cm4gZXx8UChcIlN0eWxlIHJldHVybmVkIFwiK2UrXCIuIEFyZSB5b3UgcnVubmluZyB0aGlzIGNvZGUgaW4gYSBoaWRkZW4gaWZyYW1lIG9uIEZpcmVmb3g/IFNlZSBodHRwOi8vYml0Lmx5L2dldHNpemVidWcxXCIpLGV9LEM9bShcImJveFNpemluZ1wiKSl7dmFyIHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTt0LnN0eWxlLndpZHRoPVwiMjAwcHhcIix0LnN0eWxlLnBhZGRpbmc9XCIxcHggMnB4IDNweCA0cHhcIix0LnN0eWxlLmJvcmRlclN0eWxlPVwic29saWRcIix0LnN0eWxlLmJvcmRlcldpZHRoPVwiMXB4IDJweCAzcHggNHB4XCIsdC5zdHlsZVtDXT1cImJvcmRlci1ib3hcIjt2YXIgbj1kb2N1bWVudC5ib2R5fHxkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7bi5hcHBlbmRDaGlsZCh0KTt2YXIgbz1iKHQpO3g9MjAwPT09ayhvLndpZHRoKSxuLnJlbW92ZUNoaWxkKHQpfX19KCksXCJzdHJpbmdcIj09dHlwZW9mIHQmJih0PWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodCkpLHQmJlwib2JqZWN0XCI9PXR5cGVvZiB0JiZ0Lm5vZGVUeXBlKXt2YXIgZT1iKHQpO2lmKFwibm9uZVwiPT09ZS5kaXNwbGF5KXJldHVybiBmdW5jdGlvbigpe2Zvcih2YXIgdD17d2lkdGg6MCxoZWlnaHQ6MCxpbm5lcldpZHRoOjAsaW5uZXJIZWlnaHQ6MCxvdXRlcldpZHRoOjAsb3V0ZXJIZWlnaHQ6MH0sZT0wLGk9RC5sZW5ndGg7ZTxpO2UrKyl0W0RbZV1dPTA7cmV0dXJuIHR9KCk7dmFyIGk9e307aS53aWR0aD10Lm9mZnNldFdpZHRoLGkuaGVpZ2h0PXQub2Zmc2V0SGVpZ2h0O2Zvcih2YXIgbj1pLmlzQm9yZGVyQm94PSEoIUN8fCFlW0NdfHxcImJvcmRlci1ib3hcIiE9PWVbQ10pLG89MCxzPUQubGVuZ3RoO288cztvKyspe3ZhciByPURbb10sYT1lW3JdO2E9Uyh0LGEpO3ZhciBsPXBhcnNlRmxvYXQoYSk7aVtyXT1pc05hTihsKT8wOmx9dmFyIGg9aS5wYWRkaW5nTGVmdCtpLnBhZGRpbmdSaWdodCxjPWkucGFkZGluZ1RvcCtpLnBhZGRpbmdCb3R0b20sZD1pLm1hcmdpbkxlZnQraS5tYXJnaW5SaWdodCx1PWkubWFyZ2luVG9wK2kubWFyZ2luQm90dG9tLHA9aS5ib3JkZXJMZWZ0V2lkdGgraS5ib3JkZXJSaWdodFdpZHRoLGY9aS5ib3JkZXJUb3BXaWR0aCtpLmJvcmRlckJvdHRvbVdpZHRoLHY9biYmeCx5PWsoZS53aWR0aCk7ITEhPT15JiYoaS53aWR0aD15Kyh2PzA6aCtwKSk7dmFyIGc9ayhlLmhlaWdodCk7cmV0dXJuITEhPT1nJiYoaS5oZWlnaHQ9Zysodj8wOmMrZikpLGkuaW5uZXJXaWR0aD1pLndpZHRoLShoK3ApLGkuaW5uZXJIZWlnaHQ9aS5oZWlnaHQtKGMrZiksaS5vdXRlcldpZHRoPWkud2lkdGgrZCxpLm91dGVySGVpZ2h0PWkuaGVpZ2h0K3UsaX19fVwiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoXCJnZXQtc2l6ZS9nZXQtc2l6ZVwiLFtcImdldC1zdHlsZS1wcm9wZXJ0eS9nZXQtc3R5bGUtcHJvcGVydHlcIl0sZSk6XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHM/bW9kdWxlLmV4cG9ydHM9ZShyZXF1aXJlKFwiZGVzYW5kcm8tZ2V0LXN0eWxlLXByb3BlcnR5XCIpKTpFLmdldFNpemU9ZShFLmdldFN0eWxlUHJvcGVydHkpfSh3aW5kb3cpLGZ1bmN0aW9uKGUpe3ZhciBpPWUuZG9jdW1lbnQsbj1bXTtmdW5jdGlvbiBvKHQpe1wiZnVuY3Rpb25cIj09dHlwZW9mIHQmJihvLmlzUmVhZHk/dCgpOm4ucHVzaCh0KSl9ZnVuY3Rpb24gcyh0KXt2YXIgZT1cInJlYWR5c3RhdGVjaGFuZ2VcIj09PXQudHlwZSYmXCJjb21wbGV0ZVwiIT09aS5yZWFkeVN0YXRlO28uaXNSZWFkeXx8ZXx8cigpfWZ1bmN0aW9uIHIoKXtvLmlzUmVhZHk9ITA7Zm9yKHZhciB0PTAsZT1uLmxlbmd0aDt0PGU7dCsrKXsoMCxuW3RdKSgpfX1mdW5jdGlvbiB0KHQpe3JldHVyblwiY29tcGxldGVcIj09PWkucmVhZHlTdGF0ZT9yKCk6KHQuYmluZChpLFwiRE9NQ29udGVudExvYWRlZFwiLHMpLHQuYmluZChpLFwicmVhZHlzdGF0ZWNoYW5nZVwiLHMpLHQuYmluZChlLFwibG9hZFwiLHMpKSxvfW8uaXNSZWFkeT0hMSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFwiZG9jLXJlYWR5L2RvYy1yZWFkeVwiLFtcImV2ZW50aWUvZXZlbnRpZVwiXSx0KTpcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cz9tb2R1bGUuZXhwb3J0cz10KHJlcXVpcmUoXCJldmVudGllXCIpKTplLmRvY1JlYWR5PXQoZS5ldmVudGllKX0od2luZG93KSxmdW5jdGlvbihvKXtcInVzZSBzdHJpY3RcIjt2YXIgdCxpPWZ1bmN0aW9uKCl7aWYoby5tYXRjaGVzKXJldHVyblwibWF0Y2hlc1wiO2lmKG8ubWF0Y2hlc1NlbGVjdG9yKXJldHVyblwibWF0Y2hlc1NlbGVjdG9yXCI7Zm9yKHZhciB0PVtcIndlYmtpdFwiLFwibW96XCIsXCJtc1wiLFwib1wiXSxlPTAsaT10Lmxlbmd0aDtlPGk7ZSsrKXt2YXIgbj10W2VdK1wiTWF0Y2hlc1NlbGVjdG9yXCI7aWYob1tuXSlyZXR1cm4gbn19KCk7ZnVuY3Rpb24gbih0LGUpe3JldHVybiB0W2ldKGUpfWZ1bmN0aW9uIHModCl7dC5wYXJlbnROb2RlfHxkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCkuYXBwZW5kQ2hpbGQodCl9aWYoaSl7dmFyIGU9bihkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLFwiZGl2XCIpO3Q9ZT9uOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHModCksbih0LGUpfX1lbHNlIHQ9ZnVuY3Rpb24odCxlKXtzKHQpO2Zvcih2YXIgaT10LnBhcmVudE5vZGUucXVlcnlTZWxlY3RvckFsbChlKSxuPTAsbz1pLmxlbmd0aDtuPG87bisrKWlmKGlbbl09PT10KXJldHVybiEwO3JldHVybiExfTtcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFwibWF0Y2hlcy1zZWxlY3Rvci9tYXRjaGVzLXNlbGVjdG9yXCIsW10sZnVuY3Rpb24oKXtyZXR1cm4gdH0pOlwib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzP21vZHVsZS5leHBvcnRzPXQ6d2luZG93Lm1hdGNoZXNTZWxlY3Rvcj10fShFbGVtZW50LnByb3RvdHlwZSksZnVuY3Rpb24oaSxuKXtcInVzZSBzdHJpY3RcIjtcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFwiZml6enktdWktdXRpbHMvdXRpbHNcIixbXCJkb2MtcmVhZHkvZG9jLXJlYWR5XCIsXCJtYXRjaGVzLXNlbGVjdG9yL21hdGNoZXMtc2VsZWN0b3JcIl0sZnVuY3Rpb24odCxlKXtyZXR1cm4gbihpLHQsZSl9KTpcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cz9tb2R1bGUuZXhwb3J0cz1uKGkscmVxdWlyZShcImRvYy1yZWFkeVwiKSxyZXF1aXJlKFwiZGVzYW5kcm8tbWF0Y2hlcy1zZWxlY3RvclwiKSk6aS5maXp6eVVJVXRpbHM9bihpLGkuZG9jUmVhZHksaS5tYXRjaGVzU2VsZWN0b3IpfSh3aW5kb3csZnVuY3Rpb24odSx0LGgpe3ZhciBpLHA9e2V4dGVuZDpmdW5jdGlvbih0LGUpe2Zvcih2YXIgaSBpbiBlKXRbaV09ZVtpXTtyZXR1cm4gdH0sbW9kdWxvOmZ1bmN0aW9uKHQsZSl7cmV0dXJuKHQlZStlKSVlfX0sZT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO3AuaXNBcnJheT1mdW5jdGlvbih0KXtyZXR1cm5cIltvYmplY3QgQXJyYXldXCI9PWUuY2FsbCh0KX0scC5tYWtlQXJyYXk9ZnVuY3Rpb24odCl7dmFyIGU9W107aWYocC5pc0FycmF5KHQpKWU9dDtlbHNlIGlmKHQmJlwibnVtYmVyXCI9PXR5cGVvZiB0Lmxlbmd0aClmb3IodmFyIGk9MCxuPXQubGVuZ3RoO2k8bjtpKyspZS5wdXNoKHRbaV0pO2Vsc2UgZS5wdXNoKHQpO3JldHVybiBlfSxwLmluZGV4T2Y9QXJyYXkucHJvdG90eXBlLmluZGV4T2Y/ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5pbmRleE9mKGUpfTpmdW5jdGlvbih0LGUpe2Zvcih2YXIgaT0wLG49dC5sZW5ndGg7aTxuO2krKylpZih0W2ldPT09ZSlyZXR1cm4gaTtyZXR1cm4tMX0scC5yZW1vdmVGcm9tPWZ1bmN0aW9uKHQsZSl7dmFyIGk9cC5pbmRleE9mKHQsZSk7LTEhPWkmJnQuc3BsaWNlKGksMSl9LHAuaXNFbGVtZW50PVwiZnVuY3Rpb25cIj09dHlwZW9mIEhUTUxFbGVtZW50fHxcIm9iamVjdFwiPT10eXBlb2YgSFRNTEVsZW1lbnQ/ZnVuY3Rpb24odCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBIVE1MRWxlbWVudH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwib2JqZWN0XCI9PXR5cGVvZiB0JiYxPT10Lm5vZGVUeXBlJiZcInN0cmluZ1wiPT10eXBlb2YgdC5ub2RlTmFtZX0scC5zZXRUZXh0PWZ1bmN0aW9uKHQsZSl7dFtpPWl8fCh2b2lkIDAhPT1kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQudGV4dENvbnRlbnQ/XCJ0ZXh0Q29udGVudFwiOlwiaW5uZXJUZXh0XCIpXT1lfSxwLmdldFBhcmVudD1mdW5jdGlvbih0LGUpe2Zvcig7dCE9ZG9jdW1lbnQuYm9keTspaWYodD10LnBhcmVudE5vZGUsaCh0LGUpKXJldHVybiB0fSxwLmdldFF1ZXJ5RWxlbWVudD1mdW5jdGlvbih0KXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgdD9kb2N1bWVudC5xdWVyeVNlbGVjdG9yKHQpOnR9LHAuaGFuZGxlRXZlbnQ9ZnVuY3Rpb24odCl7dmFyIGU9XCJvblwiK3QudHlwZTt0aGlzW2VdJiZ0aGlzW2VdKHQpfSxwLmZpbHRlckZpbmRFbGVtZW50cz1mdW5jdGlvbih0LGUpe2Zvcih2YXIgaT1bXSxuPTAsbz0odD1wLm1ha2VBcnJheSh0KSkubGVuZ3RoO248bztuKyspe3ZhciBzPXRbbl07aWYocC5pc0VsZW1lbnQocykpaWYoZSl7aChzLGUpJiZpLnB1c2gocyk7Zm9yKHZhciByPXMucXVlcnlTZWxlY3RvckFsbChlKSxhPTAsbD1yLmxlbmd0aDthPGw7YSsrKWkucHVzaChyW2FdKX1lbHNlIGkucHVzaChzKX1yZXR1cm4gaX0scC5kZWJvdW5jZU1ldGhvZD1mdW5jdGlvbih0LGUsbil7dmFyIG89dC5wcm90b3R5cGVbZV0scz1lK1wiVGltZW91dFwiO3QucHJvdG90eXBlW2VdPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpc1tzXTt0JiZjbGVhclRpbWVvdXQodCk7dmFyIGU9YXJndW1lbnRzLGk9dGhpczt0aGlzW3NdPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtvLmFwcGx5KGksZSksZGVsZXRlIGlbc119LG58fDEwMCl9fSxwLnRvRGFzaGVkPWZ1bmN0aW9uKHQpe3JldHVybiB0LnJlcGxhY2UoLyguKShbQS1aXSkvZyxmdW5jdGlvbih0LGUsaSl7cmV0dXJuIGUrXCItXCIraX0pLnRvTG93ZXJDYXNlKCl9O3ZhciBmPXUuY29uc29sZTtyZXR1cm4gcC5odG1sSW5pdD1mdW5jdGlvbihjLGQpe3QoZnVuY3Rpb24oKXtmb3IodmFyIHQ9cC50b0Rhc2hlZChkKSxlPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuanMtXCIrdCksaT1cImRhdGEtXCIrdCtcIi1vcHRpb25zXCIsbj0wLG89ZS5sZW5ndGg7bjxvO24rKyl7dmFyIHMscj1lW25dLGE9ci5nZXRBdHRyaWJ1dGUoaSk7dHJ5e3M9YSYmSlNPTi5wYXJzZShhKX1jYXRjaCh0KXtmJiZmLmVycm9yKFwiRXJyb3IgcGFyc2luZyBcIitpK1wiIG9uIFwiK3Iubm9kZU5hbWUudG9Mb3dlckNhc2UoKSsoci5pZD9cIiNcIityLmlkOlwiXCIpK1wiOiBcIit0KTtjb250aW51ZX12YXIgbD1uZXcgYyhyLHMpLGg9dS5qUXVlcnk7aCYmaC5kYXRhKHIsZCxsKX19KX0scH0pLGZ1bmN0aW9uKGUsaSl7XCJ1c2Ugc3RyaWN0XCI7XCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShcImZsaWNraXR5L2pzL2NlbGxcIixbXCJnZXQtc2l6ZS9nZXQtc2l6ZVwiXSxmdW5jdGlvbih0KXtyZXR1cm4gaShlLHQpfSk6XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHM/bW9kdWxlLmV4cG9ydHM9aShlLHJlcXVpcmUoXCJnZXQtc2l6ZVwiKSk6KGUuRmxpY2tpdHk9ZS5GbGlja2l0eXx8e30sZS5GbGlja2l0eS5DZWxsPWkoZSxlLmdldFNpemUpKX0od2luZG93LGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gaSh0LGUpe3RoaXMuZWxlbWVudD10LHRoaXMucGFyZW50PWUsdGhpcy5jcmVhdGUoKX12YXIgbj1cImF0dGFjaEV2ZW50XCJpbiB0O3JldHVybiBpLnByb3RvdHlwZS5jcmVhdGU9ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQuc3R5bGUucG9zaXRpb249XCJhYnNvbHV0ZVwiLG4mJnRoaXMuZWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJ1bnNlbGVjdGFibGVcIixcIm9uXCIpLHRoaXMueD0wLHRoaXMuc2hpZnQ9MH0saS5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuZWxlbWVudC5zdHlsZS5wb3NpdGlvbj1cIlwiO3ZhciB0PXRoaXMucGFyZW50Lm9yaWdpblNpZGU7dGhpcy5lbGVtZW50LnN0eWxlW3RdPVwiXCJ9LGkucHJvdG90eXBlLmdldFNpemU9ZnVuY3Rpb24oKXt0aGlzLnNpemU9ZSh0aGlzLmVsZW1lbnQpfSxpLnByb3RvdHlwZS5zZXRQb3NpdGlvbj1mdW5jdGlvbih0KXt0aGlzLng9dCx0aGlzLnNldERlZmF1bHRUYXJnZXQoKSx0aGlzLnJlbmRlclBvc2l0aW9uKHQpfSxpLnByb3RvdHlwZS5zZXREZWZhdWx0VGFyZ2V0PWZ1bmN0aW9uKCl7dmFyIHQ9XCJsZWZ0XCI9PXRoaXMucGFyZW50Lm9yaWdpblNpZGU/XCJtYXJnaW5MZWZ0XCI6XCJtYXJnaW5SaWdodFwiO3RoaXMudGFyZ2V0PXRoaXMueCt0aGlzLnNpemVbdF0rdGhpcy5zaXplLndpZHRoKnRoaXMucGFyZW50LmNlbGxBbGlnbn0saS5wcm90b3R5cGUucmVuZGVyUG9zaXRpb249ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5wYXJlbnQub3JpZ2luU2lkZTt0aGlzLmVsZW1lbnQuc3R5bGVbZV09dGhpcy5wYXJlbnQuZ2V0UG9zaXRpb25WYWx1ZSh0KX0saS5wcm90b3R5cGUud3JhcFNoaWZ0PWZ1bmN0aW9uKHQpe3RoaXMuc2hpZnQ9dCx0aGlzLnJlbmRlclBvc2l0aW9uKHRoaXMueCt0aGlzLnBhcmVudC5zbGlkZWFibGVXaWR0aCp0KX0saS5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5lbGVtZW50KX0saX0pLGZ1bmN0aW9uKGksbil7XCJ1c2Ugc3RyaWN0XCI7XCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShcImZsaWNraXR5L2pzL2FuaW1hdGVcIixbXCJnZXQtc3R5bGUtcHJvcGVydHkvZ2V0LXN0eWxlLXByb3BlcnR5XCIsXCJmaXp6eS11aS11dGlscy91dGlsc1wiXSxmdW5jdGlvbih0LGUpe3JldHVybiBuKGksdCxlKX0pOlwib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzP21vZHVsZS5leHBvcnRzPW4oaSxyZXF1aXJlKFwiZGVzYW5kcm8tZ2V0LXN0eWxlLXByb3BlcnR5XCIpLHJlcXVpcmUoXCJmaXp6eS11aS11dGlsc1wiKSk6KGkuRmxpY2tpdHk9aS5GbGlja2l0eXx8e30saS5GbGlja2l0eS5hbmltYXRlUHJvdG90eXBlPW4oaSxpLmdldFN0eWxlUHJvcGVydHksaS5maXp6eVVJVXRpbHMpKX0od2luZG93LGZ1bmN0aW9uKG8sdCxpKXtmb3IodmFyIGUscz0wLG49XCJ3ZWJraXQgbW96IG1zIG9cIi5zcGxpdChcIiBcIikscj1vLnJlcXVlc3RBbmltYXRpb25GcmFtZSxhPW8uY2FuY2VsQW5pbWF0aW9uRnJhbWUsbD0wO2w8bi5sZW5ndGgmJighcnx8IWEpO2wrKyllPW5bbF0scj1yfHxvW2UrXCJSZXF1ZXN0QW5pbWF0aW9uRnJhbWVcIl0sYT1hfHxvW2UrXCJDYW5jZWxBbmltYXRpb25GcmFtZVwiXXx8b1tlK1wiQ2FuY2VsUmVxdWVzdEFuaW1hdGlvbkZyYW1lXCJdO3ImJmF8fChyPWZ1bmN0aW9uKHQpe3ZhciBlPShuZXcgRGF0ZSkuZ2V0VGltZSgpLGk9TWF0aC5tYXgoMCwxNi0oZS1zKSksbj1vLnNldFRpbWVvdXQoZnVuY3Rpb24oKXt0KGUraSl9LGkpO3JldHVybiBzPWUraSxufSxhPWZ1bmN0aW9uKHQpe28uY2xlYXJUaW1lb3V0KHQpfSk7dmFyIGg9e3N0YXJ0QW5pbWF0aW9uOmZ1bmN0aW9uKCl7dGhpcy5pc0FuaW1hdGluZ3x8KHRoaXMuaXNBbmltYXRpbmc9ITAsdGhpcy5yZXN0aW5nRnJhbWVzPTAsdGhpcy5hbmltYXRlKCkpfSxhbmltYXRlOmZ1bmN0aW9uKCl7dGhpcy5hcHBseURyYWdGb3JjZSgpLHRoaXMuYXBwbHlTZWxlY3RlZEF0dHJhY3Rpb24oKTt2YXIgdD10aGlzLng7aWYodGhpcy5pbnRlZ3JhdGVQaHlzaWNzKCksdGhpcy5wb3NpdGlvblNsaWRlcigpLHRoaXMuc2V0dGxlKHQpLHRoaXMuaXNBbmltYXRpbmcpe3ZhciBlPXRoaXM7cihmdW5jdGlvbigpe2UuYW5pbWF0ZSgpfSl9fX0sYz10KFwidHJhbnNmb3JtXCIpLGQ9ISF0KFwicGVyc3BlY3RpdmVcIik7cmV0dXJuIGgucG9zaXRpb25TbGlkZXI9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLng7dGhpcy5vcHRpb25zLndyYXBBcm91bmQmJjE8dGhpcy5jZWxscy5sZW5ndGgmJih0PWkubW9kdWxvKHQsdGhpcy5zbGlkZWFibGVXaWR0aCksdC09dGhpcy5zbGlkZWFibGVXaWR0aCx0aGlzLnNoaWZ0V3JhcENlbGxzKHQpKSx0Kz10aGlzLmN1cnNvclBvc2l0aW9uLHQ9dGhpcy5vcHRpb25zLnJpZ2h0VG9MZWZ0JiZjPy10OnQ7dmFyIGU9dGhpcy5nZXRQb3NpdGlvblZhbHVlKHQpO2M/dGhpcy5zbGlkZXIuc3R5bGVbY109ZCYmdGhpcy5pc0FuaW1hdGluZz9cInRyYW5zbGF0ZTNkKFwiK2UrXCIsMCwwKVwiOlwidHJhbnNsYXRlWChcIitlK1wiKVwiOnRoaXMuc2xpZGVyLnN0eWxlW3RoaXMub3JpZ2luU2lkZV09ZX0saC5wb3NpdGlvblNsaWRlckF0U2VsZWN0ZWQ9ZnVuY3Rpb24oKXtpZih0aGlzLmNlbGxzLmxlbmd0aCl7dmFyIHQ9dGhpcy5jZWxsc1t0aGlzLnNlbGVjdGVkSW5kZXhdO3RoaXMueD0tdC50YXJnZXQsdGhpcy5wb3NpdGlvblNsaWRlcigpfX0saC5nZXRQb3NpdGlvblZhbHVlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLm9wdGlvbnMucGVyY2VudFBvc2l0aW9uPy4wMSpNYXRoLnJvdW5kKHQvdGhpcy5zaXplLmlubmVyV2lkdGgqMWU0KStcIiVcIjpNYXRoLnJvdW5kKHQpK1wicHhcIn0saC5zZXR0bGU9ZnVuY3Rpb24odCl7dGhpcy5pc1BvaW50ZXJEb3dufHxNYXRoLnJvdW5kKDEwMCp0aGlzLngpIT1NYXRoLnJvdW5kKDEwMCp0KXx8dGhpcy5yZXN0aW5nRnJhbWVzKyssMjx0aGlzLnJlc3RpbmdGcmFtZXMmJih0aGlzLmlzQW5pbWF0aW5nPSExLGRlbGV0ZSB0aGlzLmlzRnJlZVNjcm9sbGluZyxkJiZ0aGlzLnBvc2l0aW9uU2xpZGVyKCksdGhpcy5kaXNwYXRjaEV2ZW50KFwic2V0dGxlXCIpKX0saC5zaGlmdFdyYXBDZWxscz1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmN1cnNvclBvc2l0aW9uK3Q7dGhpcy5fc2hpZnRDZWxscyh0aGlzLmJlZm9yZVNoaWZ0Q2VsbHMsZSwtMSk7dmFyIGk9dGhpcy5zaXplLmlubmVyV2lkdGgtKHQrdGhpcy5zbGlkZWFibGVXaWR0aCt0aGlzLmN1cnNvclBvc2l0aW9uKTt0aGlzLl9zaGlmdENlbGxzKHRoaXMuYWZ0ZXJTaGlmdENlbGxzLGksMSl9LGguX3NoaWZ0Q2VsbHM9ZnVuY3Rpb24odCxlLGkpe2Zvcih2YXIgbj0wLG89dC5sZW5ndGg7bjxvO24rKyl7dmFyIHM9dFtuXSxyPTA8ZT9pOjA7cy53cmFwU2hpZnQociksZS09cy5zaXplLm91dGVyV2lkdGh9fSxoLl91bnNoaWZ0Q2VsbHM9ZnVuY3Rpb24odCl7aWYodCYmdC5sZW5ndGgpZm9yKHZhciBlPTAsaT10Lmxlbmd0aDtlPGk7ZSsrKXRbZV0ud3JhcFNoaWZ0KDApfSxoLmludGVncmF0ZVBoeXNpY3M9ZnVuY3Rpb24oKXt0aGlzLnZlbG9jaXR5Kz10aGlzLmFjY2VsLHRoaXMueCs9dGhpcy52ZWxvY2l0eSx0aGlzLnZlbG9jaXR5Kj10aGlzLmdldEZyaWN0aW9uRmFjdG9yKCksdGhpcy5hY2NlbD0wfSxoLmFwcGx5Rm9yY2U9ZnVuY3Rpb24odCl7dGhpcy5hY2NlbCs9dH0saC5nZXRGcmljdGlvbkZhY3Rvcj1mdW5jdGlvbigpe3JldHVybiAxLXRoaXMub3B0aW9uc1t0aGlzLmlzRnJlZVNjcm9sbGluZz9cImZyZWVTY3JvbGxGcmljdGlvblwiOlwiZnJpY3Rpb25cIl19LGguZ2V0UmVzdGluZ1Bvc2l0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMueCt0aGlzLnZlbG9jaXR5LygxLXRoaXMuZ2V0RnJpY3Rpb25GYWN0b3IoKSl9LGguYXBwbHlEcmFnRm9yY2U9ZnVuY3Rpb24oKXtpZih0aGlzLmlzUG9pbnRlckRvd24pe3ZhciB0PXRoaXMuZHJhZ1gtdGhpcy54LXRoaXMudmVsb2NpdHk7dGhpcy5hcHBseUZvcmNlKHQpfX0saC5hcHBseVNlbGVjdGVkQXR0cmFjdGlvbj1mdW5jdGlvbigpe3ZhciB0PXRoaXMuY2VsbHMubGVuZ3RoO2lmKCF0aGlzLmlzUG9pbnRlckRvd24mJiF0aGlzLmlzRnJlZVNjcm9sbGluZyYmdCl7dmFyIGU9dGhpcy5jZWxsc1t0aGlzLnNlbGVjdGVkSW5kZXhdLGk9dGhpcy5vcHRpb25zLndyYXBBcm91bmQmJjE8dD90aGlzLnNsaWRlYWJsZVdpZHRoKk1hdGguZmxvb3IodGhpcy5zZWxlY3RlZEluZGV4L3QpOjAsbj0oLTEqKGUudGFyZ2V0K2kpLXRoaXMueCkqdGhpcy5vcHRpb25zLnNlbGVjdGVkQXR0cmFjdGlvbjt0aGlzLmFwcGx5Rm9yY2Uobil9fSxofSksZnVuY3Rpb24oYSxsKXtcInVzZSBzdHJpY3RcIjtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQpZGVmaW5lKFwiZmxpY2tpdHkvanMvZmxpY2tpdHlcIixbXCJjbGFzc2llL2NsYXNzaWVcIixcImV2ZW50RW1pdHRlci9FdmVudEVtaXR0ZXJcIixcImV2ZW50aWUvZXZlbnRpZVwiLFwiZ2V0LXNpemUvZ2V0LXNpemVcIixcImZpenp5LXVpLXV0aWxzL3V0aWxzXCIsXCIuL2NlbGxcIixcIi4vYW5pbWF0ZVwiXSxmdW5jdGlvbih0LGUsaSxuLG8scyxyKXtyZXR1cm4gbChhLHQsZSxpLG4sbyxzLHIpfSk7ZWxzZSBpZihcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cyltb2R1bGUuZXhwb3J0cz1sKGEscmVxdWlyZShcImRlc2FuZHJvLWNsYXNzaWVcIikscmVxdWlyZShcIndvbGZ5ODctZXZlbnRlbWl0dGVyXCIpLHJlcXVpcmUoXCJldmVudGllXCIpLHJlcXVpcmUoXCJnZXQtc2l6ZVwiKSxyZXF1aXJlKFwiZml6enktdWktdXRpbHNcIikscmVxdWlyZShcIi4vY2VsbFwiKSxyZXF1aXJlKFwiLi9hbmltYXRlXCIpKTtlbHNle3ZhciB0PWEuRmxpY2tpdHk7YS5GbGlja2l0eT1sKGEsYS5jbGFzc2llLGEuRXZlbnRFbWl0dGVyLGEuZXZlbnRpZSxhLmdldFNpemUsYS5maXp6eVVJVXRpbHMsdC5DZWxsLHQuYW5pbWF0ZVByb3RvdHlwZSl9fSh3aW5kb3csZnVuY3Rpb24obixpLHQsbyxlLGEsbCxzKXt2YXIgcj1uLmpRdWVyeSxoPW4uZ2V0Q29tcHV0ZWRTdHlsZSxjPW4uY29uc29sZTtmdW5jdGlvbiBkKHQsZSl7Zm9yKHQ9YS5tYWtlQXJyYXkodCk7dC5sZW5ndGg7KWUuYXBwZW5kQ2hpbGQodC5zaGlmdCgpKX12YXIgdT0wLHA9e307ZnVuY3Rpb24gZih0LGUpe3ZhciBpPWEuZ2V0UXVlcnlFbGVtZW50KHQpO2k/KHRoaXMuZWxlbWVudD1pLHImJih0aGlzLiRlbGVtZW50PXIodGhpcy5lbGVtZW50KSksdGhpcy5vcHRpb25zPWEuZXh0ZW5kKHt9LHRoaXMuY29uc3RydWN0b3IuZGVmYXVsdHMpLHRoaXMub3B0aW9uKGUpLHRoaXMuX2NyZWF0ZSgpKTpjJiZjLmVycm9yKFwiQmFkIGVsZW1lbnQgZm9yIEZsaWNraXR5OiBcIisoaXx8dCkpfWYuZGVmYXVsdHM9e2FjY2Vzc2liaWxpdHk6ITAsY2VsbEFsaWduOlwiY2VudGVyXCIsZnJlZVNjcm9sbEZyaWN0aW9uOi4wNzUsZnJpY3Rpb246LjI4LHBlcmNlbnRQb3NpdGlvbjohMCxyZXNpemU6ITAsc2VsZWN0ZWRBdHRyYWN0aW9uOi4wMjUsc2V0R2FsbGVyeVNpemU6ITB9LGYuY3JlYXRlTWV0aG9kcz1bXSxhLmV4dGVuZChmLnByb3RvdHlwZSx0LnByb3RvdHlwZSksZi5wcm90b3R5cGUuX2NyZWF0ZT1mdW5jdGlvbigpe3ZhciB0PXRoaXMuZ3VpZD0rK3U7dGhpcy5lbGVtZW50LmZsaWNraXR5R1VJRD10LChwW3RdPXRoaXMpLnNlbGVjdGVkSW5kZXg9MCx0aGlzLnJlc3RpbmdGcmFtZXM9MCx0aGlzLng9MCx0aGlzLnZlbG9jaXR5PTAsdGhpcy5hY2NlbD0wLHRoaXMub3JpZ2luU2lkZT10aGlzLm9wdGlvbnMucmlnaHRUb0xlZnQ/XCJyaWdodFwiOlwibGVmdFwiLHRoaXMudmlld3BvcnQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSx0aGlzLnZpZXdwb3J0LmNsYXNzTmFtZT1cImZsaWNraXR5LXZpZXdwb3J0XCIsZi5zZXRVbnNlbGVjdGFibGUodGhpcy52aWV3cG9ydCksdGhpcy5fY3JlYXRlU2xpZGVyKCksKHRoaXMub3B0aW9ucy5yZXNpemV8fHRoaXMub3B0aW9ucy53YXRjaENTUykmJihvLmJpbmQobixcInJlc2l6ZVwiLHRoaXMpLHRoaXMuaXNSZXNpemVCb3VuZD0hMCk7Zm9yKHZhciBlPTAsaT1mLmNyZWF0ZU1ldGhvZHMubGVuZ3RoO2U8aTtlKyspe3RoaXNbZi5jcmVhdGVNZXRob2RzW2VdXSgpfXRoaXMub3B0aW9ucy53YXRjaENTUz90aGlzLndhdGNoQ1NTKCk6dGhpcy5hY3RpdmF0ZSgpfSxmLnByb3RvdHlwZS5vcHRpb249ZnVuY3Rpb24odCl7YS5leHRlbmQodGhpcy5vcHRpb25zLHQpfSxmLnByb3RvdHlwZS5hY3RpdmF0ZT1mdW5jdGlvbigpe2lmKCF0aGlzLmlzQWN0aXZlKXt2YXIgdDt0aGlzLmlzQWN0aXZlPSEwLGkuYWRkKHRoaXMuZWxlbWVudCxcImZsaWNraXR5LWVuYWJsZWRcIiksdGhpcy5vcHRpb25zLnJpZ2h0VG9MZWZ0JiZpLmFkZCh0aGlzLmVsZW1lbnQsXCJmbGlja2l0eS1ydGxcIiksdGhpcy5nZXRTaXplKCksZCh0aGlzLl9maWx0ZXJGaW5kQ2VsbEVsZW1lbnRzKHRoaXMuZWxlbWVudC5jaGlsZHJlbiksdGhpcy5zbGlkZXIpLHRoaXMudmlld3BvcnQuYXBwZW5kQ2hpbGQodGhpcy5zbGlkZXIpLHRoaXMuZWxlbWVudC5hcHBlbmRDaGlsZCh0aGlzLnZpZXdwb3J0KSx0aGlzLnJlbG9hZENlbGxzKCksdGhpcy5vcHRpb25zLmFjY2Vzc2liaWxpdHkmJih0aGlzLmVsZW1lbnQudGFiSW5kZXg9MCxvLmJpbmQodGhpcy5lbGVtZW50LFwia2V5ZG93blwiLHRoaXMpKSx0aGlzLmVtaXQoXCJhY3RpdmF0ZVwiKTt2YXIgZT10aGlzLm9wdGlvbnMuaW5pdGlhbEluZGV4O3Q9dGhpcy5pc0luaXRBY3RpdmF0ZWQ/dGhpcy5zZWxlY3RlZEluZGV4OnZvaWQgMCE9PWUmJnRoaXMuY2VsbHNbZV0/ZTowLHRoaXMuc2VsZWN0KHQsITEsITApLHRoaXMuaXNJbml0QWN0aXZhdGVkPSEwfX0sZi5wcm90b3R5cGUuX2NyZWF0ZVNsaWRlcj1mdW5jdGlvbigpe3ZhciB0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7dC5jbGFzc05hbWU9XCJmbGlja2l0eS1zbGlkZXJcIix0LnN0eWxlW3RoaXMub3JpZ2luU2lkZV09MCx0aGlzLnNsaWRlcj10fSxmLnByb3RvdHlwZS5fZmlsdGVyRmluZENlbGxFbGVtZW50cz1mdW5jdGlvbih0KXtyZXR1cm4gYS5maWx0ZXJGaW5kRWxlbWVudHModCx0aGlzLm9wdGlvbnMuY2VsbFNlbGVjdG9yKX0sZi5wcm90b3R5cGUucmVsb2FkQ2VsbHM9ZnVuY3Rpb24oKXt0aGlzLmNlbGxzPXRoaXMuX21ha2VDZWxscyh0aGlzLnNsaWRlci5jaGlsZHJlbiksdGhpcy5wb3NpdGlvbkNlbGxzKCksdGhpcy5fZ2V0V3JhcFNoaWZ0Q2VsbHMoKSx0aGlzLnNldEdhbGxlcnlTaXplKCl9LGYucHJvdG90eXBlLl9tYWtlQ2VsbHM9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMuX2ZpbHRlckZpbmRDZWxsRWxlbWVudHModCksaT1bXSxuPTAsbz1lLmxlbmd0aDtuPG87bisrKXt2YXIgcz1lW25dLHI9bmV3IGwocyx0aGlzKTtpLnB1c2gocil9cmV0dXJuIGl9LGYucHJvdG90eXBlLmdldExhc3RDZWxsPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2VsbHNbdGhpcy5jZWxscy5sZW5ndGgtMV19LGYucHJvdG90eXBlLnBvc2l0aW9uQ2VsbHM9ZnVuY3Rpb24oKXt0aGlzLl9zaXplQ2VsbHModGhpcy5jZWxscyksdGhpcy5fcG9zaXRpb25DZWxscygwKX0sZi5wcm90b3R5cGUuX3Bvc2l0aW9uQ2VsbHM9ZnVuY3Rpb24odCl7dD10fHwwLHRoaXMubWF4Q2VsbEhlaWdodD10JiZ0aGlzLm1heENlbGxIZWlnaHR8fDA7dmFyIGUsaT0wO2lmKDA8dCl7dmFyIG49dGhpcy5jZWxsc1t0LTFdO2k9bi54K24uc2l6ZS5vdXRlcldpZHRofWZvcih2YXIgbz10aGlzLmNlbGxzLmxlbmd0aCxzPXQ7czxvO3MrKykoZT10aGlzLmNlbGxzW3NdKS5zZXRQb3NpdGlvbihpKSxpKz1lLnNpemUub3V0ZXJXaWR0aCx0aGlzLm1heENlbGxIZWlnaHQ9TWF0aC5tYXgoZS5zaXplLm91dGVySGVpZ2h0LHRoaXMubWF4Q2VsbEhlaWdodCk7dGhpcy5zbGlkZWFibGVXaWR0aD1pLHRoaXMuX2NvbnRhaW5DZWxscygpfSxmLnByb3RvdHlwZS5fc2l6ZUNlbGxzPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wLGk9dC5sZW5ndGg7ZTxpO2UrKyl7dFtlXS5nZXRTaXplKCl9fSxmLnByb3RvdHlwZS5faW5pdD1mLnByb3RvdHlwZS5yZXBvc2l0aW9uPWZ1bmN0aW9uKCl7dGhpcy5wb3NpdGlvbkNlbGxzKCksdGhpcy5wb3NpdGlvblNsaWRlckF0U2VsZWN0ZWQoKX0sZi5wcm90b3R5cGUuZ2V0U2l6ZT1mdW5jdGlvbigpe3RoaXMuc2l6ZT1lKHRoaXMuZWxlbWVudCksdGhpcy5zZXRDZWxsQWxpZ24oKSx0aGlzLmN1cnNvclBvc2l0aW9uPXRoaXMuc2l6ZS5pbm5lcldpZHRoKnRoaXMuY2VsbEFsaWdufTt2YXIgdj17Y2VudGVyOntsZWZ0Oi41LHJpZ2h0Oi41fSxsZWZ0OntsZWZ0OjAscmlnaHQ6MX0scmlnaHQ6e3JpZ2h0OjAsbGVmdDoxfX07Zi5wcm90b3R5cGUuc2V0Q2VsbEFsaWduPWZ1bmN0aW9uKCl7dmFyIHQ9dlt0aGlzLm9wdGlvbnMuY2VsbEFsaWduXTt0aGlzLmNlbGxBbGlnbj10P3RbdGhpcy5vcmlnaW5TaWRlXTp0aGlzLm9wdGlvbnMuY2VsbEFsaWdufSxmLnByb3RvdHlwZS5zZXRHYWxsZXJ5U2l6ZT1mdW5jdGlvbigpe3RoaXMub3B0aW9ucy5zZXRHYWxsZXJ5U2l6ZSYmKHRoaXMudmlld3BvcnQuc3R5bGUuaGVpZ2h0PXRoaXMubWF4Q2VsbEhlaWdodCtcInB4XCIpfSxmLnByb3RvdHlwZS5fZ2V0V3JhcFNoaWZ0Q2VsbHM9ZnVuY3Rpb24oKXtpZih0aGlzLm9wdGlvbnMud3JhcEFyb3VuZCl7dGhpcy5fdW5zaGlmdENlbGxzKHRoaXMuYmVmb3JlU2hpZnRDZWxscyksdGhpcy5fdW5zaGlmdENlbGxzKHRoaXMuYWZ0ZXJTaGlmdENlbGxzKTt2YXIgdD10aGlzLmN1cnNvclBvc2l0aW9uLGU9dGhpcy5jZWxscy5sZW5ndGgtMTt0aGlzLmJlZm9yZVNoaWZ0Q2VsbHM9dGhpcy5fZ2V0R2FwQ2VsbHModCxlLC0xKSx0PXRoaXMuc2l6ZS5pbm5lcldpZHRoLXRoaXMuY3Vyc29yUG9zaXRpb24sdGhpcy5hZnRlclNoaWZ0Q2VsbHM9dGhpcy5fZ2V0R2FwQ2VsbHModCwwLDEpfX0sZi5wcm90b3R5cGUuX2dldEdhcENlbGxzPWZ1bmN0aW9uKHQsZSxpKXtmb3IodmFyIG49W107MDx0Oyl7dmFyIG89dGhpcy5jZWxsc1tlXTtpZighbylicmVhaztuLnB1c2gobyksZSs9aSx0LT1vLnNpemUub3V0ZXJXaWR0aH1yZXR1cm4gbn0sZi5wcm90b3R5cGUuX2NvbnRhaW5DZWxscz1mdW5jdGlvbigpe2lmKHRoaXMub3B0aW9ucy5jb250YWluJiYhdGhpcy5vcHRpb25zLndyYXBBcm91bmQmJnRoaXMuY2VsbHMubGVuZ3RoKWZvcih2YXIgdD10aGlzLm9wdGlvbnMucmlnaHRUb0xlZnQ/XCJtYXJnaW5SaWdodFwiOlwibWFyZ2luTGVmdFwiLGU9dGhpcy5vcHRpb25zLnJpZ2h0VG9MZWZ0P1wibWFyZ2luTGVmdFwiOlwibWFyZ2luUmlnaHRcIixpPXRoaXMuY2VsbHNbMF0uc2l6ZVt0XSxuPXRoaXMuZ2V0TGFzdENlbGwoKSxvPXRoaXMuc2xpZGVhYmxlV2lkdGgtbi5zaXplW2VdLHM9by10aGlzLnNpemUuaW5uZXJXaWR0aCooMS10aGlzLmNlbGxBbGlnbikscj1vPHRoaXMuc2l6ZS5pbm5lcldpZHRoLGE9MCxsPXRoaXMuY2VsbHMubGVuZ3RoO2E8bDthKyspe3ZhciBoPXRoaXMuY2VsbHNbYV07aC5zZXREZWZhdWx0VGFyZ2V0KCksaC50YXJnZXQ9cj9vKnRoaXMuY2VsbEFsaWduOihoLnRhcmdldD1NYXRoLm1heChoLnRhcmdldCx0aGlzLmN1cnNvclBvc2l0aW9uK2kpLE1hdGgubWluKGgudGFyZ2V0LHMpKX19LGYucHJvdG90eXBlLmRpc3BhdGNoRXZlbnQ9ZnVuY3Rpb24odCxlLGkpe3ZhciBuPVtlXS5jb25jYXQoaSk7aWYodGhpcy5lbWl0RXZlbnQodCxuKSxyJiZ0aGlzLiRlbGVtZW50KWlmKGUpe3ZhciBvPXIuRXZlbnQoZSk7by50eXBlPXQsdGhpcy4kZWxlbWVudC50cmlnZ2VyKG8saSl9ZWxzZSB0aGlzLiRlbGVtZW50LnRyaWdnZXIodCxpKX0sZi5wcm90b3R5cGUuc2VsZWN0PWZ1bmN0aW9uKHQsZSxpKXtpZih0aGlzLmlzQWN0aXZlKXt0PXBhcnNlSW50KHQsMTApO3ZhciBuPXRoaXMuY2VsbHMubGVuZ3RoO3RoaXMub3B0aW9ucy53cmFwQXJvdW5kJiYxPG4mJih0PDA/dGhpcy54LT10aGlzLnNsaWRlYWJsZVdpZHRoOm48PXQmJih0aGlzLngrPXRoaXMuc2xpZGVhYmxlV2lkdGgpKSwodGhpcy5vcHRpb25zLndyYXBBcm91bmR8fGUpJiYodD1hLm1vZHVsbyh0LG4pKSx0aGlzLmNlbGxzW3RdJiYodGhpcy5zZWxlY3RlZEluZGV4PXQsdGhpcy5zZXRTZWxlY3RlZENlbGwoKSxpP3RoaXMucG9zaXRpb25TbGlkZXJBdFNlbGVjdGVkKCk6dGhpcy5zdGFydEFuaW1hdGlvbigpLHRoaXMuZGlzcGF0Y2hFdmVudChcImNlbGxTZWxlY3RcIikpfX0sZi5wcm90b3R5cGUucHJldmlvdXM9ZnVuY3Rpb24odCl7dGhpcy5zZWxlY3QodGhpcy5zZWxlY3RlZEluZGV4LTEsdCl9LGYucHJvdG90eXBlLm5leHQ9ZnVuY3Rpb24odCl7dGhpcy5zZWxlY3QodGhpcy5zZWxlY3RlZEluZGV4KzEsdCl9LGYucHJvdG90eXBlLnNldFNlbGVjdGVkQ2VsbD1mdW5jdGlvbigpe3RoaXMuX3JlbW92ZVNlbGVjdGVkQ2VsbENsYXNzKCksdGhpcy5zZWxlY3RlZENlbGw9dGhpcy5jZWxsc1t0aGlzLnNlbGVjdGVkSW5kZXhdLHRoaXMuc2VsZWN0ZWRFbGVtZW50PXRoaXMuc2VsZWN0ZWRDZWxsLmVsZW1lbnQsaS5hZGQodGhpcy5zZWxlY3RlZEVsZW1lbnQsXCJpcy1zZWxlY3RlZFwiKX0sZi5wcm90b3R5cGUuX3JlbW92ZVNlbGVjdGVkQ2VsbENsYXNzPWZ1bmN0aW9uKCl7dGhpcy5zZWxlY3RlZENlbGwmJmkucmVtb3ZlKHRoaXMuc2VsZWN0ZWRDZWxsLmVsZW1lbnQsXCJpcy1zZWxlY3RlZFwiKX0sZi5wcm90b3R5cGUuZ2V0Q2VsbD1mdW5jdGlvbih0KXtmb3IodmFyIGU9MCxpPXRoaXMuY2VsbHMubGVuZ3RoO2U8aTtlKyspe3ZhciBuPXRoaXMuY2VsbHNbZV07aWYobi5lbGVtZW50PT10KXJldHVybiBufX0sZi5wcm90b3R5cGUuZ2V0Q2VsbHM9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPVtdLGk9MCxuPSh0PWEubWFrZUFycmF5KHQpKS5sZW5ndGg7aTxuO2krKyl7dmFyIG89dFtpXSxzPXRoaXMuZ2V0Q2VsbChvKTtzJiZlLnB1c2gocyl9cmV0dXJuIGV9LGYucHJvdG90eXBlLmdldENlbGxFbGVtZW50cz1mdW5jdGlvbigpe2Zvcih2YXIgdD1bXSxlPTAsaT10aGlzLmNlbGxzLmxlbmd0aDtlPGk7ZSsrKXQucHVzaCh0aGlzLmNlbGxzW2VdLmVsZW1lbnQpO3JldHVybiB0fSxmLnByb3RvdHlwZS5nZXRQYXJlbnRDZWxsPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZ2V0Q2VsbCh0KTtyZXR1cm4gZXx8KHQ9YS5nZXRQYXJlbnQodCxcIi5mbGlja2l0eS1zbGlkZXIgPiAqXCIpLHRoaXMuZ2V0Q2VsbCh0KSl9LGYucHJvdG90eXBlLmdldEFkamFjZW50Q2VsbEVsZW1lbnRzPWZ1bmN0aW9uKHQsZSl7aWYoIXQpcmV0dXJuW3RoaXMuc2VsZWN0ZWRFbGVtZW50XTtlPXZvaWQgMD09PWU/dGhpcy5zZWxlY3RlZEluZGV4OmU7dmFyIGk9dGhpcy5jZWxscy5sZW5ndGg7aWYoaTw9MSsyKnQpcmV0dXJuIHRoaXMuZ2V0Q2VsbEVsZW1lbnRzKCk7Zm9yKHZhciBuPVtdLG89ZS10O288PWUrdDtvKyspe3ZhciBzPXRoaXMub3B0aW9ucy53cmFwQXJvdW5kP2EubW9kdWxvKG8saSk6byxyPXRoaXMuY2VsbHNbc107ciYmbi5wdXNoKHIuZWxlbWVudCl9cmV0dXJuIG59LGYucHJvdG90eXBlLnVpQ2hhbmdlPWZ1bmN0aW9uKCl7dGhpcy5lbWl0KFwidWlDaGFuZ2VcIil9LGYucHJvdG90eXBlLmNoaWxkVUlQb2ludGVyRG93bj1mdW5jdGlvbih0KXt0aGlzLmVtaXRFdmVudChcImNoaWxkVUlQb2ludGVyRG93blwiLFt0XSl9LGYucHJvdG90eXBlLm9ucmVzaXplPWZ1bmN0aW9uKCl7dGhpcy53YXRjaENTUygpLHRoaXMucmVzaXplKCl9LGEuZGVib3VuY2VNZXRob2QoZixcIm9ucmVzaXplXCIsMTUwKSxmLnByb3RvdHlwZS5yZXNpemU9ZnVuY3Rpb24oKXt0aGlzLmlzQWN0aXZlJiYodGhpcy5nZXRTaXplKCksdGhpcy5vcHRpb25zLndyYXBBcm91bmQmJih0aGlzLng9YS5tb2R1bG8odGhpcy54LHRoaXMuc2xpZGVhYmxlV2lkdGgpKSx0aGlzLnBvc2l0aW9uQ2VsbHMoKSx0aGlzLl9nZXRXcmFwU2hpZnRDZWxscygpLHRoaXMuc2V0R2FsbGVyeVNpemUoKSx0aGlzLnBvc2l0aW9uU2xpZGVyQXRTZWxlY3RlZCgpKX07dmFyIHksZz1mLnN1cHBvcnRzQ29uZGl0aW9uYWxDU1M9ZnVuY3Rpb24oKXtpZih2b2lkIDAhPT15KXJldHVybiB5O2lmKGgpe3ZhciB0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKSxlPWRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCdib2R5OmFmdGVyIHsgY29udGVudDogXCJmb29cIjsgZGlzcGxheTogbm9uZTsgfScpO3QuYXBwZW5kQ2hpbGQoZSksZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZCh0KTt2YXIgaT1oKGRvY3VtZW50LmJvZHksXCI6YWZ0ZXJcIikuY29udGVudDtyZXR1cm4geT0tMSE9aS5pbmRleE9mKFwiZm9vXCIpLGRvY3VtZW50LmhlYWQucmVtb3ZlQ2hpbGQodCkseX15PSExfTtmLnByb3RvdHlwZS53YXRjaENTUz1mdW5jdGlvbigpe3ZhciB0PXRoaXMub3B0aW9ucy53YXRjaENTUzt0JiYoZygpPy0xIT1oKHRoaXMuZWxlbWVudCxcIjphZnRlclwiKS5jb250ZW50LmluZGV4T2YoXCJmbGlja2l0eVwiKT90aGlzLmFjdGl2YXRlKCk6dGhpcy5kZWFjdGl2YXRlKCk6dGhpc1tcImZhbGxiYWNrT25cIj09dD9cImFjdGl2YXRlXCI6XCJkZWFjdGl2YXRlXCJdKCkpfSxmLnByb3RvdHlwZS5vbmtleWRvd249ZnVuY3Rpb24odCl7aWYodGhpcy5vcHRpb25zLmFjY2Vzc2liaWxpdHkmJighZG9jdW1lbnQuYWN0aXZlRWxlbWVudHx8ZG9jdW1lbnQuYWN0aXZlRWxlbWVudD09dGhpcy5lbGVtZW50KSlpZigzNz09dC5rZXlDb2RlKXt2YXIgZT10aGlzLm9wdGlvbnMucmlnaHRUb0xlZnQ/XCJuZXh0XCI6XCJwcmV2aW91c1wiO3RoaXMudWlDaGFuZ2UoKSx0aGlzW2VdKCl9ZWxzZSBpZigzOT09dC5rZXlDb2RlKXt2YXIgaT10aGlzLm9wdGlvbnMucmlnaHRUb0xlZnQ/XCJwcmV2aW91c1wiOlwibmV4dFwiO3RoaXMudWlDaGFuZ2UoKSx0aGlzW2ldKCl9fSxmLnByb3RvdHlwZS5kZWFjdGl2YXRlPWZ1bmN0aW9uKCl7aWYodGhpcy5pc0FjdGl2ZSl7aS5yZW1vdmUodGhpcy5lbGVtZW50LFwiZmxpY2tpdHktZW5hYmxlZFwiKSxpLnJlbW92ZSh0aGlzLmVsZW1lbnQsXCJmbGlja2l0eS1ydGxcIik7Zm9yKHZhciB0PTAsZT10aGlzLmNlbGxzLmxlbmd0aDt0PGU7dCsrKXt0aGlzLmNlbGxzW3RdLmRlc3Ryb3koKX10aGlzLl9yZW1vdmVTZWxlY3RlZENlbGxDbGFzcygpLHRoaXMuZWxlbWVudC5yZW1vdmVDaGlsZCh0aGlzLnZpZXdwb3J0KSxkKHRoaXMuc2xpZGVyLmNoaWxkcmVuLHRoaXMuZWxlbWVudCksdGhpcy5vcHRpb25zLmFjY2Vzc2liaWxpdHkmJih0aGlzLmVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKFwidGFiSW5kZXhcIiksby51bmJpbmQodGhpcy5lbGVtZW50LFwia2V5ZG93blwiLHRoaXMpKSx0aGlzLmlzQWN0aXZlPSExLHRoaXMuZW1pdChcImRlYWN0aXZhdGVcIil9fSxmLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5kZWFjdGl2YXRlKCksdGhpcy5pc1Jlc2l6ZUJvdW5kJiZvLnVuYmluZChuLFwicmVzaXplXCIsdGhpcyksdGhpcy5lbWl0KFwiZGVzdHJveVwiKSxyJiZ0aGlzLiRlbGVtZW50JiZyLnJlbW92ZURhdGEodGhpcy5lbGVtZW50LFwiZmxpY2tpdHlcIiksZGVsZXRlIHRoaXMuZWxlbWVudC5mbGlja2l0eUdVSUQsZGVsZXRlIHBbdGhpcy5ndWlkXX0sYS5leHRlbmQoZi5wcm90b3R5cGUscyk7dmFyIG09XCJhdHRhY2hFdmVudFwiaW4gbjtyZXR1cm4gZi5zZXRVbnNlbGVjdGFibGU9ZnVuY3Rpb24odCl7bSYmdC5zZXRBdHRyaWJ1dGUoXCJ1bnNlbGVjdGFibGVcIixcIm9uXCIpfSxmLmRhdGE9ZnVuY3Rpb24odCl7dmFyIGU9KHQ9YS5nZXRRdWVyeUVsZW1lbnQodCkpJiZ0LmZsaWNraXR5R1VJRDtyZXR1cm4gZSYmcFtlXX0sYS5odG1sSW5pdChmLFwiZmxpY2tpdHlcIiksciYmci5icmlkZ2V0JiZyLmJyaWRnZXQoXCJmbGlja2l0eVwiLGYpLGYuQ2VsbD1sLGZ9KSxmdW5jdGlvbihpLG4pe1widXNlIHN0cmljdFwiO1wiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoXCJ1bmlwb2ludGVyL3VuaXBvaW50ZXJcIixbXCJldmVudEVtaXR0ZXIvRXZlbnRFbWl0dGVyXCIsXCJldmVudGllL2V2ZW50aWVcIl0sZnVuY3Rpb24odCxlKXtyZXR1cm4gbihpLHQsZSl9KTpcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cz9tb2R1bGUuZXhwb3J0cz1uKGkscmVxdWlyZShcIndvbGZ5ODctZXZlbnRlbWl0dGVyXCIpLHJlcXVpcmUoXCJldmVudGllXCIpKTppLlVuaXBvaW50ZXI9bihpLGkuRXZlbnRFbWl0dGVyLGkuZXZlbnRpZSl9KHdpbmRvdyxmdW5jdGlvbihyLHQsYSl7ZnVuY3Rpb24gZSgpe30oZS5wcm90b3R5cGU9bmV3IHQpLmJpbmRTdGFydEV2ZW50PWZ1bmN0aW9uKHQpe3RoaXMuX2JpbmRTdGFydEV2ZW50KHQsITApfSxlLnByb3RvdHlwZS51bmJpbmRTdGFydEV2ZW50PWZ1bmN0aW9uKHQpe3RoaXMuX2JpbmRTdGFydEV2ZW50KHQsITEpfSxlLnByb3RvdHlwZS5fYmluZFN0YXJ0RXZlbnQ9ZnVuY3Rpb24odCxlKXt2YXIgaT0oZT12b2lkIDA9PT1lfHwhIWUpP1wiYmluZFwiOlwidW5iaW5kXCI7ci5uYXZpZ2F0b3IucG9pbnRlckVuYWJsZWQ/YVtpXSh0LFwicG9pbnRlcmRvd25cIix0aGlzKTpyLm5hdmlnYXRvci5tc1BvaW50ZXJFbmFibGVkP2FbaV0odCxcIk1TUG9pbnRlckRvd25cIix0aGlzKTooYVtpXSh0LFwibW91c2Vkb3duXCIsdGhpcyksYVtpXSh0LFwidG91Y2hzdGFydFwiLHRoaXMpKX0sZS5wcm90b3R5cGUuaGFuZGxlRXZlbnQ9ZnVuY3Rpb24odCl7dmFyIGU9XCJvblwiK3QudHlwZTt0aGlzW2VdJiZ0aGlzW2VdKHQpfSxlLnByb3RvdHlwZS5nZXRUb3VjaD1mdW5jdGlvbih0KXtmb3IodmFyIGU9MCxpPXQubGVuZ3RoO2U8aTtlKyspe3ZhciBuPXRbZV07aWYobi5pZGVudGlmaWVyPT10aGlzLnBvaW50ZXJJZGVudGlmaWVyKXJldHVybiBufX0sZS5wcm90b3R5cGUub25tb3VzZWRvd249ZnVuY3Rpb24odCl7dmFyIGU9dC5idXR0b247ZSYmMCE9PWUmJjEhPT1lfHx0aGlzLl9wb2ludGVyRG93bih0LHQpfSxlLnByb3RvdHlwZS5vbnRvdWNoc3RhcnQ9ZnVuY3Rpb24odCl7dGhpcy5fcG9pbnRlckRvd24odCx0LmNoYW5nZWRUb3VjaGVzWzBdKX0sZS5wcm90b3R5cGUub25NU1BvaW50ZXJEb3duPWUucHJvdG90eXBlLm9ucG9pbnRlcmRvd249ZnVuY3Rpb24odCl7dGhpcy5fcG9pbnRlckRvd24odCx0KX0sZS5wcm90b3R5cGUuX3BvaW50ZXJEb3duPWZ1bmN0aW9uKHQsZSl7dGhpcy5pc1BvaW50ZXJEb3dufHwodGhpcy5pc1BvaW50ZXJEb3duPSEwLHRoaXMucG9pbnRlcklkZW50aWZpZXI9dm9pZCAwIT09ZS5wb2ludGVySWQ/ZS5wb2ludGVySWQ6ZS5pZGVudGlmaWVyLHRoaXMucG9pbnRlckRvd24odCxlKSl9LGUucHJvdG90eXBlLnBvaW50ZXJEb3duPWZ1bmN0aW9uKHQsZSl7dGhpcy5fYmluZFBvc3RTdGFydEV2ZW50cyh0KSx0aGlzLmVtaXRFdmVudChcInBvaW50ZXJEb3duXCIsW3QsZV0pfTt2YXIgbD17bW91c2Vkb3duOltcIm1vdXNlbW92ZVwiLFwibW91c2V1cFwiXSx0b3VjaHN0YXJ0OltcInRvdWNobW92ZVwiLFwidG91Y2hlbmRcIixcInRvdWNoY2FuY2VsXCJdLHBvaW50ZXJkb3duOltcInBvaW50ZXJtb3ZlXCIsXCJwb2ludGVydXBcIixcInBvaW50ZXJjYW5jZWxcIl0sTVNQb2ludGVyRG93bjpbXCJNU1BvaW50ZXJNb3ZlXCIsXCJNU1BvaW50ZXJVcFwiLFwiTVNQb2ludGVyQ2FuY2VsXCJdfTtyZXR1cm4gZS5wcm90b3R5cGUuX2JpbmRQb3N0U3RhcnRFdmVudHM9ZnVuY3Rpb24odCl7aWYodCl7Zm9yKHZhciBlPWxbdC50eXBlXSxpPXQucHJldmVudERlZmF1bHQ/cjpkb2N1bWVudCxuPTAsbz1lLmxlbmd0aDtuPG87bisrKXt2YXIgcz1lW25dO2EuYmluZChpLHMsdGhpcyl9dGhpcy5fYm91bmRQb2ludGVyRXZlbnRzPXtldmVudHM6ZSxub2RlOml9fX0sZS5wcm90b3R5cGUuX3VuYmluZFBvc3RTdGFydEV2ZW50cz1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX2JvdW5kUG9pbnRlckV2ZW50cztpZih0JiZ0LmV2ZW50cyl7Zm9yKHZhciBlPTAsaT10LmV2ZW50cy5sZW5ndGg7ZTxpO2UrKyl7dmFyIG49dC5ldmVudHNbZV07YS51bmJpbmQodC5ub2RlLG4sdGhpcyl9ZGVsZXRlIHRoaXMuX2JvdW5kUG9pbnRlckV2ZW50c319LGUucHJvdG90eXBlLm9ubW91c2Vtb3ZlPWZ1bmN0aW9uKHQpe3RoaXMuX3BvaW50ZXJNb3ZlKHQsdCl9LGUucHJvdG90eXBlLm9uTVNQb2ludGVyTW92ZT1lLnByb3RvdHlwZS5vbnBvaW50ZXJtb3ZlPWZ1bmN0aW9uKHQpe3QucG9pbnRlcklkPT10aGlzLnBvaW50ZXJJZGVudGlmaWVyJiZ0aGlzLl9wb2ludGVyTW92ZSh0LHQpfSxlLnByb3RvdHlwZS5vbnRvdWNobW92ZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmdldFRvdWNoKHQuY2hhbmdlZFRvdWNoZXMpO2UmJnRoaXMuX3BvaW50ZXJNb3ZlKHQsZSl9LGUucHJvdG90eXBlLl9wb2ludGVyTW92ZT1mdW5jdGlvbih0LGUpe3RoaXMucG9pbnRlck1vdmUodCxlKX0sZS5wcm90b3R5cGUucG9pbnRlck1vdmU9ZnVuY3Rpb24odCxlKXt0aGlzLmVtaXRFdmVudChcInBvaW50ZXJNb3ZlXCIsW3QsZV0pfSxlLnByb3RvdHlwZS5vbm1vdXNldXA9ZnVuY3Rpb24odCl7dGhpcy5fcG9pbnRlclVwKHQsdCl9LGUucHJvdG90eXBlLm9uTVNQb2ludGVyVXA9ZS5wcm90b3R5cGUub25wb2ludGVydXA9ZnVuY3Rpb24odCl7dC5wb2ludGVySWQ9PXRoaXMucG9pbnRlcklkZW50aWZpZXImJnRoaXMuX3BvaW50ZXJVcCh0LHQpfSxlLnByb3RvdHlwZS5vbnRvdWNoZW5kPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZ2V0VG91Y2godC5jaGFuZ2VkVG91Y2hlcyk7ZSYmdGhpcy5fcG9pbnRlclVwKHQsZSl9LGUucHJvdG90eXBlLl9wb2ludGVyVXA9ZnVuY3Rpb24odCxlKXt0aGlzLl9wb2ludGVyRG9uZSgpLHRoaXMucG9pbnRlclVwKHQsZSl9LGUucHJvdG90eXBlLnBvaW50ZXJVcD1mdW5jdGlvbih0LGUpe3RoaXMuZW1pdEV2ZW50KFwicG9pbnRlclVwXCIsW3QsZV0pfSxlLnByb3RvdHlwZS5fcG9pbnRlckRvbmU9ZnVuY3Rpb24oKXt0aGlzLmlzUG9pbnRlckRvd249ITEsZGVsZXRlIHRoaXMucG9pbnRlcklkZW50aWZpZXIsdGhpcy5fdW5iaW5kUG9zdFN0YXJ0RXZlbnRzKCksdGhpcy5wb2ludGVyRG9uZSgpfSxlLnByb3RvdHlwZS5wb2ludGVyRG9uZT1mdW5jdGlvbigpe30sZS5wcm90b3R5cGUub25NU1BvaW50ZXJDYW5jZWw9ZS5wcm90b3R5cGUub25wb2ludGVyY2FuY2VsPWZ1bmN0aW9uKHQpe3QucG9pbnRlcklkPT10aGlzLnBvaW50ZXJJZGVudGlmaWVyJiZ0aGlzLl9wb2ludGVyQ2FuY2VsKHQsdCl9LGUucHJvdG90eXBlLm9udG91Y2hjYW5jZWw9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5nZXRUb3VjaCh0LmNoYW5nZWRUb3VjaGVzKTtlJiZ0aGlzLl9wb2ludGVyQ2FuY2VsKHQsZSl9LGUucHJvdG90eXBlLl9wb2ludGVyQ2FuY2VsPWZ1bmN0aW9uKHQsZSl7dGhpcy5fcG9pbnRlckRvbmUoKSx0aGlzLnBvaW50ZXJDYW5jZWwodCxlKX0sZS5wcm90b3R5cGUucG9pbnRlckNhbmNlbD1mdW5jdGlvbih0LGUpe3RoaXMuZW1pdEV2ZW50KFwicG9pbnRlckNhbmNlbFwiLFt0LGVdKX0sZS5nZXRQb2ludGVyUG9pbnQ9ZnVuY3Rpb24odCl7cmV0dXJue3g6dm9pZCAwIT09dC5wYWdlWD90LnBhZ2VYOnQuY2xpZW50WCx5OnZvaWQgMCE9PXQucGFnZVk/dC5wYWdlWTp0LmNsaWVudFl9fSxlfSksZnVuY3Rpb24oaSxuKXtcInVzZSBzdHJpY3RcIjtcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFwidW5pZHJhZ2dlci91bmlkcmFnZ2VyXCIsW1wiZXZlbnRpZS9ldmVudGllXCIsXCJ1bmlwb2ludGVyL3VuaXBvaW50ZXJcIl0sZnVuY3Rpb24odCxlKXtyZXR1cm4gbihpLHQsZSl9KTpcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cz9tb2R1bGUuZXhwb3J0cz1uKGkscmVxdWlyZShcImV2ZW50aWVcIikscmVxdWlyZShcInVuaXBvaW50ZXJcIikpOmkuVW5pZHJhZ2dlcj1uKGksaS5ldmVudGllLGkuVW5pcG9pbnRlcil9KHdpbmRvdyxmdW5jdGlvbihuLHIsbyl7ZnVuY3Rpb24gcyh0KXt0LnByZXZlbnREZWZhdWx0P3QucHJldmVudERlZmF1bHQoKTp0LnJldHVyblZhbHVlPSExfWZ1bmN0aW9uIGEoKXt9KGEucHJvdG90eXBlPW5ldyBvKS5iaW5kSGFuZGxlcz1mdW5jdGlvbigpe3RoaXMuX2JpbmRIYW5kbGVzKCEwKX0sYS5wcm90b3R5cGUudW5iaW5kSGFuZGxlcz1mdW5jdGlvbigpe3RoaXMuX2JpbmRIYW5kbGVzKCExKX07dmFyIGw9bi5uYXZpZ2F0b3I7ZnVuY3Rpb24gaCgpe3JldHVybiExfWEucHJvdG90eXBlLl9iaW5kSGFuZGxlcz1mdW5jdGlvbihlKXt2YXIgdDtlPXZvaWQgMD09PWV8fCEhZSx0PWwucG9pbnRlckVuYWJsZWQ/ZnVuY3Rpb24odCl7dC5zdHlsZS50b3VjaEFjdGlvbj1lP1wibm9uZVwiOlwiXCJ9OmwubXNQb2ludGVyRW5hYmxlZD9mdW5jdGlvbih0KXt0LnN0eWxlLm1zVG91Y2hBY3Rpb249ZT9cIm5vbmVcIjpcIlwifTpmdW5jdGlvbigpe2UmJmMocyl9O2Zvcih2YXIgaT1lP1wiYmluZFwiOlwidW5iaW5kXCIsbj0wLG89dGhpcy5oYW5kbGVzLmxlbmd0aDtuPG87bisrKXt2YXIgcz10aGlzLmhhbmRsZXNbbl07dGhpcy5fYmluZFN0YXJ0RXZlbnQocyxlKSx0KHMpLHJbaV0ocyxcImNsaWNrXCIsdGhpcyl9fTt2YXIgYz1cImF0dGFjaEV2ZW50XCJpbiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ/ZnVuY3Rpb24odCl7XCJJTUdcIj09dC5ub2RlTmFtZSYmKHQub25kcmFnc3RhcnQ9aCk7Zm9yKHZhciBlPXQucXVlcnlTZWxlY3RvckFsbChcImltZ1wiKSxpPTAsbj1lLmxlbmd0aDtpPG47aSsrKXtlW2ldLm9uZHJhZ3N0YXJ0PWh9fTpmdW5jdGlvbigpe307YS5wcm90b3R5cGUucG9pbnRlckRvd249ZnVuY3Rpb24odCxlKXtpZihcIklOUFVUXCI9PXQudGFyZ2V0Lm5vZGVOYW1lJiZcInJhbmdlXCI9PXQudGFyZ2V0LnR5cGUpcmV0dXJuIHRoaXMuaXNQb2ludGVyRG93bj0hMSx2b2lkIGRlbGV0ZSB0aGlzLnBvaW50ZXJJZGVudGlmaWVyO3RoaXMuX2RyYWdQb2ludGVyRG93bih0LGUpO3ZhciBpPWRvY3VtZW50LmFjdGl2ZUVsZW1lbnQ7aSYmaS5ibHVyJiZpLmJsdXIoKSx0aGlzLl9iaW5kUG9zdFN0YXJ0RXZlbnRzKHQpLHRoaXMucG9pbnRlckRvd25TY3JvbGw9YS5nZXRTY3JvbGxQb3NpdGlvbigpLHIuYmluZChuLFwic2Nyb2xsXCIsdGhpcyksdGhpcy5lbWl0RXZlbnQoXCJwb2ludGVyRG93blwiLFt0LGVdKX0sYS5wcm90b3R5cGUuX2RyYWdQb2ludGVyRG93bj1mdW5jdGlvbih0LGUpe3RoaXMucG9pbnRlckRvd25Qb2ludD1vLmdldFBvaW50ZXJQb2ludChlKTt2YXIgaT1cInRvdWNoc3RhcnRcIj09dC50eXBlLG49dC50YXJnZXQubm9kZU5hbWU7aXx8XCJTRUxFQ1RcIj09bnx8cyh0KX0sYS5wcm90b3R5cGUucG9pbnRlck1vdmU9ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLl9kcmFnUG9pbnRlck1vdmUodCxlKTt0aGlzLmVtaXRFdmVudChcInBvaW50ZXJNb3ZlXCIsW3QsZSxpXSksdGhpcy5fZHJhZ01vdmUodCxlLGkpfSxhLnByb3RvdHlwZS5fZHJhZ1BvaW50ZXJNb3ZlPWZ1bmN0aW9uKHQsZSl7dmFyIGk9by5nZXRQb2ludGVyUG9pbnQoZSksbj17eDppLngtdGhpcy5wb2ludGVyRG93blBvaW50LngseTppLnktdGhpcy5wb2ludGVyRG93blBvaW50Lnl9O3JldHVybiF0aGlzLmlzRHJhZ2dpbmcmJnRoaXMuaGFzRHJhZ1N0YXJ0ZWQobikmJnRoaXMuX2RyYWdTdGFydCh0LGUpLG59LGEucHJvdG90eXBlLmhhc0RyYWdTdGFydGVkPWZ1bmN0aW9uKHQpe3JldHVybiAzPE1hdGguYWJzKHQueCl8fDM8TWF0aC5hYnModC55KX0sYS5wcm90b3R5cGUucG9pbnRlclVwPWZ1bmN0aW9uKHQsZSl7dGhpcy5lbWl0RXZlbnQoXCJwb2ludGVyVXBcIixbdCxlXSksdGhpcy5fZHJhZ1BvaW50ZXJVcCh0LGUpfSxhLnByb3RvdHlwZS5fZHJhZ1BvaW50ZXJVcD1mdW5jdGlvbih0LGUpe3RoaXMuaXNEcmFnZ2luZz90aGlzLl9kcmFnRW5kKHQsZSk6dGhpcy5fc3RhdGljQ2xpY2sodCxlKX0sYS5wcm90b3R5cGUucG9pbnRlckRvbmU9ZnVuY3Rpb24oKXtyLnVuYmluZChuLFwic2Nyb2xsXCIsdGhpcyl9LGEucHJvdG90eXBlLl9kcmFnU3RhcnQ9ZnVuY3Rpb24odCxlKXt0aGlzLmlzRHJhZ2dpbmc9ITAsdGhpcy5kcmFnU3RhcnRQb2ludD1hLmdldFBvaW50ZXJQb2ludChlKSx0aGlzLmlzUHJldmVudGluZ0NsaWNrcz0hMCx0aGlzLmRyYWdTdGFydCh0LGUpfSxhLnByb3RvdHlwZS5kcmFnU3RhcnQ9ZnVuY3Rpb24odCxlKXt0aGlzLmVtaXRFdmVudChcImRyYWdTdGFydFwiLFt0LGVdKX0sYS5wcm90b3R5cGUuX2RyYWdNb3ZlPWZ1bmN0aW9uKHQsZSxpKXt0aGlzLmlzRHJhZ2dpbmcmJnRoaXMuZHJhZ01vdmUodCxlLGkpfSxhLnByb3RvdHlwZS5kcmFnTW92ZT1mdW5jdGlvbih0LGUsaSl7cyh0KSx0aGlzLmVtaXRFdmVudChcImRyYWdNb3ZlXCIsW3QsZSxpXSl9LGEucHJvdG90eXBlLl9kcmFnRW5kPWZ1bmN0aW9uKHQsZSl7dGhpcy5pc0RyYWdnaW5nPSExO3ZhciBpPXRoaXM7c2V0VGltZW91dChmdW5jdGlvbigpe2RlbGV0ZSBpLmlzUHJldmVudGluZ0NsaWNrc30pLHRoaXMuZHJhZ0VuZCh0LGUpfSxhLnByb3RvdHlwZS5kcmFnRW5kPWZ1bmN0aW9uKHQsZSl7dGhpcy5lbWl0RXZlbnQoXCJkcmFnRW5kXCIsW3QsZV0pfSxhLnByb3RvdHlwZS5wb2ludGVyRG9uZT1mdW5jdGlvbigpe3IudW5iaW5kKG4sXCJzY3JvbGxcIix0aGlzKSxkZWxldGUgdGhpcy5wb2ludGVyRG93blNjcm9sbH0sYS5wcm90b3R5cGUub25jbGljaz1mdW5jdGlvbih0KXt0aGlzLmlzUHJldmVudGluZ0NsaWNrcyYmcyh0KX0sYS5wcm90b3R5cGUuX3N0YXRpY0NsaWNrPWZ1bmN0aW9uKHQsZSl7aWYoIXRoaXMuaXNJZ25vcmluZ01vdXNlVXB8fFwibW91c2V1cFwiIT10LnR5cGUpe3ZhciBpPXQudGFyZ2V0Lm5vZGVOYW1lO2lmKFwiSU5QVVRcIiE9aSYmXCJURVhUQVJFQVwiIT1pfHx0LnRhcmdldC5mb2N1cygpLHRoaXMuc3RhdGljQ2xpY2sodCxlKSxcIm1vdXNldXBcIiE9dC50eXBlKXt0aGlzLmlzSWdub3JpbmdNb3VzZVVwPSEwO3ZhciBuPXRoaXM7c2V0VGltZW91dChmdW5jdGlvbigpe2RlbGV0ZSBuLmlzSWdub3JpbmdNb3VzZVVwfSw0MDApfX19LGEucHJvdG90eXBlLnN0YXRpY0NsaWNrPWZ1bmN0aW9uKHQsZSl7dGhpcy5lbWl0RXZlbnQoXCJzdGF0aWNDbGlja1wiLFt0LGVdKX0sYS5wcm90b3R5cGUub25zY3JvbGw9ZnVuY3Rpb24oKXt2YXIgdD1hLmdldFNjcm9sbFBvc2l0aW9uKCksZT10aGlzLnBvaW50ZXJEb3duU2Nyb2xsLngtdC54LGk9dGhpcy5wb2ludGVyRG93blNjcm9sbC55LXQueTsoMzxNYXRoLmFicyhlKXx8MzxNYXRoLmFicyhpKSkmJnRoaXMuX3BvaW50ZXJEb25lKCl9LGEuZ2V0UG9pbnRlclBvaW50PWZ1bmN0aW9uKHQpe3JldHVybnt4OnZvaWQgMCE9PXQucGFnZVg/dC5wYWdlWDp0LmNsaWVudFgseTp2b2lkIDAhPT10LnBhZ2VZP3QucGFnZVk6dC5jbGllbnRZfX07dmFyIHQ9dm9pZCAwIT09bi5wYWdlWU9mZnNldDtyZXR1cm4gYS5nZXRTY3JvbGxQb3NpdGlvbj1mdW5jdGlvbigpe3JldHVybnt4OnQ/bi5wYWdlWE9mZnNldDpkb2N1bWVudC5ib2R5LnNjcm9sbExlZnQseTp0P24ucGFnZVlPZmZzZXQ6ZG9jdW1lbnQuYm9keS5zY3JvbGxUb3B9fSxhLmdldFBvaW50ZXJQb2ludD1vLmdldFBvaW50ZXJQb2ludCxhfSksZnVuY3Rpb24ocyxyKXtcInVzZSBzdHJpY3RcIjtcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFwiZmxpY2tpdHkvanMvZHJhZ1wiLFtcImNsYXNzaWUvY2xhc3NpZVwiLFwiZXZlbnRpZS9ldmVudGllXCIsXCIuL2ZsaWNraXR5XCIsXCJ1bmlkcmFnZ2VyL3VuaWRyYWdnZXJcIixcImZpenp5LXVpLXV0aWxzL3V0aWxzXCJdLGZ1bmN0aW9uKHQsZSxpLG4sbyl7cmV0dXJuIHIocyx0LGUsaSxuLG8pfSk6XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHM/bW9kdWxlLmV4cG9ydHM9cihzLHJlcXVpcmUoXCJkZXNhbmRyby1jbGFzc2llXCIpLHJlcXVpcmUoXCJldmVudGllXCIpLHJlcXVpcmUoXCIuL2ZsaWNraXR5XCIpLHJlcXVpcmUoXCJ1bmlkcmFnZ2VyXCIpLHJlcXVpcmUoXCJmaXp6eS11aS11dGlsc1wiKSk6cy5GbGlja2l0eT1yKHMscy5jbGFzc2llLHMuZXZlbnRpZSxzLkZsaWNraXR5LHMuVW5pZHJhZ2dlcixzLmZpenp5VUlVdGlscyl9KHdpbmRvdyxmdW5jdGlvbihuLG8scyx0LHIsYSl7ZnVuY3Rpb24gbCh0KXt0LnByZXZlbnREZWZhdWx0P3QucHJldmVudERlZmF1bHQoKTp0LnJldHVyblZhbHVlPSExfWEuZXh0ZW5kKHQuZGVmYXVsdHMse2RyYWdnYWJsZTohMH0pLHQuY3JlYXRlTWV0aG9kcy5wdXNoKFwiX2NyZWF0ZURyYWdcIiksYS5leHRlbmQodC5wcm90b3R5cGUsci5wcm90b3R5cGUpLHQucHJvdG90eXBlLl9jcmVhdGVEcmFnPWZ1bmN0aW9uKCl7dGhpcy5vbihcImFjdGl2YXRlXCIsdGhpcy5iaW5kRHJhZyksdGhpcy5vbihcInVpQ2hhbmdlXCIsdGhpcy5fdWlDaGFuZ2VEcmFnKSx0aGlzLm9uKFwiY2hpbGRVSVBvaW50ZXJEb3duXCIsdGhpcy5fY2hpbGRVSVBvaW50ZXJEb3duRHJhZyksdGhpcy5vbihcImRlYWN0aXZhdGVcIix0aGlzLnVuYmluZERyYWcpfSx0LnByb3RvdHlwZS5iaW5kRHJhZz1mdW5jdGlvbigpe3RoaXMub3B0aW9ucy5kcmFnZ2FibGUmJiF0aGlzLmlzRHJhZ0JvdW5kJiYoby5hZGQodGhpcy5lbGVtZW50LFwiaXMtZHJhZ2dhYmxlXCIpLHRoaXMuaGFuZGxlcz1bdGhpcy52aWV3cG9ydF0sdGhpcy5iaW5kSGFuZGxlcygpLHRoaXMuaXNEcmFnQm91bmQ9ITApfSx0LnByb3RvdHlwZS51bmJpbmREcmFnPWZ1bmN0aW9uKCl7dGhpcy5pc0RyYWdCb3VuZCYmKG8ucmVtb3ZlKHRoaXMuZWxlbWVudCxcImlzLWRyYWdnYWJsZVwiKSx0aGlzLnVuYmluZEhhbmRsZXMoKSxkZWxldGUgdGhpcy5pc0RyYWdCb3VuZCl9LHQucHJvdG90eXBlLl91aUNoYW5nZURyYWc9ZnVuY3Rpb24oKXtkZWxldGUgdGhpcy5pc0ZyZWVTY3JvbGxpbmd9LHQucHJvdG90eXBlLl9jaGlsZFVJUG9pbnRlckRvd25EcmFnPWZ1bmN0aW9uKHQpe2wodCksdGhpcy5wb2ludGVyRG93bkZvY3VzKHQpfSx0LnByb3RvdHlwZS5wb2ludGVyRG93bj1mdW5jdGlvbih0LGUpe2lmKFwiSU5QVVRcIj09dC50YXJnZXQubm9kZU5hbWUmJlwicmFuZ2VcIj09dC50YXJnZXQudHlwZSlyZXR1cm4gdGhpcy5pc1BvaW50ZXJEb3duPSExLHZvaWQgZGVsZXRlIHRoaXMucG9pbnRlcklkZW50aWZpZXI7dGhpcy5fZHJhZ1BvaW50ZXJEb3duKHQsZSk7dmFyIGk9ZG9jdW1lbnQuYWN0aXZlRWxlbWVudDtpJiZpLmJsdXImJmkhPXRoaXMuZWxlbWVudCYmaSE9ZG9jdW1lbnQuYm9keSYmaS5ibHVyKCksdGhpcy5wb2ludGVyRG93bkZvY3VzKHQpLHRoaXMuZHJhZ1g9dGhpcy54LG8uYWRkKHRoaXMudmlld3BvcnQsXCJpcy1wb2ludGVyLWRvd25cIiksdGhpcy5fYmluZFBvc3RTdGFydEV2ZW50cyh0KSx0aGlzLnBvaW50ZXJEb3duU2Nyb2xsPXIuZ2V0U2Nyb2xsUG9zaXRpb24oKSxzLmJpbmQobixcInNjcm9sbFwiLHRoaXMpLHRoaXMuZGlzcGF0Y2hFdmVudChcInBvaW50ZXJEb3duXCIsdCxbZV0pfTt2YXIgaT17dG91Y2hzdGFydDohMCxNU1BvaW50ZXJEb3duOiEwfSxoPXtJTlBVVDohMCxTRUxFQ1Q6ITB9O3JldHVybiB0LnByb3RvdHlwZS5wb2ludGVyRG93bkZvY3VzPWZ1bmN0aW9uKHQpe2lmKHRoaXMub3B0aW9ucy5hY2Nlc3NpYmlsaXR5JiYhaVt0LnR5cGVdJiYhaFt0LnRhcmdldC5ub2RlTmFtZV0pe3ZhciBlPW4ucGFnZVlPZmZzZXQ7dGhpcy5lbGVtZW50LmZvY3VzKCksbi5wYWdlWU9mZnNldCE9ZSYmbi5zY3JvbGxUbyhuLnBhZ2VYT2Zmc2V0LGUpfX0sdC5wcm90b3R5cGUuaGFzRHJhZ1N0YXJ0ZWQ9ZnVuY3Rpb24odCl7cmV0dXJuIDM8TWF0aC5hYnModC54KX0sdC5wcm90b3R5cGUucG9pbnRlclVwPWZ1bmN0aW9uKHQsZSl7by5yZW1vdmUodGhpcy52aWV3cG9ydCxcImlzLXBvaW50ZXItZG93blwiKSx0aGlzLmRpc3BhdGNoRXZlbnQoXCJwb2ludGVyVXBcIix0LFtlXSksdGhpcy5fZHJhZ1BvaW50ZXJVcCh0LGUpfSx0LnByb3RvdHlwZS5wb2ludGVyRG9uZT1mdW5jdGlvbigpe3MudW5iaW5kKG4sXCJzY3JvbGxcIix0aGlzKSxkZWxldGUgdGhpcy5wb2ludGVyRG93blNjcm9sbH0sdC5wcm90b3R5cGUuZHJhZ1N0YXJ0PWZ1bmN0aW9uKHQsZSl7dGhpcy5kcmFnU3RhcnRQb3NpdGlvbj10aGlzLngsdGhpcy5zdGFydEFuaW1hdGlvbigpLHRoaXMuZGlzcGF0Y2hFdmVudChcImRyYWdTdGFydFwiLHQsW2VdKX0sdC5wcm90b3R5cGUuZHJhZ01vdmU9ZnVuY3Rpb24odCxlLGkpe2wodCksdGhpcy5wcmV2aW91c0RyYWdYPXRoaXMuZHJhZ1g7dmFyIG49dGhpcy5vcHRpb25zLnJpZ2h0VG9MZWZ0Py0xOjEsbz10aGlzLmRyYWdTdGFydFBvc2l0aW9uK2kueCpuO2lmKCF0aGlzLm9wdGlvbnMud3JhcEFyb3VuZCYmdGhpcy5jZWxscy5sZW5ndGgpe3ZhciBzPU1hdGgubWF4KC10aGlzLmNlbGxzWzBdLnRhcmdldCx0aGlzLmRyYWdTdGFydFBvc2l0aW9uKTtvPXM8bz8uNSoobytzKTpvO3ZhciByPU1hdGgubWluKC10aGlzLmdldExhc3RDZWxsKCkudGFyZ2V0LHRoaXMuZHJhZ1N0YXJ0UG9zaXRpb24pO289bzxyPy41KihvK3IpOm99dGhpcy5kcmFnWD1vLHRoaXMuZHJhZ01vdmVUaW1lPW5ldyBEYXRlLHRoaXMuZGlzcGF0Y2hFdmVudChcImRyYWdNb3ZlXCIsdCxbZSxpXSl9LHQucHJvdG90eXBlLmRyYWdFbmQ9ZnVuY3Rpb24odCxlKXt0aGlzLm9wdGlvbnMuZnJlZVNjcm9sbCYmKHRoaXMuaXNGcmVlU2Nyb2xsaW5nPSEwKTt2YXIgaT10aGlzLmRyYWdFbmRSZXN0aW5nU2VsZWN0KCk7aWYodGhpcy5vcHRpb25zLmZyZWVTY3JvbGwmJiF0aGlzLm9wdGlvbnMud3JhcEFyb3VuZCl7dmFyIG49dGhpcy5nZXRSZXN0aW5nUG9zaXRpb24oKTt0aGlzLmlzRnJlZVNjcm9sbGluZz0tbj50aGlzLmNlbGxzWzBdLnRhcmdldCYmLW48dGhpcy5nZXRMYXN0Q2VsbCgpLnRhcmdldH1lbHNlIHRoaXMub3B0aW9ucy5mcmVlU2Nyb2xsfHxpIT10aGlzLnNlbGVjdGVkSW5kZXh8fChpKz10aGlzLmRyYWdFbmRCb29zdFNlbGVjdCgpKTtkZWxldGUgdGhpcy5wcmV2aW91c0RyYWdYLHRoaXMuc2VsZWN0KGkpLHRoaXMuZGlzcGF0Y2hFdmVudChcImRyYWdFbmRcIix0LFtlXSl9LHQucHJvdG90eXBlLmRyYWdFbmRSZXN0aW5nU2VsZWN0PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5nZXRSZXN0aW5nUG9zaXRpb24oKSxlPU1hdGguYWJzKHRoaXMuZ2V0Q2VsbERpc3RhbmNlKC10LHRoaXMuc2VsZWN0ZWRJbmRleCkpLGk9dGhpcy5fZ2V0Q2xvc2VzdFJlc3RpbmcodCxlLDEpLG49dGhpcy5fZ2V0Q2xvc2VzdFJlc3RpbmcodCxlLC0xKTtyZXR1cm4gaS5kaXN0YW5jZTxuLmRpc3RhbmNlP2kuaW5kZXg6bi5pbmRleH0sdC5wcm90b3R5cGUuX2dldENsb3Nlc3RSZXN0aW5nPWZ1bmN0aW9uKHQsZSxpKXtmb3IodmFyIG49dGhpcy5zZWxlY3RlZEluZGV4LG89MS8wLHM9dGhpcy5vcHRpb25zLmNvbnRhaW4mJiF0aGlzLm9wdGlvbnMud3JhcEFyb3VuZD9mdW5jdGlvbih0LGUpe3JldHVybiB0PD1lfTpmdW5jdGlvbih0LGUpe3JldHVybiB0PGV9O3MoZSxvKSYmKG4rPWksbz1lLG51bGwhPT0oZT10aGlzLmdldENlbGxEaXN0YW5jZSgtdCxuKSkpOyllPU1hdGguYWJzKGUpO3JldHVybntkaXN0YW5jZTpvLGluZGV4Om4taX19LHQucHJvdG90eXBlLmdldENlbGxEaXN0YW5jZT1mdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMuY2VsbHMubGVuZ3RoLG49dGhpcy5vcHRpb25zLndyYXBBcm91bmQmJjE8aSxvPW4/YS5tb2R1bG8oZSxpKTplLHM9dGhpcy5jZWxsc1tvXTtpZighcylyZXR1cm4gbnVsbDt2YXIgcj1uP3RoaXMuc2xpZGVhYmxlV2lkdGgqTWF0aC5mbG9vcihlL2kpOjA7cmV0dXJuIHQtKHMudGFyZ2V0K3IpfSx0LnByb3RvdHlwZS5kcmFnRW5kQm9vc3RTZWxlY3Q9ZnVuY3Rpb24oKXtpZih2b2lkIDA9PT10aGlzLnByZXZpb3VzRHJhZ1h8fCF0aGlzLmRyYWdNb3ZlVGltZXx8MTAwPG5ldyBEYXRlLXRoaXMuZHJhZ01vdmVUaW1lKXJldHVybiAwO3ZhciB0PXRoaXMuZ2V0Q2VsbERpc3RhbmNlKC10aGlzLmRyYWdYLHRoaXMuc2VsZWN0ZWRJbmRleCksZT10aGlzLnByZXZpb3VzRHJhZ1gtdGhpcy5kcmFnWDtyZXR1cm4gMDx0JiYwPGU/MTp0PDAmJmU8MD8tMTowfSx0LnByb3RvdHlwZS5zdGF0aWNDbGljaz1mdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMuZ2V0UGFyZW50Q2VsbCh0LnRhcmdldCksbj1pJiZpLmVsZW1lbnQsbz1pJiZhLmluZGV4T2YodGhpcy5jZWxscyxpKTt0aGlzLmRpc3BhdGNoRXZlbnQoXCJzdGF0aWNDbGlja1wiLHQsW2UsbixvXSl9LHR9KSxmdW5jdGlvbihlLGkpe1wiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoXCJ0YXAtbGlzdGVuZXIvdGFwLWxpc3RlbmVyXCIsW1widW5pcG9pbnRlci91bmlwb2ludGVyXCJdLGZ1bmN0aW9uKHQpe3JldHVybiBpKGUsdCl9KTpcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cz9tb2R1bGUuZXhwb3J0cz1pKGUscmVxdWlyZShcInVuaXBvaW50ZXJcIikpOmUuVGFwTGlzdGVuZXI9aShlLGUuVW5pcG9pbnRlcil9KHdpbmRvdyxmdW5jdGlvbihyLGEpe2Z1bmN0aW9uIHQodCl7dGhpcy5iaW5kVGFwKHQpfSh0LnByb3RvdHlwZT1uZXcgYSkuYmluZFRhcD1mdW5jdGlvbih0KXt0JiYodGhpcy51bmJpbmRUYXAoKSx0aGlzLnRhcEVsZW1lbnQ9dCx0aGlzLl9iaW5kU3RhcnRFdmVudCh0LCEwKSl9LHQucHJvdG90eXBlLnVuYmluZFRhcD1mdW5jdGlvbigpe3RoaXMudGFwRWxlbWVudCYmKHRoaXMuX2JpbmRTdGFydEV2ZW50KHRoaXMudGFwRWxlbWVudCwhMCksZGVsZXRlIHRoaXMudGFwRWxlbWVudCl9O3ZhciBsPXZvaWQgMCE9PXIucGFnZVlPZmZzZXQ7cmV0dXJuIHQucHJvdG90eXBlLnBvaW50ZXJVcD1mdW5jdGlvbih0LGUpe2lmKCF0aGlzLmlzSWdub3JpbmdNb3VzZVVwfHxcIm1vdXNldXBcIiE9dC50eXBlKXt2YXIgaT1hLmdldFBvaW50ZXJQb2ludChlKSxuPXRoaXMudGFwRWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxvPWw/ci5wYWdlWE9mZnNldDpkb2N1bWVudC5ib2R5LnNjcm9sbExlZnQscz1sP3IucGFnZVlPZmZzZXQ6ZG9jdW1lbnQuYm9keS5zY3JvbGxUb3A7aS54Pj1uLmxlZnQrbyYmaS54PD1uLnJpZ2h0K28mJmkueT49bi50b3ArcyYmaS55PD1uLmJvdHRvbStzJiZ0aGlzLmVtaXRFdmVudChcInRhcFwiLFt0LGVdKSxcIm1vdXNldXBcIiE9dC50eXBlJiYodGhpcy5pc0lnbm9yaW5nTW91c2VVcD0hMCxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZGVsZXRlIHRoaXMuaXNJZ25vcmluZ01vdXNlVXB9LmJpbmQodGhpcyksMzIwKSl9fSx0LnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5wb2ludGVyRG9uZSgpLHRoaXMudW5iaW5kVGFwKCl9LHR9KSxmdW5jdGlvbihvLHMpe1widXNlIHN0cmljdFwiO1wiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoXCJmbGlja2l0eS9qcy9wcmV2LW5leHQtYnV0dG9uXCIsW1wiZXZlbnRpZS9ldmVudGllXCIsXCIuL2ZsaWNraXR5XCIsXCJ0YXAtbGlzdGVuZXIvdGFwLWxpc3RlbmVyXCIsXCJmaXp6eS11aS11dGlscy91dGlsc1wiXSxmdW5jdGlvbih0LGUsaSxuKXtyZXR1cm4gcyhvLHQsZSxpLG4pfSk6XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHM/bW9kdWxlLmV4cG9ydHM9cyhvLHJlcXVpcmUoXCJldmVudGllXCIpLHJlcXVpcmUoXCIuL2ZsaWNraXR5XCIpLHJlcXVpcmUoXCJ0YXAtbGlzdGVuZXJcIikscmVxdWlyZShcImZpenp5LXVpLXV0aWxzXCIpKTpzKG8sby5ldmVudGllLG8uRmxpY2tpdHksby5UYXBMaXN0ZW5lcixvLmZpenp5VUlVdGlscyl9KHdpbmRvdyxmdW5jdGlvbih0LGUsbyxpLG4pe3ZhciBzLHI9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLGE9ZnVuY3Rpb24oKXtpZih2b2lkIDAhPT1zKXJldHVybiBzO3ZhciB0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7cmV0dXJuIHQuaW5uZXJIVE1MPVwiPHN2Zy8+XCIscz0odC5maXJzdENoaWxkJiZ0LmZpcnN0Q2hpbGQubmFtZXNwYWNlVVJJKT09cn07ZnVuY3Rpb24gbCh0LGUpe3RoaXMuZGlyZWN0aW9uPXQsdGhpcy5wYXJlbnQ9ZSx0aGlzLl9jcmVhdGUoKX1yZXR1cm4obC5wcm90b3R5cGU9bmV3IGkpLl9jcmVhdGU9ZnVuY3Rpb24oKXt0aGlzLmlzRW5hYmxlZD0hMCx0aGlzLmlzUHJldmlvdXM9LTE9PXRoaXMuZGlyZWN0aW9uO3ZhciB0PXRoaXMucGFyZW50Lm9wdGlvbnMucmlnaHRUb0xlZnQ/MTotMTt0aGlzLmlzTGVmdD10aGlzLmRpcmVjdGlvbj09dDt2YXIgZT10aGlzLmVsZW1lbnQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtpZihlLmNsYXNzTmFtZT1cImZsaWNraXR5LXByZXYtbmV4dC1idXR0b25cIixlLmNsYXNzTmFtZSs9dGhpcy5pc1ByZXZpb3VzP1wiIHByZXZpb3VzXCI6XCIgbmV4dFwiLGUuc2V0QXR0cmlidXRlKFwidHlwZVwiLFwiYnV0dG9uXCIpLHRoaXMuZGlzYWJsZSgpLGUuc2V0QXR0cmlidXRlKFwiYXJpYS1sYWJlbFwiLHRoaXMuaXNQcmV2aW91cz9cInByZXZpb3VzXCI6XCJuZXh0XCIpLG8uc2V0VW5zZWxlY3RhYmxlKGUpLGEoKSl7dmFyIGk9dGhpcy5jcmVhdGVTVkcoKTtlLmFwcGVuZENoaWxkKGkpfWVsc2UgdGhpcy5zZXRBcnJvd1RleHQoKSxlLmNsYXNzTmFtZSs9XCIgbm8tc3ZnXCI7dmFyIG49dGhpczt0aGlzLm9uQ2VsbFNlbGVjdD1mdW5jdGlvbigpe24udXBkYXRlKCl9LHRoaXMucGFyZW50Lm9uKFwiY2VsbFNlbGVjdFwiLHRoaXMub25DZWxsU2VsZWN0KSx0aGlzLm9uKFwidGFwXCIsdGhpcy5vblRhcCksdGhpcy5vbihcInBvaW50ZXJEb3duXCIsZnVuY3Rpb24odCxlKXtuLnBhcmVudC5jaGlsZFVJUG9pbnRlckRvd24oZSl9KX0sbC5wcm90b3R5cGUuYWN0aXZhdGU9ZnVuY3Rpb24oKXt0aGlzLmJpbmRUYXAodGhpcy5lbGVtZW50KSxlLmJpbmQodGhpcy5lbGVtZW50LFwiY2xpY2tcIix0aGlzKSx0aGlzLnBhcmVudC5lbGVtZW50LmFwcGVuZENoaWxkKHRoaXMuZWxlbWVudCl9LGwucHJvdG90eXBlLmRlYWN0aXZhdGU9ZnVuY3Rpb24oKXt0aGlzLnBhcmVudC5lbGVtZW50LnJlbW92ZUNoaWxkKHRoaXMuZWxlbWVudCksaS5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpLGUudW5iaW5kKHRoaXMuZWxlbWVudCxcImNsaWNrXCIsdGhpcyl9LGwucHJvdG90eXBlLmNyZWF0ZVNWRz1mdW5jdGlvbigpe3ZhciB0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhyLFwic3ZnXCIpO3Quc2V0QXR0cmlidXRlKFwidmlld0JveFwiLFwiMCAwIDEwMCAxMDBcIik7dmFyIGUsaT1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMocixcInBhdGhcIiksbj1cInN0cmluZ1wiIT10eXBlb2YoZT10aGlzLnBhcmVudC5vcHRpb25zLmFycm93U2hhcGUpP1wiTSBcIitlLngwK1wiLDUwIEwgXCIrZS54MStcIixcIisoZS55MSs1MCkrXCIgTCBcIitlLngyK1wiLFwiKyhlLnkyKzUwKStcIiBMIFwiK2UueDMrXCIsNTAgIEwgXCIrZS54MitcIixcIisoNTAtZS55MikrXCIgTCBcIitlLngxK1wiLFwiKyg1MC1lLnkxKStcIiBaXCI6ZTtyZXR1cm4gaS5zZXRBdHRyaWJ1dGUoXCJkXCIsbiksaS5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLFwiYXJyb3dcIiksdGhpcy5pc0xlZnR8fGkuc2V0QXR0cmlidXRlKFwidHJhbnNmb3JtXCIsXCJ0cmFuc2xhdGUoMTAwLCAxMDApIHJvdGF0ZSgxODApIFwiKSx0LmFwcGVuZENoaWxkKGkpLHR9LGwucHJvdG90eXBlLnNldEFycm93VGV4dD1mdW5jdGlvbigpe3ZhciB0PXRoaXMucGFyZW50Lm9wdGlvbnMsZT10aGlzLmlzTGVmdD90LmxlZnRBcnJvd1RleHQ6dC5yaWdodEFycm93VGV4dDtuLnNldFRleHQodGhpcy5lbGVtZW50LGUpfSxsLnByb3RvdHlwZS5vblRhcD1mdW5jdGlvbigpe2lmKHRoaXMuaXNFbmFibGVkKXt0aGlzLnBhcmVudC51aUNoYW5nZSgpO3ZhciB0PXRoaXMuaXNQcmV2aW91cz9cInByZXZpb3VzXCI6XCJuZXh0XCI7dGhpcy5wYXJlbnRbdF0oKX19LGwucHJvdG90eXBlLmhhbmRsZUV2ZW50PW4uaGFuZGxlRXZlbnQsbC5wcm90b3R5cGUub25jbGljaz1mdW5jdGlvbigpe3ZhciB0PWRvY3VtZW50LmFjdGl2ZUVsZW1lbnQ7dCYmdD09dGhpcy5lbGVtZW50JiZ0aGlzLm9uVGFwKCl9LGwucHJvdG90eXBlLmVuYWJsZT1mdW5jdGlvbigpe3RoaXMuaXNFbmFibGVkfHwodGhpcy5lbGVtZW50LmRpc2FibGVkPSExLHRoaXMuaXNFbmFibGVkPSEwKX0sbC5wcm90b3R5cGUuZGlzYWJsZT1mdW5jdGlvbigpe3RoaXMuaXNFbmFibGVkJiYodGhpcy5lbGVtZW50LmRpc2FibGVkPSEwLHRoaXMuaXNFbmFibGVkPSExKX0sbC5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5wYXJlbnQuY2VsbHM7aWYodGhpcy5wYXJlbnQub3B0aW9ucy53cmFwQXJvdW5kJiYxPHQubGVuZ3RoKXRoaXMuZW5hYmxlKCk7ZWxzZXt2YXIgZT10Lmxlbmd0aD90Lmxlbmd0aC0xOjAsaT10aGlzLmlzUHJldmlvdXM/MDplO3RoaXNbdGhpcy5wYXJlbnQuc2VsZWN0ZWRJbmRleD09aT9cImRpc2FibGVcIjpcImVuYWJsZVwiXSgpfX0sbC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuZGVhY3RpdmF0ZSgpfSxuLmV4dGVuZChvLmRlZmF1bHRzLHtwcmV2TmV4dEJ1dHRvbnM6ITAsbGVmdEFycm93VGV4dDpcIuKAuVwiLHJpZ2h0QXJyb3dUZXh0Olwi4oC6XCIsYXJyb3dTaGFwZTp7eDA6MTAseDE6NjAseTE6NTAseDI6NzAseTI6NDAseDM6MzB9fSksby5jcmVhdGVNZXRob2RzLnB1c2goXCJfY3JlYXRlUHJldk5leHRCdXR0b25zXCIpLG8ucHJvdG90eXBlLl9jcmVhdGVQcmV2TmV4dEJ1dHRvbnM9ZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMucHJldk5leHRCdXR0b25zJiYodGhpcy5wcmV2QnV0dG9uPW5ldyBsKC0xLHRoaXMpLHRoaXMubmV4dEJ1dHRvbj1uZXcgbCgxLHRoaXMpLHRoaXMub24oXCJhY3RpdmF0ZVwiLHRoaXMuYWN0aXZhdGVQcmV2TmV4dEJ1dHRvbnMpKX0sby5wcm90b3R5cGUuYWN0aXZhdGVQcmV2TmV4dEJ1dHRvbnM9ZnVuY3Rpb24oKXt0aGlzLnByZXZCdXR0b24uYWN0aXZhdGUoKSx0aGlzLm5leHRCdXR0b24uYWN0aXZhdGUoKSx0aGlzLm9uKFwiZGVhY3RpdmF0ZVwiLHRoaXMuZGVhY3RpdmF0ZVByZXZOZXh0QnV0dG9ucyl9LG8ucHJvdG90eXBlLmRlYWN0aXZhdGVQcmV2TmV4dEJ1dHRvbnM9ZnVuY3Rpb24oKXt0aGlzLnByZXZCdXR0b24uZGVhY3RpdmF0ZSgpLHRoaXMubmV4dEJ1dHRvbi5kZWFjdGl2YXRlKCksdGhpcy5vZmYoXCJkZWFjdGl2YXRlXCIsdGhpcy5kZWFjdGl2YXRlUHJldk5leHRCdXR0b25zKX0sby5QcmV2TmV4dEJ1dHRvbj1sLG99KSxmdW5jdGlvbihvLHMpe1widXNlIHN0cmljdFwiO1wiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoXCJmbGlja2l0eS9qcy9wYWdlLWRvdHNcIixbXCJldmVudGllL2V2ZW50aWVcIixcIi4vZmxpY2tpdHlcIixcInRhcC1saXN0ZW5lci90YXAtbGlzdGVuZXJcIixcImZpenp5LXVpLXV0aWxzL3V0aWxzXCJdLGZ1bmN0aW9uKHQsZSxpLG4pe3JldHVybiBzKG8sdCxlLGksbil9KTpcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cz9tb2R1bGUuZXhwb3J0cz1zKG8scmVxdWlyZShcImV2ZW50aWVcIikscmVxdWlyZShcIi4vZmxpY2tpdHlcIikscmVxdWlyZShcInRhcC1saXN0ZW5lclwiKSxyZXF1aXJlKFwiZml6enktdWktdXRpbHNcIikpOnMobyxvLmV2ZW50aWUsby5GbGlja2l0eSxvLlRhcExpc3RlbmVyLG8uZml6enlVSVV0aWxzKX0od2luZG93LGZ1bmN0aW9uKHQsZSxuLGksbyl7ZnVuY3Rpb24gcyh0KXt0aGlzLnBhcmVudD10LHRoaXMuX2NyZWF0ZSgpfXJldHVybihzLnByb3RvdHlwZT1uZXcgaSkuX2NyZWF0ZT1mdW5jdGlvbigpe3RoaXMuaG9sZGVyPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJvbFwiKSx0aGlzLmhvbGRlci5jbGFzc05hbWU9XCJmbGlja2l0eS1wYWdlLWRvdHNcIixuLnNldFVuc2VsZWN0YWJsZSh0aGlzLmhvbGRlciksdGhpcy5kb3RzPVtdO3ZhciBpPXRoaXM7dGhpcy5vbkNlbGxTZWxlY3Q9ZnVuY3Rpb24oKXtpLnVwZGF0ZVNlbGVjdGVkKCl9LHRoaXMucGFyZW50Lm9uKFwiY2VsbFNlbGVjdFwiLHRoaXMub25DZWxsU2VsZWN0KSx0aGlzLm9uKFwidGFwXCIsdGhpcy5vblRhcCksdGhpcy5vbihcInBvaW50ZXJEb3duXCIsZnVuY3Rpb24odCxlKXtpLnBhcmVudC5jaGlsZFVJUG9pbnRlckRvd24oZSl9KX0scy5wcm90b3R5cGUuYWN0aXZhdGU9ZnVuY3Rpb24oKXt0aGlzLnNldERvdHMoKSx0aGlzLmJpbmRUYXAodGhpcy5ob2xkZXIpLHRoaXMucGFyZW50LmVsZW1lbnQuYXBwZW5kQ2hpbGQodGhpcy5ob2xkZXIpfSxzLnByb3RvdHlwZS5kZWFjdGl2YXRlPWZ1bmN0aW9uKCl7dGhpcy5wYXJlbnQuZWxlbWVudC5yZW1vdmVDaGlsZCh0aGlzLmhvbGRlciksaS5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpfSxzLnByb3RvdHlwZS5zZXREb3RzPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5wYXJlbnQuY2VsbHMubGVuZ3RoLXRoaXMuZG90cy5sZW5ndGg7MDx0P3RoaXMuYWRkRG90cyh0KTp0PDAmJnRoaXMucmVtb3ZlRG90cygtdCl9LHMucHJvdG90eXBlLmFkZERvdHM9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPWRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSxpPVtdO3Q7KXt2YXIgbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlcIik7bi5jbGFzc05hbWU9XCJkb3RcIixlLmFwcGVuZENoaWxkKG4pLGkucHVzaChuKSx0LS19dGhpcy5ob2xkZXIuYXBwZW5kQ2hpbGQoZSksdGhpcy5kb3RzPXRoaXMuZG90cy5jb25jYXQoaSl9LHMucHJvdG90eXBlLnJlbW92ZURvdHM9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMuZG90cy5zcGxpY2UodGhpcy5kb3RzLmxlbmd0aC10LHQpLGk9MCxuPWUubGVuZ3RoO2k8bjtpKyspe3ZhciBvPWVbaV07dGhpcy5ob2xkZXIucmVtb3ZlQ2hpbGQobyl9fSxzLnByb3RvdHlwZS51cGRhdGVTZWxlY3RlZD1mdW5jdGlvbigpe3RoaXMuc2VsZWN0ZWREb3QmJih0aGlzLnNlbGVjdGVkRG90LmNsYXNzTmFtZT1cImRvdFwiKSx0aGlzLmRvdHMubGVuZ3RoJiYodGhpcy5zZWxlY3RlZERvdD10aGlzLmRvdHNbdGhpcy5wYXJlbnQuc2VsZWN0ZWRJbmRleF0sdGhpcy5zZWxlY3RlZERvdC5jbGFzc05hbWU9XCJkb3QgaXMtc2VsZWN0ZWRcIil9LHMucHJvdG90eXBlLm9uVGFwPWZ1bmN0aW9uKHQpe3ZhciBlPXQudGFyZ2V0O2lmKFwiTElcIj09ZS5ub2RlTmFtZSl7dGhpcy5wYXJlbnQudWlDaGFuZ2UoKTt2YXIgaT1vLmluZGV4T2YodGhpcy5kb3RzLGUpO3RoaXMucGFyZW50LnNlbGVjdChpKX19LHMucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmRlYWN0aXZhdGUoKX0sbi5QYWdlRG90cz1zLG8uZXh0ZW5kKG4uZGVmYXVsdHMse3BhZ2VEb3RzOiEwfSksbi5jcmVhdGVNZXRob2RzLnB1c2goXCJfY3JlYXRlUGFnZURvdHNcIiksbi5wcm90b3R5cGUuX2NyZWF0ZVBhZ2VEb3RzPWZ1bmN0aW9uKCl7dGhpcy5vcHRpb25zLnBhZ2VEb3RzJiYodGhpcy5wYWdlRG90cz1uZXcgcyh0aGlzKSx0aGlzLm9uKFwiYWN0aXZhdGVcIix0aGlzLmFjdGl2YXRlUGFnZURvdHMpLHRoaXMub24oXCJjZWxsQWRkZWRSZW1vdmVkXCIsdGhpcy5vbkNlbGxBZGRlZFJlbW92ZWRQYWdlRG90cyksdGhpcy5vbihcImRlYWN0aXZhdGVcIix0aGlzLmRlYWN0aXZhdGVQYWdlRG90cykpfSxuLnByb3RvdHlwZS5hY3RpdmF0ZVBhZ2VEb3RzPWZ1bmN0aW9uKCl7dGhpcy5wYWdlRG90cy5hY3RpdmF0ZSgpfSxuLnByb3RvdHlwZS5vbkNlbGxBZGRlZFJlbW92ZWRQYWdlRG90cz1mdW5jdGlvbigpe3RoaXMucGFnZURvdHMuc2V0RG90cygpfSxuLnByb3RvdHlwZS5kZWFjdGl2YXRlUGFnZURvdHM9ZnVuY3Rpb24oKXt0aGlzLnBhZ2VEb3RzLmRlYWN0aXZhdGUoKX0sbi5QYWdlRG90cz1zLG59KSxmdW5jdGlvbih0LG8pe1widXNlIHN0cmljdFwiO1wiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoXCJmbGlja2l0eS9qcy9wbGF5ZXJcIixbXCJldmVudEVtaXR0ZXIvRXZlbnRFbWl0dGVyXCIsXCJldmVudGllL2V2ZW50aWVcIixcImZpenp5LXVpLXV0aWxzL3V0aWxzXCIsXCIuL2ZsaWNraXR5XCJdLGZ1bmN0aW9uKHQsZSxpLG4pe3JldHVybiBvKHQsZSxpLG4pfSk6XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHM/bW9kdWxlLmV4cG9ydHM9byhyZXF1aXJlKFwid29sZnk4Ny1ldmVudGVtaXR0ZXJcIikscmVxdWlyZShcImV2ZW50aWVcIikscmVxdWlyZShcImZpenp5LXVpLXV0aWxzXCIpLHJlcXVpcmUoXCIuL2ZsaWNraXR5XCIpKTpvKHQuRXZlbnRFbWl0dGVyLHQuZXZlbnRpZSx0LmZpenp5VUlVdGlscyx0LkZsaWNraXR5KX0od2luZG93LGZ1bmN0aW9uKHQsZSxpLG4pe3ZhciBvLHM7ZnVuY3Rpb24gcih0KXtpZih0aGlzLnBhcmVudD10LHRoaXMuc3RhdGU9XCJzdG9wcGVkXCIscyl7dmFyIGU9dGhpczt0aGlzLm9uVmlzaWJpbGl0eUNoYW5nZT1mdW5jdGlvbigpe2UudmlzaWJpbGl0eUNoYW5nZSgpfX19cmV0dXJuXCJoaWRkZW5cImluIGRvY3VtZW50PyhvPVwiaGlkZGVuXCIscz1cInZpc2liaWxpdHljaGFuZ2VcIik6XCJ3ZWJraXRIaWRkZW5cImluIGRvY3VtZW50JiYobz1cIndlYmtpdEhpZGRlblwiLHM9XCJ3ZWJraXR2aXNpYmlsaXR5Y2hhbmdlXCIpLChyLnByb3RvdHlwZT1uZXcgdCkucGxheT1mdW5jdGlvbigpe1wicGxheWluZ1wiIT10aGlzLnN0YXRlJiYodGhpcy5zdGF0ZT1cInBsYXlpbmdcIixzJiZkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKHMsdGhpcy5vblZpc2liaWxpdHlDaGFuZ2UsITEpLHRoaXMudGljaygpKX0sci5wcm90b3R5cGUudGljaz1mdW5jdGlvbigpe2lmKFwicGxheWluZ1wiPT10aGlzLnN0YXRlKXt2YXIgdD10aGlzLnBhcmVudC5vcHRpb25zLmF1dG9QbGF5O3Q9XCJudW1iZXJcIj09dHlwZW9mIHQ/dDozZTM7dmFyIGU9dGhpczt0aGlzLmNsZWFyKCksdGhpcy50aW1lb3V0PXNldFRpbWVvdXQoZnVuY3Rpb24oKXtlLnBhcmVudC5uZXh0KCEwKSxlLnRpY2soKX0sdCl9fSxyLnByb3RvdHlwZS5zdG9wPWZ1bmN0aW9uKCl7dGhpcy5zdGF0ZT1cInN0b3BwZWRcIix0aGlzLmNsZWFyKCkscyYmZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihzLHRoaXMub25WaXNpYmlsaXR5Q2hhbmdlLCExKX0sci5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oKXtjbGVhclRpbWVvdXQodGhpcy50aW1lb3V0KX0sci5wcm90b3R5cGUucGF1c2U9ZnVuY3Rpb24oKXtcInBsYXlpbmdcIj09dGhpcy5zdGF0ZSYmKHRoaXMuc3RhdGU9XCJwYXVzZWRcIix0aGlzLmNsZWFyKCkpfSxyLnByb3RvdHlwZS51bnBhdXNlPWZ1bmN0aW9uKCl7XCJwYXVzZWRcIj09dGhpcy5zdGF0ZSYmdGhpcy5wbGF5KCl9LHIucHJvdG90eXBlLnZpc2liaWxpdHlDaGFuZ2U9ZnVuY3Rpb24oKXt0aGlzW2RvY3VtZW50W29dP1wicGF1c2VcIjpcInVucGF1c2VcIl0oKX0saS5leHRlbmQobi5kZWZhdWx0cyx7cGF1c2VBdXRvUGxheU9uSG92ZXI6ITB9KSxuLmNyZWF0ZU1ldGhvZHMucHVzaChcIl9jcmVhdGVQbGF5ZXJcIiksbi5wcm90b3R5cGUuX2NyZWF0ZVBsYXllcj1mdW5jdGlvbigpe3RoaXMucGxheWVyPW5ldyByKHRoaXMpLHRoaXMub24oXCJhY3RpdmF0ZVwiLHRoaXMuYWN0aXZhdGVQbGF5ZXIpLHRoaXMub24oXCJ1aUNoYW5nZVwiLHRoaXMuc3RvcFBsYXllciksdGhpcy5vbihcInBvaW50ZXJEb3duXCIsdGhpcy5zdG9wUGxheWVyKSx0aGlzLm9uKFwiZGVhY3RpdmF0ZVwiLHRoaXMuZGVhY3RpdmF0ZVBsYXllcil9LG4ucHJvdG90eXBlLmFjdGl2YXRlUGxheWVyPWZ1bmN0aW9uKCl7dGhpcy5vcHRpb25zLmF1dG9QbGF5JiYodGhpcy5wbGF5ZXIucGxheSgpLGUuYmluZCh0aGlzLmVsZW1lbnQsXCJtb3VzZWVudGVyXCIsdGhpcyksdGhpcy5pc01vdXNlZW50ZXJCb3VuZD0hMCl9LG4ucHJvdG90eXBlLnBsYXlQbGF5ZXI9ZnVuY3Rpb24oKXt0aGlzLnBsYXllci5wbGF5KCl9LG4ucHJvdG90eXBlLnN0b3BQbGF5ZXI9ZnVuY3Rpb24oKXt0aGlzLnBsYXllci5zdG9wKCl9LG4ucHJvdG90eXBlLnBhdXNlUGxheWVyPWZ1bmN0aW9uKCl7dGhpcy5wbGF5ZXIucGF1c2UoKX0sbi5wcm90b3R5cGUudW5wYXVzZVBsYXllcj1mdW5jdGlvbigpe3RoaXMucGxheWVyLnVucGF1c2UoKX0sbi5wcm90b3R5cGUuZGVhY3RpdmF0ZVBsYXllcj1mdW5jdGlvbigpe3RoaXMucGxheWVyLnN0b3AoKSx0aGlzLmlzTW91c2VlbnRlckJvdW5kJiYoZS51bmJpbmQodGhpcy5lbGVtZW50LFwibW91c2VlbnRlclwiLHRoaXMpLGRlbGV0ZSB0aGlzLmlzTW91c2VlbnRlckJvdW5kKX0sbi5wcm90b3R5cGUub25tb3VzZWVudGVyPWZ1bmN0aW9uKCl7dGhpcy5vcHRpb25zLnBhdXNlQXV0b1BsYXlPbkhvdmVyJiYodGhpcy5wbGF5ZXIucGF1c2UoKSxlLmJpbmQodGhpcy5lbGVtZW50LFwibW91c2VsZWF2ZVwiLHRoaXMpKX0sbi5wcm90b3R5cGUub25tb3VzZWxlYXZlPWZ1bmN0aW9uKCl7dGhpcy5wbGF5ZXIudW5wYXVzZSgpLGUudW5iaW5kKHRoaXMuZWxlbWVudCxcIm1vdXNlbGVhdmVcIix0aGlzKX0sbi5QbGF5ZXI9cixufSksZnVuY3Rpb24oaSxuKXtcInVzZSBzdHJpY3RcIjtcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFwiZmxpY2tpdHkvanMvYWRkLXJlbW92ZS1jZWxsXCIsW1wiLi9mbGlja2l0eVwiLFwiZml6enktdWktdXRpbHMvdXRpbHNcIl0sZnVuY3Rpb24odCxlKXtyZXR1cm4gbihpLHQsZSl9KTpcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cz9tb2R1bGUuZXhwb3J0cz1uKGkscmVxdWlyZShcIi4vZmxpY2tpdHlcIikscmVxdWlyZShcImZpenp5LXVpLXV0aWxzXCIpKTpuKGksaS5GbGlja2l0eSxpLmZpenp5VUlVdGlscyl9KHdpbmRvdyxmdW5jdGlvbih0LGUscil7cmV0dXJuIGUucHJvdG90eXBlLmluc2VydD1mdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMuX21ha2VDZWxscyh0KTtpZihpJiZpLmxlbmd0aCl7dmFyIG49dGhpcy5jZWxscy5sZW5ndGg7ZT12b2lkIDA9PT1lP246ZTt2YXIgbz1mdW5jdGlvbih0KXtmb3IodmFyIGU9ZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLGk9MCxuPXQubGVuZ3RoO2k8bjtpKyspe3ZhciBvPXRbaV07ZS5hcHBlbmRDaGlsZChvLmVsZW1lbnQpfXJldHVybiBlfShpKSxzPWU9PW47aWYocyl0aGlzLnNsaWRlci5hcHBlbmRDaGlsZChvKTtlbHNle3ZhciByPXRoaXMuY2VsbHNbZV0uZWxlbWVudDt0aGlzLnNsaWRlci5pbnNlcnRCZWZvcmUobyxyKX1pZigwPT09ZSl0aGlzLmNlbGxzPWkuY29uY2F0KHRoaXMuY2VsbHMpO2Vsc2UgaWYocyl0aGlzLmNlbGxzPXRoaXMuY2VsbHMuY29uY2F0KGkpO2Vsc2V7dmFyIGE9dGhpcy5jZWxscy5zcGxpY2UoZSxuLWUpO3RoaXMuY2VsbHM9dGhpcy5jZWxscy5jb25jYXQoaSkuY29uY2F0KGEpfXRoaXMuX3NpemVDZWxscyhpKTt2YXIgbD1lPnRoaXMuc2VsZWN0ZWRJbmRleD8wOmkubGVuZ3RoO3RoaXMuX2NlbGxBZGRlZFJlbW92ZWQoZSxsKX19LGUucHJvdG90eXBlLmFwcGVuZD1mdW5jdGlvbih0KXt0aGlzLmluc2VydCh0LHRoaXMuY2VsbHMubGVuZ3RoKX0sZS5wcm90b3R5cGUucHJlcGVuZD1mdW5jdGlvbih0KXt0aGlzLmluc2VydCh0LDApfSxlLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24odCl7dmFyIGUsaSxuLG89dGhpcy5nZXRDZWxscyh0KSxzPTA7Zm9yKGU9MCxpPW8ubGVuZ3RoO2U8aTtlKyspe249b1tlXSxzLT1yLmluZGV4T2YodGhpcy5jZWxscyxuKTx0aGlzLnNlbGVjdGVkSW5kZXg/MTowfWZvcihlPTAsaT1vLmxlbmd0aDtlPGk7ZSsrKShuPW9bZV0pLnJlbW92ZSgpLHIucmVtb3ZlRnJvbSh0aGlzLmNlbGxzLG4pO28ubGVuZ3RoJiZ0aGlzLl9jZWxsQWRkZWRSZW1vdmVkKDAscyl9LGUucHJvdG90eXBlLl9jZWxsQWRkZWRSZW1vdmVkPWZ1bmN0aW9uKHQsZSl7ZT1lfHwwLHRoaXMuc2VsZWN0ZWRJbmRleCs9ZSx0aGlzLnNlbGVjdGVkSW5kZXg9TWF0aC5tYXgoMCxNYXRoLm1pbih0aGlzLmNlbGxzLmxlbmd0aC0xLHRoaXMuc2VsZWN0ZWRJbmRleCkpLHRoaXMuZW1pdEV2ZW50KFwiY2VsbEFkZGVkUmVtb3ZlZFwiLFt0LGVdKSx0aGlzLmNlbGxDaGFuZ2UodCwhMCl9LGUucHJvdG90eXBlLmNlbGxTaXplQ2hhbmdlPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZ2V0Q2VsbCh0KTtpZihlKXtlLmdldFNpemUoKTt2YXIgaT1yLmluZGV4T2YodGhpcy5jZWxscyxlKTt0aGlzLmNlbGxDaGFuZ2UoaSl9fSxlLnByb3RvdHlwZS5jZWxsQ2hhbmdlPWZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5zbGlkZWFibGVXaWR0aDtpZih0aGlzLl9wb3NpdGlvbkNlbGxzKHQpLHRoaXMuX2dldFdyYXBTaGlmdENlbGxzKCksdGhpcy5zZXRHYWxsZXJ5U2l6ZSgpLHRoaXMub3B0aW9ucy5mcmVlU2Nyb2xsKXt2YXIgbj1pLXRoaXMuc2xpZGVhYmxlV2lkdGg7dGhpcy54Kz1uKnRoaXMuY2VsbEFsaWduLHRoaXMucG9zaXRpb25TbGlkZXIoKX1lbHNlIGUmJnRoaXMucG9zaXRpb25TbGlkZXJBdFNlbGVjdGVkKCksdGhpcy5zZWxlY3QodGhpcy5zZWxlY3RlZEluZGV4KX0sZX0pLGZ1bmN0aW9uKG8scyl7XCJ1c2Ugc3RyaWN0XCI7XCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShcImZsaWNraXR5L2pzL2xhenlsb2FkXCIsW1wiY2xhc3NpZS9jbGFzc2llXCIsXCJldmVudGllL2V2ZW50aWVcIixcIi4vZmxpY2tpdHlcIixcImZpenp5LXVpLXV0aWxzL3V0aWxzXCJdLGZ1bmN0aW9uKHQsZSxpLG4pe3JldHVybiBzKG8sdCxlLGksbil9KTpcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cz9tb2R1bGUuZXhwb3J0cz1zKG8scmVxdWlyZShcImRlc2FuZHJvLWNsYXNzaWVcIikscmVxdWlyZShcImV2ZW50aWVcIikscmVxdWlyZShcIi4vZmxpY2tpdHlcIikscmVxdWlyZShcImZpenp5LXVpLXV0aWxzXCIpKTpzKG8sby5jbGFzc2llLG8uZXZlbnRpZSxvLkZsaWNraXR5LG8uZml6enlVSVV0aWxzKX0od2luZG93LGZ1bmN0aW9uKHQsbyxzLGUsaSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gYSh0KXtpZihcIklNR1wiPT10Lm5vZGVOYW1lJiZ0LmdldEF0dHJpYnV0ZShcImRhdGEtZmxpY2tpdHktbGF6eWxvYWRcIikpcmV0dXJuW3RdO3ZhciBlPXQucXVlcnlTZWxlY3RvckFsbChcImltZ1tkYXRhLWZsaWNraXR5LWxhenlsb2FkXVwiKTtyZXR1cm4gaS5tYWtlQXJyYXkoZSl9ZnVuY3Rpb24gbCh0LGUpe3RoaXMuaW1nPXQsdGhpcy5mbGlja2l0eT1lLHRoaXMubG9hZCgpfXJldHVybiBlLmNyZWF0ZU1ldGhvZHMucHVzaChcIl9jcmVhdGVMYXp5bG9hZFwiKSxlLnByb3RvdHlwZS5fY3JlYXRlTGF6eWxvYWQ9ZnVuY3Rpb24oKXt0aGlzLm9uKFwiY2VsbFNlbGVjdFwiLHRoaXMubGF6eUxvYWQpfSxlLnByb3RvdHlwZS5sYXp5TG9hZD1mdW5jdGlvbigpe3ZhciB0PXRoaXMub3B0aW9ucy5sYXp5TG9hZDtpZih0KXtmb3IodmFyIGU9XCJudW1iZXJcIj09dHlwZW9mIHQ/dDowLGk9dGhpcy5nZXRBZGphY2VudENlbGxFbGVtZW50cyhlKSxuPVtdLG89MCxzPWkubGVuZ3RoO288cztvKyspe3ZhciByPWEoaVtvXSk7bj1uLmNvbmNhdChyKX1mb3Iobz0wLHM9bi5sZW5ndGg7bzxzO28rKyl7bmV3IGwobltvXSx0aGlzKX19fSxsLnByb3RvdHlwZS5oYW5kbGVFdmVudD1pLmhhbmRsZUV2ZW50LGwucHJvdG90eXBlLmxvYWQ9ZnVuY3Rpb24oKXtzLmJpbmQodGhpcy5pbWcsXCJsb2FkXCIsdGhpcykscy5iaW5kKHRoaXMuaW1nLFwiZXJyb3JcIix0aGlzKSx0aGlzLmltZy5zcmM9dGhpcy5pbWcuZ2V0QXR0cmlidXRlKFwiZGF0YS1mbGlja2l0eS1sYXp5bG9hZFwiKSx0aGlzLmltZy5yZW1vdmVBdHRyaWJ1dGUoXCJkYXRhLWZsaWNraXR5LWxhenlsb2FkXCIpfSxsLnByb3RvdHlwZS5vbmxvYWQ9ZnVuY3Rpb24odCl7dGhpcy5jb21wbGV0ZSh0LFwiZmxpY2tpdHktbGF6eWxvYWRlZFwiKX0sbC5wcm90b3R5cGUub25lcnJvcj1mdW5jdGlvbih0KXt0aGlzLmNvbXBsZXRlKHQsXCJmbGlja2l0eS1sYXp5ZXJyb3JcIil9LGwucHJvdG90eXBlLmNvbXBsZXRlPWZ1bmN0aW9uKHQsZSl7cy51bmJpbmQodGhpcy5pbWcsXCJsb2FkXCIsdGhpcykscy51bmJpbmQodGhpcy5pbWcsXCJlcnJvclwiLHRoaXMpO3ZhciBpPXRoaXMuZmxpY2tpdHkuZ2V0UGFyZW50Q2VsbCh0aGlzLmltZyksbj1pJiZpLmVsZW1lbnQ7dGhpcy5mbGlja2l0eS5jZWxsU2l6ZUNoYW5nZShuKSxvLmFkZCh0aGlzLmltZyxlKSx0aGlzLmZsaWNraXR5LmRpc3BhdGNoRXZlbnQoXCJsYXp5TG9hZFwiLHQsbil9LGUuTGF6eUxvYWRlcj1sLGV9KSxmdW5jdGlvbih0LGUpe1widXNlIHN0cmljdFwiO1wiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoXCJmbGlja2l0eS9qcy9pbmRleFwiLFtcIi4vZmxpY2tpdHlcIixcIi4vZHJhZ1wiLFwiLi9wcmV2LW5leHQtYnV0dG9uXCIsXCIuL3BhZ2UtZG90c1wiLFwiLi9wbGF5ZXJcIixcIi4vYWRkLXJlbW92ZS1jZWxsXCIsXCIuL2xhenlsb2FkXCJdLGUpOlwib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzJiYobW9kdWxlLmV4cG9ydHM9ZShyZXF1aXJlKFwiLi9mbGlja2l0eVwiKSxyZXF1aXJlKFwiLi9kcmFnXCIpLHJlcXVpcmUoXCIuL3ByZXYtbmV4dC1idXR0b25cIikscmVxdWlyZShcIi4vcGFnZS1kb3RzXCIpLHJlcXVpcmUoXCIuL3BsYXllclwiKSxyZXF1aXJlKFwiLi9hZGQtcmVtb3ZlLWNlbGxcIikscmVxdWlyZShcIi4vbGF6eWxvYWRcIikpKX0od2luZG93LGZ1bmN0aW9uKHQpe3JldHVybiB0fSksZnVuY3Rpb24obixvKXtcInVzZSBzdHJpY3RcIjtcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFwiZmxpY2tpdHktYXMtbmF2LWZvci9hcy1uYXYtZm9yXCIsW1wiY2xhc3NpZS9jbGFzc2llXCIsXCJmbGlja2l0eS9qcy9pbmRleFwiLFwiZml6enktdWktdXRpbHMvdXRpbHNcIl0sZnVuY3Rpb24odCxlLGkpe3JldHVybiBvKG4sdCxlLGkpfSk6XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHM/bW9kdWxlLmV4cG9ydHM9byhuLHJlcXVpcmUoXCJkZXNhbmRyby1jbGFzc2llXCIpLHJlcXVpcmUoXCJmbGlja2l0eVwiKSxyZXF1aXJlKFwiZml6enktdWktdXRpbHNcIikpOm4uRmxpY2tpdHk9byhuLG4uY2xhc3NpZSxuLkZsaWNraXR5LG4uZml6enlVSVV0aWxzKX0od2luZG93LGZ1bmN0aW9uKHQsZSxuLG8pe3JldHVybiBuLmNyZWF0ZU1ldGhvZHMucHVzaChcIl9jcmVhdGVBc05hdkZvclwiKSxuLnByb3RvdHlwZS5fY3JlYXRlQXNOYXZGb3I9ZnVuY3Rpb24oKXt0aGlzLm9uKFwiYWN0aXZhdGVcIix0aGlzLmFjdGl2YXRlQXNOYXZGb3IpLHRoaXMub24oXCJkZWFjdGl2YXRlXCIsdGhpcy5kZWFjdGl2YXRlQXNOYXZGb3IpLHRoaXMub24oXCJkZXN0cm95XCIsdGhpcy5kZXN0cm95QXNOYXZGb3IpO3ZhciB0PXRoaXMub3B0aW9ucy5hc05hdkZvcjtpZih0KXt2YXIgZT10aGlzO3NldFRpbWVvdXQoZnVuY3Rpb24oKXtlLnNldE5hdkNvbXBhbmlvbih0KX0pfX0sbi5wcm90b3R5cGUuc2V0TmF2Q29tcGFuaW9uPWZ1bmN0aW9uKHQpe3Q9by5nZXRRdWVyeUVsZW1lbnQodCk7dmFyIGU9bi5kYXRhKHQpO2lmKGUmJmUhPXRoaXMpe3RoaXMubmF2Q29tcGFuaW9uPWU7dmFyIGk9dGhpczt0aGlzLm9uTmF2Q29tcGFuaW9uU2VsZWN0PWZ1bmN0aW9uKCl7aS5uYXZDb21wYW5pb25TZWxlY3QoKX0sZS5vbihcImNlbGxTZWxlY3RcIix0aGlzLm9uTmF2Q29tcGFuaW9uU2VsZWN0KSx0aGlzLm9uKFwic3RhdGljQ2xpY2tcIix0aGlzLm9uTmF2U3RhdGljQ2xpY2spLHRoaXMubmF2Q29tcGFuaW9uU2VsZWN0KCl9fSxuLnByb3RvdHlwZS5uYXZDb21wYW5pb25TZWxlY3Q9ZnVuY3Rpb24oKXtpZih0aGlzLm5hdkNvbXBhbmlvbil7dmFyIHQ9dGhpcy5uYXZDb21wYW5pb24uc2VsZWN0ZWRJbmRleDt0aGlzLnNlbGVjdCh0KSx0aGlzLnJlbW92ZU5hdlNlbGVjdGVkRWxlbWVudCgpLHRoaXMuc2VsZWN0ZWRJbmRleD09dCYmKHRoaXMubmF2U2VsZWN0ZWRFbGVtZW50PXRoaXMuY2VsbHNbdF0uZWxlbWVudCxlLmFkZCh0aGlzLm5hdlNlbGVjdGVkRWxlbWVudCxcImlzLW5hdi1zZWxlY3RlZFwiKSl9fSxuLnByb3RvdHlwZS5hY3RpdmF0ZUFzTmF2Rm9yPWZ1bmN0aW9uKCl7dGhpcy5uYXZDb21wYW5pb25TZWxlY3QoKX0sbi5wcm90b3R5cGUucmVtb3ZlTmF2U2VsZWN0ZWRFbGVtZW50PWZ1bmN0aW9uKCl7dGhpcy5uYXZTZWxlY3RlZEVsZW1lbnQmJihlLnJlbW92ZSh0aGlzLm5hdlNlbGVjdGVkRWxlbWVudCxcImlzLW5hdi1zZWxlY3RlZFwiKSxkZWxldGUgdGhpcy5uYXZTZWxlY3RlZEVsZW1lbnQpfSxuLnByb3RvdHlwZS5vbk5hdlN0YXRpY0NsaWNrPWZ1bmN0aW9uKHQsZSxpLG4pe1wibnVtYmVyXCI9PXR5cGVvZiBuJiZ0aGlzLm5hdkNvbXBhbmlvbi5zZWxlY3Qobil9LG4ucHJvdG90eXBlLmRlYWN0aXZhdGVBc05hdkZvcj1mdW5jdGlvbigpe3RoaXMucmVtb3ZlTmF2U2VsZWN0ZWRFbGVtZW50KCl9LG4ucHJvdG90eXBlLmRlc3Ryb3lBc05hdkZvcj1mdW5jdGlvbigpe3RoaXMubmF2Q29tcGFuaW9uJiYodGhpcy5uYXZDb21wYW5pb24ub2ZmKFwiY2VsbFNlbGVjdFwiLHRoaXMub25OYXZDb21wYW5pb25TZWxlY3QpLHRoaXMub2ZmKFwic3RhdGljQ2xpY2tcIix0aGlzLm9uTmF2U3RhdGljQ2xpY2spLGRlbGV0ZSB0aGlzLm5hdkNvbXBhbmlvbil9LG59KSxmdW5jdGlvbihpLG4pe1widXNlIHN0cmljdFwiO1wiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoXCJpbWFnZXNsb2FkZWQvaW1hZ2VzbG9hZGVkXCIsW1wiZXZlbnRFbWl0dGVyL0V2ZW50RW1pdHRlclwiLFwiZXZlbnRpZS9ldmVudGllXCJdLGZ1bmN0aW9uKHQsZSl7cmV0dXJuIG4oaSx0LGUpfSk6XCJvYmplY3RcIj09dHlwZW9mIG1vZHVsZSYmbW9kdWxlLmV4cG9ydHM/bW9kdWxlLmV4cG9ydHM9bihpLHJlcXVpcmUoXCJ3b2xmeTg3LWV2ZW50ZW1pdHRlclwiKSxyZXF1aXJlKFwiZXZlbnRpZVwiKSk6aS5pbWFnZXNMb2FkZWQ9bihpLGkuRXZlbnRFbWl0dGVyLGkuZXZlbnRpZSl9KHdpbmRvdyxmdW5jdGlvbihlLHQsaSl7dmFyIG89ZS5qUXVlcnksbj1lLmNvbnNvbGU7ZnVuY3Rpb24gcyh0LGUpe2Zvcih2YXIgaSBpbiBlKXRbaV09ZVtpXTtyZXR1cm4gdH12YXIgcj1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO2Z1bmN0aW9uIGEodCl7dmFyIGUsaT1bXTtpZihlPXQsXCJbb2JqZWN0IEFycmF5XVwiPT1yLmNhbGwoZSkpaT10O2Vsc2UgaWYoXCJudW1iZXJcIj09dHlwZW9mIHQubGVuZ3RoKWZvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKWkucHVzaCh0W25dKTtlbHNlIGkucHVzaCh0KTtyZXR1cm4gaX1mdW5jdGlvbiBsKHQsZSxpKXtpZighKHRoaXMgaW5zdGFuY2VvZiBsKSlyZXR1cm4gbmV3IGwodCxlLGkpO1wic3RyaW5nXCI9PXR5cGVvZiB0JiYodD1kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHQpKSx0aGlzLmVsZW1lbnRzPWEodCksdGhpcy5vcHRpb25zPXMoe30sdGhpcy5vcHRpb25zKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlP2k9ZTpzKHRoaXMub3B0aW9ucyxlKSxpJiZ0aGlzLm9uKFwiYWx3YXlzXCIsaSksdGhpcy5nZXRJbWFnZXMoKSxvJiYodGhpcy5qcURlZmVycmVkPW5ldyBvLkRlZmVycmVkKTt2YXIgbj10aGlzO3NldFRpbWVvdXQoZnVuY3Rpb24oKXtuLmNoZWNrKCl9KX0obC5wcm90b3R5cGU9bmV3IHQpLm9wdGlvbnM9e30sbC5wcm90b3R5cGUuZ2V0SW1hZ2VzPWZ1bmN0aW9uKCl7dGhpcy5pbWFnZXM9W107Zm9yKHZhciB0PTA7dDx0aGlzLmVsZW1lbnRzLmxlbmd0aDt0Kyspe3ZhciBlPXRoaXMuZWxlbWVudHNbdF07dGhpcy5hZGRFbGVtZW50SW1hZ2VzKGUpfX0sbC5wcm90b3R5cGUuYWRkRWxlbWVudEltYWdlcz1mdW5jdGlvbih0KXtcIklNR1wiPT10Lm5vZGVOYW1lJiZ0aGlzLmFkZEltYWdlKHQpLCEwPT09dGhpcy5vcHRpb25zLmJhY2tncm91bmQmJnRoaXMuYWRkRWxlbWVudEJhY2tncm91bmRJbWFnZXModCk7dmFyIGU9dC5ub2RlVHlwZTtpZihlJiZoW2VdKXtmb3IodmFyIGk9dC5xdWVyeVNlbGVjdG9yQWxsKFwiaW1nXCIpLG49MDtuPGkubGVuZ3RoO24rKyl7dmFyIG89aVtuXTt0aGlzLmFkZEltYWdlKG8pfWlmKFwic3RyaW5nXCI9PXR5cGVvZiB0aGlzLm9wdGlvbnMuYmFja2dyb3VuZCl7dmFyIHM9dC5xdWVyeVNlbGVjdG9yQWxsKHRoaXMub3B0aW9ucy5iYWNrZ3JvdW5kKTtmb3Iobj0wO248cy5sZW5ndGg7bisrKXt2YXIgcj1zW25dO3RoaXMuYWRkRWxlbWVudEJhY2tncm91bmRJbWFnZXMocil9fX19O3ZhciBoPXsxOiEwLDk6ITAsMTE6ITB9O2wucHJvdG90eXBlLmFkZEVsZW1lbnRCYWNrZ3JvdW5kSW1hZ2VzPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1jKHQpLGk9L3VybFxcKFsnXCJdKihbXidcIlxcKV0rKVsnXCJdKlxcKS9naSxuPWkuZXhlYyhlLmJhY2tncm91bmRJbWFnZSk7bnVsbCE9PW47KXt2YXIgbz1uJiZuWzFdO28mJnRoaXMuYWRkQmFja2dyb3VuZChvLHQpLG49aS5leGVjKGUuYmFja2dyb3VuZEltYWdlKX19O3ZhciBjPWUuZ2V0Q29tcHV0ZWRTdHlsZXx8ZnVuY3Rpb24odCl7cmV0dXJuIHQuY3VycmVudFN0eWxlfTtmdW5jdGlvbiBkKHQpe3RoaXMuaW1nPXR9ZnVuY3Rpb24gdSh0LGUpe3RoaXMudXJsPXQsdGhpcy5lbGVtZW50PWUsdGhpcy5pbWc9bmV3IEltYWdlfXJldHVybiBsLnByb3RvdHlwZS5hZGRJbWFnZT1mdW5jdGlvbih0KXt2YXIgZT1uZXcgZCh0KTt0aGlzLmltYWdlcy5wdXNoKGUpfSxsLnByb3RvdHlwZS5hZGRCYWNrZ3JvdW5kPWZ1bmN0aW9uKHQsZSl7dmFyIGk9bmV3IHUodCxlKTt0aGlzLmltYWdlcy5wdXNoKGkpfSxsLnByb3RvdHlwZS5jaGVjaz1mdW5jdGlvbigpe3ZhciBuPXRoaXM7aWYodGhpcy5wcm9ncmVzc2VkQ291bnQ9MCx0aGlzLmhhc0FueUJyb2tlbj0hMSx0aGlzLmltYWdlcy5sZW5ndGgpZm9yKHZhciB0PTA7dDx0aGlzLmltYWdlcy5sZW5ndGg7dCsrKXt2YXIgZT10aGlzLmltYWdlc1t0XTtlLm9uY2UoXCJwcm9ncmVzc1wiLGkpLGUuY2hlY2soKX1lbHNlIHRoaXMuY29tcGxldGUoKTtmdW5jdGlvbiBpKHQsZSxpKXtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7bi5wcm9ncmVzcyh0LGUsaSl9KX19LGwucHJvdG90eXBlLnByb2dyZXNzPWZ1bmN0aW9uKHQsZSxpKXt0aGlzLnByb2dyZXNzZWRDb3VudCsrLHRoaXMuaGFzQW55QnJva2VuPXRoaXMuaGFzQW55QnJva2VufHwhdC5pc0xvYWRlZCx0aGlzLmVtaXQoXCJwcm9ncmVzc1wiLHRoaXMsdCxlKSx0aGlzLmpxRGVmZXJyZWQmJnRoaXMuanFEZWZlcnJlZC5ub3RpZnkmJnRoaXMuanFEZWZlcnJlZC5ub3RpZnkodGhpcyx0KSx0aGlzLnByb2dyZXNzZWRDb3VudD09dGhpcy5pbWFnZXMubGVuZ3RoJiZ0aGlzLmNvbXBsZXRlKCksdGhpcy5vcHRpb25zLmRlYnVnJiZuJiZuLmxvZyhcInByb2dyZXNzOiBcIitpLHQsZSl9LGwucHJvdG90eXBlLmNvbXBsZXRlPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5oYXNBbnlCcm9rZW4/XCJmYWlsXCI6XCJkb25lXCI7aWYodGhpcy5pc0NvbXBsZXRlPSEwLHRoaXMuZW1pdCh0LHRoaXMpLHRoaXMuZW1pdChcImFsd2F5c1wiLHRoaXMpLHRoaXMuanFEZWZlcnJlZCl7dmFyIGU9dGhpcy5oYXNBbnlCcm9rZW4/XCJyZWplY3RcIjpcInJlc29sdmVcIjt0aGlzLmpxRGVmZXJyZWRbZV0odGhpcyl9fSwoZC5wcm90b3R5cGU9bmV3IHQpLmNoZWNrPWZ1bmN0aW9uKCl7dGhpcy5nZXRJc0ltYWdlQ29tcGxldGUoKT90aGlzLmNvbmZpcm0oMCE9PXRoaXMuaW1nLm5hdHVyYWxXaWR0aCxcIm5hdHVyYWxXaWR0aFwiKToodGhpcy5wcm94eUltYWdlPW5ldyBJbWFnZSxpLmJpbmQodGhpcy5wcm94eUltYWdlLFwibG9hZFwiLHRoaXMpLGkuYmluZCh0aGlzLnByb3h5SW1hZ2UsXCJlcnJvclwiLHRoaXMpLGkuYmluZCh0aGlzLmltZyxcImxvYWRcIix0aGlzKSxpLmJpbmQodGhpcy5pbWcsXCJlcnJvclwiLHRoaXMpLHRoaXMucHJveHlJbWFnZS5zcmM9dGhpcy5pbWcuc3JjKX0sZC5wcm90b3R5cGUuZ2V0SXNJbWFnZUNvbXBsZXRlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaW1nLmNvbXBsZXRlJiZ2b2lkIDAhPT10aGlzLmltZy5uYXR1cmFsV2lkdGh9LGQucHJvdG90eXBlLmNvbmZpcm09ZnVuY3Rpb24odCxlKXt0aGlzLmlzTG9hZGVkPXQsdGhpcy5lbWl0KFwicHJvZ3Jlc3NcIix0aGlzLHRoaXMuaW1nLGUpfSxkLnByb3RvdHlwZS5oYW5kbGVFdmVudD1mdW5jdGlvbih0KXt2YXIgZT1cIm9uXCIrdC50eXBlO3RoaXNbZV0mJnRoaXNbZV0odCl9LGQucHJvdG90eXBlLm9ubG9hZD1mdW5jdGlvbigpe3RoaXMuY29uZmlybSghMCxcIm9ubG9hZFwiKSx0aGlzLnVuYmluZEV2ZW50cygpfSxkLnByb3RvdHlwZS5vbmVycm9yPWZ1bmN0aW9uKCl7dGhpcy5jb25maXJtKCExLFwib25lcnJvclwiKSx0aGlzLnVuYmluZEV2ZW50cygpfSxkLnByb3RvdHlwZS51bmJpbmRFdmVudHM9ZnVuY3Rpb24oKXtpLnVuYmluZCh0aGlzLnByb3h5SW1hZ2UsXCJsb2FkXCIsdGhpcyksaS51bmJpbmQodGhpcy5wcm94eUltYWdlLFwiZXJyb3JcIix0aGlzKSxpLnVuYmluZCh0aGlzLmltZyxcImxvYWRcIix0aGlzKSxpLnVuYmluZCh0aGlzLmltZyxcImVycm9yXCIsdGhpcyl9LCh1LnByb3RvdHlwZT1uZXcgZCkuY2hlY2s9ZnVuY3Rpb24oKXtpLmJpbmQodGhpcy5pbWcsXCJsb2FkXCIsdGhpcyksaS5iaW5kKHRoaXMuaW1nLFwiZXJyb3JcIix0aGlzKSx0aGlzLmltZy5zcmM9dGhpcy51cmwsdGhpcy5nZXRJc0ltYWdlQ29tcGxldGUoKSYmKHRoaXMuY29uZmlybSgwIT09dGhpcy5pbWcubmF0dXJhbFdpZHRoLFwibmF0dXJhbFdpZHRoXCIpLHRoaXMudW5iaW5kRXZlbnRzKCkpfSx1LnByb3RvdHlwZS51bmJpbmRFdmVudHM9ZnVuY3Rpb24oKXtpLnVuYmluZCh0aGlzLmltZyxcImxvYWRcIix0aGlzKSxpLnVuYmluZCh0aGlzLmltZyxcImVycm9yXCIsdGhpcyl9LHUucHJvdG90eXBlLmNvbmZpcm09ZnVuY3Rpb24odCxlKXt0aGlzLmlzTG9hZGVkPXQsdGhpcy5lbWl0KFwicHJvZ3Jlc3NcIix0aGlzLHRoaXMuZWxlbWVudCxlKX0sbC5tYWtlSlF1ZXJ5UGx1Z2luPWZ1bmN0aW9uKHQpeyh0PXR8fGUualF1ZXJ5KSYmKChvPXQpLmZuLmltYWdlc0xvYWRlZD1mdW5jdGlvbih0LGUpe3JldHVybiBuZXcgbCh0aGlzLHQsZSkuanFEZWZlcnJlZC5wcm9taXNlKG8odGhpcykpfSl9LGwubWFrZUpRdWVyeVBsdWdpbigpLGx9KSxmdW5jdGlvbihpLG4pe1widXNlIHN0cmljdFwiO1wiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoW1wiZmxpY2tpdHkvanMvaW5kZXhcIixcImltYWdlc2xvYWRlZC9pbWFnZXNsb2FkZWRcIl0sZnVuY3Rpb24odCxlKXtyZXR1cm4gbihpLHQsZSl9KTpcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cz9tb2R1bGUuZXhwb3J0cz1uKGkscmVxdWlyZShcImZsaWNraXR5XCIpLHJlcXVpcmUoXCJpbWFnZXNsb2FkZWRcIikpOmkuRmxpY2tpdHk9bihpLGkuRmxpY2tpdHksaS5pbWFnZXNMb2FkZWQpfSh3aW5kb3csZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO3JldHVybiBlLmNyZWF0ZU1ldGhvZHMucHVzaChcIl9jcmVhdGVJbWFnZXNMb2FkZWRcIiksZS5wcm90b3R5cGUuX2NyZWF0ZUltYWdlc0xvYWRlZD1mdW5jdGlvbigpe3RoaXMub24oXCJhY3RpdmF0ZVwiLHRoaXMuaW1hZ2VzTG9hZGVkKX0sZS5wcm90b3R5cGUuaW1hZ2VzTG9hZGVkPWZ1bmN0aW9uKCl7aWYodGhpcy5vcHRpb25zLmltYWdlc0xvYWRlZCl7dmFyIG49dGhpcztpKHRoaXMuc2xpZGVyKS5vbihcInByb2dyZXNzXCIsZnVuY3Rpb24odCxlKXt2YXIgaT1uLmdldFBhcmVudENlbGwoZS5pbWcpO24uY2VsbFNpemVDaGFuZ2UoaSYmaS5lbGVtZW50KSxuLm9wdGlvbnMuZnJlZVNjcm9sbHx8bi5wb3NpdGlvblNsaWRlckF0U2VsZWN0ZWQoKX0pfX0sZX0pLCQoZnVuY3Rpb24oKXskKFwiLm1haW4tbmF2XCIpLnNldHVwX25hdmlnYXRpb24oKX0pO3ZhciBrZXlDb2RlTWFwPXs0ODpcIjBcIiw0OTpcIjFcIiw1MDpcIjJcIiw1MTpcIjNcIiw1MjpcIjRcIiw1MzpcIjVcIiw1NDpcIjZcIiw1NTpcIjdcIiw1NjpcIjhcIiw1NzpcIjlcIiw1OTpcIjtcIiw2NTpcImFcIiw2NjpcImJcIiw2NzpcImNcIiw2ODpcImRcIiw2OTpcImVcIiw3MDpcImZcIiw3MTpcImdcIiw3MjpcImhcIiw3MzpcImlcIiw3NDpcImpcIiw3NTpcImtcIiw3NjpcImxcIiw3NzpcIm1cIiw3ODpcIm5cIiw3OTpcIm9cIiw4MDpcInBcIiw4MTpcInFcIiw4MjpcInJcIiw4MzpcInNcIiw4NDpcInRcIiw4NTpcInVcIiw4NjpcInZcIiw4NzpcIndcIiw4ODpcInhcIiw4OTpcInlcIiw5MDpcInpcIiw5NjpcIjBcIiw5NzpcIjFcIiw5ODpcIjJcIiw5OTpcIjNcIiwxMDA6XCI0XCIsMTAxOlwiNVwiLDEwMjpcIjZcIiwxMDM6XCI3XCIsMTA0OlwiOFwiLDEwNTpcIjlcIn07JC5mbi5zZXR1cF9uYXZpZ2F0aW9uPWZ1bmN0aW9uKGkpe2k9alF1ZXJ5LmV4dGVuZCh7bWVudUhvdmVyQ2xhc3M6XCJzaG93LW1lbnVcIn0saSksJCh0aGlzKS5hdHRyKFwicm9sZVwiLFwibWVudWJhclwiKS5maW5kKFwibGlcIikuYXR0cihcInJvbGVcIixcIm1lbnVpdGVtXCIpO3ZhciB0PSQodGhpcykuZmluZChcIj4gbGkgPiBhXCIpOyQodCkubmV4dChcInVsXCIpLmF0dHIoXCJkYXRhLXRlc3RcIixcInRydWVcIikuYXR0cih7XCJhcmlhLWhpZGRlblwiOlwidHJ1ZVwiLHJvbGU6XCJtZW51XCJ9KS5maW5kKFwiYVwiKS5hdHRyKFwidGFiSW5kZXhcIiwtMSksJCh0KS5lYWNoKGZ1bmN0aW9uKCl7MDwkKHRoaXMpLm5leHQoXCJ1bFwiKS5sZW5ndGgmJiQodGhpcykucGFyZW50KFwibGlcIikuYXR0cihcImFyaWEtaGFzcG9wdXBcIixcInRydWVcIil9KSwkKHQpLmhvdmVyKGZ1bmN0aW9uKCl7JCh0aGlzKS5jbG9zZXN0KFwidWxcIikuYXR0cihcImFyaWEtaGlkZGVuXCIsXCJmYWxzZVwiKS5maW5kKFwiLlwiK2kubWVudUhvdmVyQ2xhc3MpLmF0dHIoXCJhcmlhLWhpZGRlblwiLFwidHJ1ZVwiKS5yZW1vdmVDbGFzcyhpLm1lbnVIb3ZlckNsYXNzKS5maW5kKFwiYVwiKS5hdHRyKFwidGFiSW5kZXhcIiwtMSksJCh0aGlzKS5uZXh0KFwidWxcIikuYXR0cihcImFyaWEtaGlkZGVuXCIsXCJmYWxzZVwiKS5maW5kKFwiYVwiKS5hdHRyKFwidGFiSW5kZXhcIiwwKX0pLCQodCkuZm9jdXMoZnVuY3Rpb24oKXskKHRoaXMpLmNsb3Nlc3QoXCJ1bFwiKS5maW5kKFwiLlwiK2kubWVudUhvdmVyQ2xhc3MpLmF0dHIoXCJhcmlhLWhpZGRlblwiLFwidHJ1ZVwiKS5yZW1vdmVDbGFzcyhpLm1lbnVIb3ZlckNsYXNzKS5maW5kKFwiYVwiKS5hdHRyKFwidGFiSW5kZXhcIiwtMSksJCh0aGlzKS5uZXh0KFwidWxcIikuYXR0cihcImFyaWEtaGlkZGVuXCIsXCJmYWxzZVwiKS5hZGRDbGFzcyhpLm1lbnVIb3ZlckNsYXNzKS5maW5kKFwiYVwiKS5hdHRyKFwidGFiSW5kZXhcIiwwKX0pLCQodCkua2V5ZG93bihmdW5jdGlvbih0KXszNz09dC5rZXlDb2RlPyh0LnByZXZlbnREZWZhdWx0KCksMD09JCh0aGlzKS5wYXJlbnQoXCJsaVwiKS5wcmV2KFwibGlcIikubGVuZ3RoPyQodGhpcykucGFyZW50cyhcInVsXCIpLmZpbmQoXCI+IGxpXCIpLmxhc3QoKS5maW5kKFwiYVwiKS5maXJzdCgpLmZvY3VzKCk6JCh0aGlzKS5wYXJlbnQoXCJsaVwiKS5wcmV2KFwibGlcIikuZmluZChcImFcIikuZmlyc3QoKS5mb2N1cygpKTozOD09dC5rZXlDb2RlPyh0LnByZXZlbnREZWZhdWx0KCksMDwkKHRoaXMpLnBhcmVudChcImxpXCIpLmZpbmQoXCJ1bFwiKS5sZW5ndGgmJiQodGhpcykucGFyZW50KFwibGlcIikuZmluZChcInVsXCIpLmF0dHIoXCJhcmlhLWhpZGRlblwiLFwiZmFsc2VcIikuYWRkQ2xhc3MoaS5tZW51SG92ZXJDbGFzcykuZmluZChcImFcIikuYXR0cihcInRhYkluZGV4XCIsMCkubGFzdCgpLmZvY3VzKCkpOjM5PT10LmtleUNvZGU/KHQucHJldmVudERlZmF1bHQoKSwwPT0kKHRoaXMpLnBhcmVudChcImxpXCIpLm5leHQoXCJsaVwiKS5sZW5ndGg/JCh0aGlzKS5wYXJlbnRzKFwidWxcIikuZmluZChcIj4gbGlcIikuZmlyc3QoKS5maW5kKFwiYVwiKS5maXJzdCgpLmZvY3VzKCk6JCh0aGlzKS5wYXJlbnQoXCJsaVwiKS5uZXh0KFwibGlcIikuZmluZChcImFcIikuZmlyc3QoKS5mb2N1cygpKTo0MD09dC5rZXlDb2RlPyh0LnByZXZlbnREZWZhdWx0KCksMDwkKHRoaXMpLnBhcmVudChcImxpXCIpLmZpbmQoXCJ1bFwiKS5sZW5ndGgmJiQodGhpcykucGFyZW50KFwibGlcIikuZmluZChcInVsXCIpLmF0dHIoXCJhcmlhLWhpZGRlblwiLFwiZmFsc2VcIikuYWRkQ2xhc3MoaS5tZW51SG92ZXJDbGFzcykuZmluZChcImFcIikuYXR0cihcInRhYkluZGV4XCIsMCkuZmlyc3QoKS5mb2N1cygpKToxMz09dC5rZXlDb2RlfHwzMj09dC5rZXlDb2RlPyh0LnByZXZlbnREZWZhdWx0KCksJCh0aGlzKS5wYXJlbnQoXCJsaVwiKS5maW5kKFwidWxbYXJpYS1oaWRkZW49dHJ1ZV1cIikuYXR0cihcImFyaWEtaGlkZGVuXCIsXCJmYWxzZVwiKS5hZGRDbGFzcyhpLm1lbnVIb3ZlckNsYXNzKS5maW5kKFwiYVwiKS5hdHRyKFwidGFiSW5kZXhcIiwwKS5maXJzdCgpLmZvY3VzKCkpOjI3PT10LmtleUNvZGU/KHQucHJldmVudERlZmF1bHQoKSwkKFwiLlwiK2kubWVudUhvdmVyQ2xhc3MpLmF0dHIoXCJhcmlhLWhpZGRlblwiLFwidHJ1ZVwiKS5yZW1vdmVDbGFzcyhpLm1lbnVIb3ZlckNsYXNzKS5maW5kKFwiYVwiKS5hdHRyKFwidGFiSW5kZXhcIiwtMSkpOiQodGhpcykucGFyZW50KFwibGlcIikuZmluZChcInVsW2FyaWEtaGlkZGVuPWZhbHNlXSBhXCIpLmVhY2goZnVuY3Rpb24oKXtpZigkKHRoaXMpLnRleHQoKS5zdWJzdHJpbmcoMCwxKS50b0xvd2VyQ2FzZSgpPT1rZXlDb2RlTWFwW3Qua2V5Q29kZV0pcmV0dXJuICQodGhpcykuZm9jdXMoKSwhMX0pfSk7dmFyIGU9JCh0KS5wYXJlbnQoXCJsaVwiKS5maW5kKFwidWxcIikuZmluZChcImFcIik7JChlKS5rZXlkb3duKGZ1bmN0aW9uKHQpe2lmKDM4PT10LmtleUNvZGUpdC5wcmV2ZW50RGVmYXVsdCgpLDA9PSQodGhpcykucGFyZW50KFwibGlcIikucHJldihcImxpXCIpLmxlbmd0aD8kKHRoaXMpLnBhcmVudHMoXCJ1bFwiKS5wYXJlbnRzKFwibGlcIikuZmluZChcImFcIikuZmlyc3QoKS5mb2N1cygpOiQodGhpcykucGFyZW50KFwibGlcIikucHJldihcImxpXCIpLmZpbmQoXCJhXCIpLmZpcnN0KCkuZm9jdXMoKTtlbHNlIGlmKDQwPT10LmtleUNvZGUpdC5wcmV2ZW50RGVmYXVsdCgpLDA9PSQodGhpcykucGFyZW50KFwibGlcIikubmV4dChcImxpXCIpLmxlbmd0aD8kKHRoaXMpLnBhcmVudHMoXCJ1bFwiKS5wYXJlbnRzKFwibGlcIikuZmluZChcImFcIikuZmlyc3QoKS5mb2N1cygpOiQodGhpcykucGFyZW50KFwibGlcIikubmV4dChcImxpXCIpLmZpbmQoXCJhXCIpLmZpcnN0KCkuZm9jdXMoKTtlbHNlIGlmKDI3PT10LmtleUNvZGV8fDM3PT10LmtleUNvZGUpdC5wcmV2ZW50RGVmYXVsdCgpLCQodGhpcykucGFyZW50cyhcInVsXCIpLmZpcnN0KCkucHJldihcImFcIikuZm9jdXMoKS5wYXJlbnRzKFwidWxcIikuZmlyc3QoKS5maW5kKFwiLlwiK2kubWVudUhvdmVyQ2xhc3MpLmF0dHIoXCJhcmlhLWhpZGRlblwiLFwidHJ1ZVwiKS5yZW1vdmVDbGFzcyhpLm1lbnVIb3ZlckNsYXNzKS5maW5kKFwiYVwiKS5hdHRyKFwidGFiSW5kZXhcIiwtMSk7ZWxzZSBpZigzMj09dC5rZXlDb2RlKXQucHJldmVudERlZmF1bHQoKSx3aW5kb3cubG9jYXRpb249JCh0aGlzKS5hdHRyKFwiaHJlZlwiKTtlbHNle3ZhciBlPSExOyQodGhpcykucGFyZW50KFwibGlcIikubmV4dEFsbChcImxpXCIpLmZpbmQoXCJhXCIpLmVhY2goZnVuY3Rpb24oKXtpZigkKHRoaXMpLnRleHQoKS5zdWJzdHJpbmcoMCwxKS50b0xvd2VyQ2FzZSgpPT1rZXlDb2RlTWFwW3Qua2V5Q29kZV0pcmV0dXJuICQodGhpcykuZm9jdXMoKSwhKGU9ITApfSksZXx8JCh0aGlzKS5wYXJlbnQoXCJsaVwiKS5wcmV2QWxsKFwibGlcIikuZmluZChcImFcIikuZWFjaChmdW5jdGlvbigpe2lmKCQodGhpcykudGV4dCgpLnN1YnN0cmluZygwLDEpLnRvTG93ZXJDYXNlKCk9PWtleUNvZGVNYXBbdC5rZXlDb2RlXSlyZXR1cm4gJCh0aGlzKS5mb2N1cygpLCExfSl9fSksJCh0aGlzKS5maW5kKFwiYVwiKS5sYXN0KCkua2V5ZG93bihmdW5jdGlvbih0KXs5PT10LmtleUNvZGUmJiQoXCIuXCIraS5tZW51SG92ZXJDbGFzcykuYXR0cihcImFyaWEtaGlkZGVuXCIsXCJ0cnVlXCIpLnJlbW92ZUNsYXNzKGkubWVudUhvdmVyQ2xhc3MpLmZpbmQoXCJhXCIpLmF0dHIoXCJ0YWJJbmRleFwiLC0xKX0pLCQoZG9jdW1lbnQpLmNsaWNrKGZ1bmN0aW9uKCl7JChcIi5cIitpLm1lbnVIb3ZlckNsYXNzKS5hdHRyKFwiYXJpYS1oaWRkZW5cIixcInRydWVcIikucmVtb3ZlQ2xhc3MoaS5tZW51SG92ZXJDbGFzcykuZmluZChcImFcIikuYXR0cihcInRhYkluZGV4XCIsLTEpfSksJCh0aGlzKS5jbGljayhmdW5jdGlvbih0KXt0LnN0b3BQcm9wYWdhdGlvbigpfSl9LCQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCl7JChcImh0bWxcIikucmVtb3ZlQ2xhc3MoXCJuby1qc1wiKSwkKFwiLnBob3RvZ2FsbGVyeS1mbGlja2l0eVwiKS5mbGlja2l0eSh7d3JhcEFyb3VuZDohMCxpbWFnZXNMb2FkZWQ6ITAsbGF6eUxvYWQ6ITAsbGF6eUxvYWQ6MixzZWxlY3RlZEF0dHJhY3Rpb246LjAxLGZyaWN0aW9uOi4xNSxwYWdlRG90czohMSxhcnJvd1NoYXBlOnt4MDozMCx4MTo2MCx5MTozMCx4Mjo2NSx5MjozMCx4Mzo1MH19KSwkKFwiLmludGVyaW9yLWZsaWNraXR5XCIpLmZsaWNraXR5KHtzZWxlY3RlZEF0dHJhY3Rpb246LjAxLGNlbGxBbGlnbjpcImxlZnRcIixmcmljdGlvbjouMTUscGFnZURvdHM6ITEsY29udGFpbjohMCxhcnJvd1NoYXBlOnt4MDozMCx4MTo2NSx5MToyNSx4Mjo2NSx5MjoyNSx4Mzo2NX19KSwkKFwiLmNkLXByaW1hcnktbmF2LXRyaWdnZXJcIikub24oXCJjbGlja1wiLGZ1bmN0aW9uKCl7JChcIi5jZC1tZW51LWljb25cIikudG9nZ2xlQ2xhc3MoXCJpcy1jbGlja2VkXCIpLCQoXCIuY2QtaGVhZGVyXCIpLnRvZ2dsZUNsYXNzKFwibWVudS1pcy1vcGVuXCIpLCQoXCIuY2QtcHJpbWFyeS1uYXZcIikuaGFzQ2xhc3MoXCJpcy12aXNpYmxlXCIpPyQoXCIuY2QtcHJpbWFyeS1uYXZcIikucmVtb3ZlQ2xhc3MoXCJpcy12aXNpYmxlXCIpLm9uZShcIndlYmtpdFRyYW5zaXRpb25FbmQgb3RyYW5zaXRpb25lbmQgb1RyYW5zaXRpb25FbmQgbXNUcmFuc2l0aW9uRW5kIHRyYW5zaXRpb25lbmRcIixmdW5jdGlvbigpeyQoXCJib2R5XCIpLnJlbW92ZUNsYXNzKFwib3ZlcmZsb3ctaGlkZGVuXCIpfSk6JChcIi5jZC1wcmltYXJ5LW5hdlwiKS5hZGRDbGFzcyhcImlzLXZpc2libGVcIikub25lKFwid2Via2l0VHJhbnNpdGlvbkVuZCBvdHJhbnNpdGlvbmVuZCBvVHJhbnNpdGlvbkVuZCBtc1RyYW5zaXRpb25FbmQgdHJhbnNpdGlvbmVuZFwiLGZ1bmN0aW9uKCl7JChcImJvZHlcIikuYWRkQ2xhc3MoXCJvdmVyZmxvdy1oaWRkZW5cIil9KX0pfSk7Il0sImZpbGUiOiJwcm9kdWN0aW9uLm1pbi5qcyIsInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
